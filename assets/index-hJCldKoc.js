(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))c(p);new MutationObserver(p=>{for(const y of p)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function d(p){const y={};return p.integrity&&(y.integrity=p.integrity),p.referrerPolicy&&(y.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?y.credentials="include":p.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function c(p){if(p.ep)return;p.ep=!0;const y=d(p);fetch(p.href,y)}})();function sh(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Ml={exports:{}},Hn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function Wg(){if(_m)return Hn;_m=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function d(c,p,y){var v=null;if(y!==void 0&&(v=""+y),p.key!==void 0&&(v=""+p.key),"key"in p){y={};for(var w in p)w!=="key"&&(y[w]=p[w])}else y=p;return p=y.ref,{$$typeof:o,type:c,key:v,ref:p!==void 0?p:null,props:y}}return Hn.Fragment=l,Hn.jsx=d,Hn.jsxs=d,Hn}var Um;function Qg(){return Um||(Um=1,Ml.exports=Wg()),Ml.exports}var n=Qg(),Rl={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function Xg(){if(qm)return le;qm=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),B=Symbol.iterator;function M(h){return h===null||typeof h!="object"?null:(h=B&&h[B]||h["@@iterator"],typeof h=="function"?h:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Q={};function X(h,k,P){this.props=h,this.context=k,this.refs=Q,this.updater=P||z}X.prototype.isReactComponent={},X.prototype.setState=function(h,k){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,k,"setState")},X.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function U(){}U.prototype=X.prototype;function ie(h,k,P){this.props=h,this.context=k,this.refs=Q,this.updater=P||z}var J=ie.prototype=new U;J.constructor=ie,W(J,X.prototype),J.isPureReactComponent=!0;var K=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function ye(h,k,P,G,Y,pe){return P=pe.ref,{$$typeof:o,type:h,key:k,ref:P!==void 0?P:null,props:pe}}function ue(h,k){return ye(h.type,k,void 0,void 0,void 0,h.props)}function V(h){return typeof h=="object"&&h!==null&&h.$$typeof===o}function te(h){var k={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(P){return k[P]})}var De=/\/+/g;function ke(h,k){return typeof h=="object"&&h!==null&&h.key!=null?te(""+h.key):k.toString(36)}function Oe(){}function Z(h){switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(Oe,Oe):(h.status="pending",h.then(function(k){h.status==="pending"&&(h.status="fulfilled",h.value=k)},function(k){h.status==="pending"&&(h.status="rejected",h.reason=k)})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}}throw h}function _(h,k,P,G,Y){var pe=typeof h;(pe==="undefined"||pe==="boolean")&&(h=null);var oe=!1;if(h===null)oe=!0;else switch(pe){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(h.$$typeof){case o:case l:oe=!0;break;case C:return oe=h._init,_(oe(h._payload),k,P,G,Y)}}if(oe)return Y=Y(h),oe=G===""?"."+ke(h,0):G,K(Y)?(P="",oe!=null&&(P=oe.replace(De,"$&/")+"/"),_(Y,k,P,"",function(si){return si})):Y!=null&&(V(Y)&&(Y=ue(Y,P+(Y.key==null||h&&h.key===Y.key?"":(""+Y.key).replace(De,"$&/")+"/")+oe)),k.push(Y)),1;oe=0;var ut=G===""?".":G+":";if(K(h))for(var Ne=0;Ne<h.length;Ne++)G=h[Ne],pe=ut+ke(G,Ne),oe+=_(G,k,P,pe,Y);else if(Ne=M(h),typeof Ne=="function")for(h=Ne.call(h),Ne=0;!(G=h.next()).done;)G=G.value,pe=ut+ke(G,Ne++),oe+=_(G,k,P,pe,Y);else if(pe==="object"){if(typeof h.then=="function")return _(Z(h),k,P,G,Y);throw k=String(h),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return oe}function S(h,k,P){if(h==null)return h;var G=[],Y=0;return _(h,G,"","",function(pe){return k.call(P,pe,Y++)}),G}function H(h){if(h._status===-1){var k=h._result;k=k(),k.then(function(P){(h._status===0||h._status===-1)&&(h._status=1,h._result=P)},function(P){(h._status===0||h._status===-1)&&(h._status=2,h._result=P)}),h._status===-1&&(h._status=0,h._result=k)}if(h._status===1)return h._result.default;throw h._result}var F=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function E(){}return le.Children={map:S,forEach:function(h,k,P){S(h,function(){k.apply(this,arguments)},P)},count:function(h){var k=0;return S(h,function(){k++}),k},toArray:function(h){return S(h,function(k){return k})||[]},only:function(h){if(!V(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},le.Component=X,le.Fragment=d,le.Profiler=p,le.PureComponent=ie,le.StrictMode=c,le.Suspense=f,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,le.__COMPILER_RUNTIME={__proto__:null,c:function(h){return q.H.useMemoCache(h)}},le.cache=function(h){return function(){return h.apply(null,arguments)}},le.cloneElement=function(h,k,P){if(h==null)throw Error("The argument must be a React element, but you passed "+h+".");var G=W({},h.props),Y=h.key,pe=void 0;if(k!=null)for(oe in k.ref!==void 0&&(pe=void 0),k.key!==void 0&&(Y=""+k.key),k)!re.call(k,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&k.ref===void 0||(G[oe]=k[oe]);var oe=arguments.length-2;if(oe===1)G.children=P;else if(1<oe){for(var ut=Array(oe),Ne=0;Ne<oe;Ne++)ut[Ne]=arguments[Ne+2];G.children=ut}return ye(h.type,Y,void 0,void 0,pe,G)},le.createContext=function(h){return h={$$typeof:v,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null},h.Provider=h,h.Consumer={$$typeof:y,_context:h},h},le.createElement=function(h,k,P){var G,Y={},pe=null;if(k!=null)for(G in k.key!==void 0&&(pe=""+k.key),k)re.call(k,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Y[G]=k[G]);var oe=arguments.length-2;if(oe===1)Y.children=P;else if(1<oe){for(var ut=Array(oe),Ne=0;Ne<oe;Ne++)ut[Ne]=arguments[Ne+2];Y.children=ut}if(h&&h.defaultProps)for(G in oe=h.defaultProps,oe)Y[G]===void 0&&(Y[G]=oe[G]);return ye(h,pe,void 0,void 0,null,Y)},le.createRef=function(){return{current:null}},le.forwardRef=function(h){return{$$typeof:w,render:h}},le.isValidElement=V,le.lazy=function(h){return{$$typeof:C,_payload:{_status:-1,_result:h},_init:H}},le.memo=function(h,k){return{$$typeof:g,type:h,compare:k===void 0?null:k}},le.startTransition=function(h){var k=q.T,P={};q.T=P;try{var G=h(),Y=q.S;Y!==null&&Y(P,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(E,F)}catch(pe){F(pe)}finally{q.T=k}},le.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},le.use=function(h){return q.H.use(h)},le.useActionState=function(h,k,P){return q.H.useActionState(h,k,P)},le.useCallback=function(h,k){return q.H.useCallback(h,k)},le.useContext=function(h){return q.H.useContext(h)},le.useDebugValue=function(){},le.useDeferredValue=function(h,k){return q.H.useDeferredValue(h,k)},le.useEffect=function(h,k,P){var G=q.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(h,k)},le.useId=function(){return q.H.useId()},le.useImperativeHandle=function(h,k,P){return q.H.useImperativeHandle(h,k,P)},le.useInsertionEffect=function(h,k){return q.H.useInsertionEffect(h,k)},le.useLayoutEffect=function(h,k){return q.H.useLayoutEffect(h,k)},le.useMemo=function(h,k){return q.H.useMemo(h,k)},le.useOptimistic=function(h,k){return q.H.useOptimistic(h,k)},le.useReducer=function(h,k,P){return q.H.useReducer(h,k,P)},le.useRef=function(h){return q.H.useRef(h)},le.useState=function(h){return q.H.useState(h)},le.useSyncExternalStore=function(h,k,P){return q.H.useSyncExternalStore(h,k,P)},le.useTransition=function(){return q.H.useTransition()},le.version="19.1.1",le}var Fm;function ql(){return Fm||(Fm=1,Rl.exports=Xg()),Rl.exports}var b=ql();const rh=sh(b);var Pl={exports:{}},Ln={},Bl={exports:{}},Il={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function Yg(){return Wm||(Wm=1,(function(o){function l(S,H){var F=S.length;S.push(H);e:for(;0<F;){var E=F-1>>>1,h=S[E];if(0<p(h,H))S[E]=H,S[F]=h,F=E;else break e}}function d(S){return S.length===0?null:S[0]}function c(S){if(S.length===0)return null;var H=S[0],F=S.pop();if(F!==H){S[0]=F;e:for(var E=0,h=S.length,k=h>>>1;E<k;){var P=2*(E+1)-1,G=S[P],Y=P+1,pe=S[Y];if(0>p(G,F))Y<h&&0>p(pe,G)?(S[E]=pe,S[Y]=F,E=Y):(S[E]=G,S[P]=F,E=P);else if(Y<h&&0>p(pe,F))S[E]=pe,S[Y]=F,E=Y;else break e}}return H}function p(S,H){var F=S.sortIndex-H.sortIndex;return F!==0?F:S.id-H.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;o.unstable_now=function(){return y.now()}}else{var v=Date,w=v.now();o.unstable_now=function(){return v.now()-w}}var f=[],g=[],C=1,B=null,M=3,z=!1,W=!1,Q=!1,X=!1,U=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function K(S){for(var H=d(g);H!==null;){if(H.callback===null)c(g);else if(H.startTime<=S)c(g),H.sortIndex=H.expirationTime,l(f,H);else break;H=d(g)}}function q(S){if(Q=!1,K(S),!W)if(d(f)!==null)W=!0,re||(re=!0,ke());else{var H=d(g);H!==null&&_(q,H.startTime-S)}}var re=!1,ye=-1,ue=5,V=-1;function te(){return X?!0:!(o.unstable_now()-V<ue)}function De(){if(X=!1,re){var S=o.unstable_now();V=S;var H=!0;try{e:{W=!1,Q&&(Q=!1,ie(ye),ye=-1),z=!0;var F=M;try{t:{for(K(S),B=d(f);B!==null&&!(B.expirationTime>S&&te());){var E=B.callback;if(typeof E=="function"){B.callback=null,M=B.priorityLevel;var h=E(B.expirationTime<=S);if(S=o.unstable_now(),typeof h=="function"){B.callback=h,K(S),H=!0;break t}B===d(f)&&c(f),K(S)}else c(f);B=d(f)}if(B!==null)H=!0;else{var k=d(g);k!==null&&_(q,k.startTime-S),H=!1}}break e}finally{B=null,M=F,z=!1}H=void 0}}finally{H?ke():re=!1}}}var ke;if(typeof J=="function")ke=function(){J(De)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Z=Oe.port2;Oe.port1.onmessage=De,ke=function(){Z.postMessage(null)}}else ke=function(){U(De,0)};function _(S,H){ye=U(function(){S(o.unstable_now())},H)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(S){S.callback=null},o.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<S?Math.floor(1e3/S):5},o.unstable_getCurrentPriorityLevel=function(){return M},o.unstable_next=function(S){switch(M){case 1:case 2:case 3:var H=3;break;default:H=M}var F=M;M=H;try{return S()}finally{M=F}},o.unstable_requestPaint=function(){X=!0},o.unstable_runWithPriority=function(S,H){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var F=M;M=S;try{return H()}finally{M=F}},o.unstable_scheduleCallback=function(S,H,F){var E=o.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?E+F:E):F=E,S){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return h=F+h,S={id:C++,callback:H,priorityLevel:S,startTime:F,expirationTime:h,sortIndex:-1},F>E?(S.sortIndex=F,l(g,S),d(f)===null&&S===d(g)&&(Q?(ie(ye),ye=-1):Q=!0,_(q,F-E))):(S.sortIndex=h,l(f,S),W||z||(W=!0,re||(re=!0,ke()))),S},o.unstable_shouldYield=te,o.unstable_wrapCallback=function(S){var H=M;return function(){var F=M;M=H;try{return S.apply(this,arguments)}finally{M=F}}}})(Il)),Il}var Qm;function Kg(){return Qm||(Qm=1,Bl.exports=Yg()),Bl.exports}var Hl={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Zg(){if(Xm)return $e;Xm=1;var o=ql();function l(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)g+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var c={d:{f:d,r:function(){throw Error(l(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},p=Symbol.for("react.portal");function y(f,g,C){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:B==null?null:""+B,children:f,containerInfo:g,implementation:C}}var v=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,$e.createPortal=function(f,g){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(l(299));return y(f,g,null,C)},$e.flushSync=function(f){var g=v.T,C=c.p;try{if(v.T=null,c.p=2,f)return f()}finally{v.T=g,c.p=C,c.d.f()}},$e.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,c.d.C(f,g))},$e.prefetchDNS=function(f){typeof f=="string"&&c.d.D(f)},$e.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var C=g.as,B=w(C,g.crossOrigin),M=typeof g.integrity=="string"?g.integrity:void 0,z=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;C==="style"?c.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:B,integrity:M,fetchPriority:z}):C==="script"&&c.d.X(f,{crossOrigin:B,integrity:M,fetchPriority:z,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$e.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var C=w(g.as,g.crossOrigin);c.d.M(f,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&c.d.M(f)},$e.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var C=g.as,B=w(C,g.crossOrigin);c.d.L(f,C,{crossOrigin:B,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$e.preloadModule=function(f,g){if(typeof f=="string")if(g){var C=w(g.as,g.crossOrigin);c.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else c.d.m(f)},$e.requestFormReset=function(f){c.d.r(f)},$e.unstable_batchedUpdates=function(f,g){return f(g)},$e.useFormState=function(f,g,C){return v.H.useFormState(f,g,C)},$e.useFormStatus=function(){return v.H.useHostTransitionStatus()},$e.version="19.1.1",$e}var Ym;function $g(){if(Ym)return Hl.exports;Ym=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),Hl.exports=Zg(),Hl.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function Jg(){if(Km)return Ln;Km=1;var o=Kg(),l=ql(),d=$g();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(y(e)!==e)throw Error(c(188))}function f(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,a=t;;){var s=i.return;if(s===null)break;var r=s.alternate;if(r===null){if(a=s.return,a!==null){i=a;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===i)return w(s),e;if(r===a)return w(s),t;r=r.sibling}throw Error(c(188))}if(i.return!==a.return)i=s,a=r;else{for(var u=!1,m=s.child;m;){if(m===i){u=!0,i=s,a=r;break}if(m===a){u=!0,a=s,i=r;break}m=m.sibling}if(!u){for(m=r.child;m;){if(m===i){u=!0,i=r,a=s;break}if(m===a){u=!0,a=r,i=s;break}m=m.sibling}if(!u)throw Error(c(189))}}if(i.alternate!==a)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,B=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),J=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=De&&e[De]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case X:return"Profiler";case Q:return"StrictMode";case q:return"Suspense";case re:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case J:return(e.displayName||"Context")+".Provider";case ie:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:Z(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return Z(e(t))}catch{}}return null}var _=Array.isArray,S=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},E=[],h=-1;function k(e){return{current:e}}function P(e){0>h||(e.current=E[h],E[h]=null,h--)}function G(e,t){h++,E[h]=e.current,e.current=t}var Y=k(null),pe=k(null),oe=k(null),ut=k(null);function Ne(e,t){switch(G(oe,t),G(pe,e),G(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fm(t),e=ym(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Y),G(Y,e)}function si(){P(Y),P(pe),P(oe)}function gr(e){e.memoizedState!==null&&G(ut,e);var t=Y.current,i=ym(t,e.type);t!==i&&(G(pe,e),G(Y,i))}function Qn(e){pe.current===e&&(P(Y),P(pe)),ut.current===e&&(P(ut),Mn._currentValue=F)}var fr=Object.prototype.hasOwnProperty,yr=o.unstable_scheduleCallback,br=o.unstable_cancelCallback,Ch=o.unstable_shouldYield,Sh=o.unstable_requestPaint,Bt=o.unstable_now,Eh=o.unstable_getCurrentPriorityLevel,Kl=o.unstable_ImmediatePriority,Zl=o.unstable_UserBlockingPriority,Xn=o.unstable_NormalPriority,Th=o.unstable_LowPriority,$l=o.unstable_IdlePriority,Dh=o.log,Nh=o.unstable_setDisableYieldValue,za=null,dt=null;function ri(e){if(typeof Dh=="function"&&Nh(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(za,e)}catch{}}var mt=Math.clz32?Math.clz32:Rh,jh=Math.log,Mh=Math.LN2;function Rh(e){return e>>>=0,e===0?32:31-(jh(e)/Mh|0)|0}var Yn=256,Kn=4194304;function Ri(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zn(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var s=0,r=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var m=a&134217727;return m!==0?(a=m&~r,a!==0?s=Ri(a):(u&=m,u!==0?s=Ri(u):i||(i=m&~e,i!==0&&(s=Ri(i))))):(m=a&~r,m!==0?s=Ri(m):u!==0?s=Ri(u):i||(i=a&~e,i!==0&&(s=Ri(i)))),s===0?0:t!==0&&t!==s&&(t&r)===0&&(r=s&-s,i=t&-t,r>=i||r===32&&(i&4194048)!==0)?t:s}function Oa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ph(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var e=Yn;return Yn<<=1,(Yn&4194048)===0&&(Yn=256),e}function ec(){var e=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),e}function vr(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Va(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bh(e,t,i,a,s,r){var u=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var m=e.entanglements,x=e.expirationTimes,N=e.hiddenUpdates;for(i=u&~i;0<i;){var I=31-mt(i),O=1<<I;m[I]=0,x[I]=-1;var j=N[I];if(j!==null)for(N[I]=null,I=0;I<j.length;I++){var R=j[I];R!==null&&(R.lane&=-536870913)}i&=~O}a!==0&&tc(e,a,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(u&~t))}function tc(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-mt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&4194090}function ic(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-mt(i),s=1<<a;s&t|e[a]&t&&(e[a]|=t),i&=~s}}function xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ac(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Hm(e.type))}function Ih(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var oi=Math.random().toString(36).slice(2),Ke="__reactFiber$"+oi,st="__reactProps$"+oi,$i="__reactContainer$"+oi,kr="__reactEvents$"+oi,Hh="__reactListeners$"+oi,Lh="__reactHandles$"+oi,nc="__reactResources$"+oi,Ga="__reactMarker$"+oi;function Ar(e){delete e[Ke],delete e[st],delete e[kr],delete e[Hh],delete e[Lh]}function Ji(e){var t=e[Ke];if(t)return t;for(var i=e.parentNode;i;){if(t=i[$i]||i[Ke]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=wm(e);e!==null;){if(i=e[Ke])return i;e=wm(e)}return t}e=i,i=e.parentNode}return null}function ea(e){if(e=e[Ke]||e[$i]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function _a(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function ta(e){var t=e[nc];return t||(t=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ue(e){e[Ga]=!0}var sc=new Set,rc={};function Pi(e,t){ia(e,t),ia(e+"Capture",t)}function ia(e,t){for(rc[e]=t,e=0;e<t.length;e++)sc.add(t[e])}var zh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oc={},lc={};function Oh(e){return fr.call(lc,e)?!0:fr.call(oc,e)?!1:zh.test(e)?lc[e]=!0:(oc[e]=!0,!1)}function $n(e,t,i){if(Oh(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Jn(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Gt(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}var Cr,cc;function aa(e){if(Cr===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Cr=t&&t[1]||"",cc=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cr+e+cc}var Sr=!1;function Er(e,t){if(!e||Sr)return"";Sr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(R){var j=R}Reflect.construct(e,[],O)}else{try{O.call()}catch(R){j=R}e.call(O.prototype)}}else{try{throw Error()}catch(R){j=R}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(R){if(R&&j&&typeof R.stack=="string")return[R.stack,j.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),u=r[0],m=r[1];if(u&&m){var x=u.split(`
`),N=m.split(`
`);for(s=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;if(a===x.length||s===N.length)for(a=x.length-1,s=N.length-1;1<=a&&0<=s&&x[a]!==N[s];)s--;for(;1<=a&&0<=s;a--,s--)if(x[a]!==N[s]){if(a!==1||s!==1)do if(a--,s--,0>s||x[a]!==N[s]){var I=`
`+x[a].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=a&&0<=s);break}}}finally{Sr=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?aa(i):""}function Vh(e){switch(e.tag){case 26:case 27:case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return Er(e.type,!1);case 11:return Er(e.type.render,!1);case 1:return Er(e.type,!0);case 31:return aa("Activity");default:return""}}function uc(e){try{var t="";do t+=Vh(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gh(e){var t=dc(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(u){a=""+u,r.call(this,u)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(u){a=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=Gh(e))}function mc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=dc(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _h=/[\n"\\]/g;function wt(e){return e.replace(_h,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tr(e,t,i,a,s,r,u,m){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xt(t)):e.value!==""+xt(t)&&(e.value=""+xt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Dr(e,u,xt(t)):i!=null?Dr(e,u,xt(i)):a!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+xt(m):e.removeAttribute("name")}function hc(e,t,i,a,s,r,u,m){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||i!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;i=i!=null?""+xt(i):"",t=t!=null?""+xt(t):i,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u)}function Dr(e,t,i){t==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function na(e,t,i,a){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&a&&(e[i].defaultSelected=!0)}else{for(i=""+xt(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function pc(e,t,i){if(t!=null&&(t=""+xt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+xt(i):""}function gc(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(c(92));if(_(a)){if(1<a.length)throw Error(c(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=xt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a)}function sa(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Uh.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function yc(e,t,i){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&i[s]!==a&&fc(e,s,a)}else for(var r in t)t.hasOwnProperty(r)&&fc(e,r,t[r])}function Nr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(e){return Fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jr=null;function Mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ra=null,oa=null;function bc(e){var t=ea(e);if(t&&(e=t.stateNode)){var i=e[st]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var s=a[st]||null;if(!s)throw Error(c(90));Tr(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&mc(a)}break e;case"textarea":pc(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&na(e,!!i.multiple,t,!1)}}}var Rr=!1;function vc(e,t,i){if(Rr)return e(t,i);Rr=!0;try{var a=e(t);return a}finally{if(Rr=!1,(ra!==null||oa!==null)&&(Gs(),ra&&(t=ra,e=oa,oa=ra=null,bc(t),e)))for(t=0;t<e.length;t++)bc(e[t])}}function Ua(e,t){var i=e.stateNode;if(i===null)return null;var a=i[st]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(_t)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Pr=!1}var li=null,Br=null,as=null;function xc(){if(as)return as;var e,t=Br,i=t.length,a,s="value"in li?li.value:li.textContent,r=s.length;for(e=0;e<i&&t[e]===s[e];e++);var u=i-e;for(a=1;a<=u&&t[i-a]===s[r-a];a++);return as=s.slice(e,1<a?1-a:void 0)}function ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function wc(){return!1}function rt(e){function t(i,a,s,r,u){this._reactName=i,this._targetInst=s,this.type=a,this.nativeEvent=r,this.target=u,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(r):r[m]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ss:wc,this.isPropagationStopped=wc,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=rt(Bi),Fa=C({},Bi,{view:0,detail:0}),Wh=rt(Fa),Ir,Hr,Wa,os=C({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wa&&(Wa&&e.type==="mousemove"?(Ir=e.screenX-Wa.screenX,Hr=e.screenY-Wa.screenY):Hr=Ir=0,Wa=e),Ir)},movementY:function(e){return"movementY"in e?e.movementY:Hr}}),kc=rt(os),Qh=C({},os,{dataTransfer:0}),Xh=rt(Qh),Yh=C({},Fa,{relatedTarget:0}),Lr=rt(Yh),Kh=C({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zh=rt(Kh),$h=C({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jh=rt($h),ep=C({},Bi,{data:0}),Ac=rt(ep),tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function np(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ap[e])?!!t[e]:!1}function zr(){return np}var sp=C({},Fa,{key:function(e){if(e.key){var t=tp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rp=rt(sp),op=C({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=rt(op),lp=C({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),cp=rt(lp),up=C({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=rt(up),mp=C({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hp=rt(mp),pp=C({},Bi,{newState:0,oldState:0}),gp=rt(pp),fp=[9,13,27,32],Or=_t&&"CompositionEvent"in window,Qa=null;_t&&"documentMode"in document&&(Qa=document.documentMode);var yp=_t&&"TextEvent"in window&&!Qa,Sc=_t&&(!Or||Qa&&8<Qa&&11>=Qa),Ec=" ",Tc=!1;function Dc(e,t){switch(e){case"keyup":return fp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function bp(e,t){switch(e){case"compositionend":return Nc(t);case"keypress":return t.which!==32?null:(Tc=!0,Ec);case"textInput":return e=t.data,e===Ec&&Tc?null:e;default:return null}}function vp(e,t){if(la)return e==="compositionend"||!Or&&Dc(e,t)?(e=xc(),as=Br=li=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sc&&t.locale!=="ko"?null:t.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xp[e.type]:t==="textarea"}function Mc(e,t,i,a){ra?oa?oa.push(a):oa=[a]:ra=a,t=Qs(t,"onChange"),0<t.length&&(i=new rs("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Xa=null,Ya=null;function wp(e){dm(e,0)}function ls(e){var t=_a(e);if(mc(t))return e}function Rc(e,t){if(e==="change")return t}var Pc=!1;if(_t){var Vr;if(_t){var Gr="oninput"in document;if(!Gr){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Gr=typeof Bc.oninput=="function"}Vr=Gr}else Vr=!1;Pc=Vr&&(!document.documentMode||9<document.documentMode)}function Ic(){Xa&&(Xa.detachEvent("onpropertychange",Hc),Ya=Xa=null)}function Hc(e){if(e.propertyName==="value"&&ls(Ya)){var t=[];Mc(t,Ya,e,Mr(e)),vc(wp,t)}}function kp(e,t,i){e==="focusin"?(Ic(),Xa=t,Ya=i,Xa.attachEvent("onpropertychange",Hc)):e==="focusout"&&Ic()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(Ya)}function Cp(e,t){if(e==="click")return ls(t)}function Sp(e,t){if(e==="input"||e==="change")return ls(t)}function Ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Ep;function Ka(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var s=i[a];if(!fr.call(t,s)||!ht(e[s],t[s]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zc(e,t){var i=Lc(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Lc(i)}}function Oc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ts(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ts(e.document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tp=_t&&"documentMode"in document&&11>=document.documentMode,ca=null,Ur=null,Za=null,qr=!1;function Gc(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;qr||ca==null||ca!==ts(a)||(a=ca,"selectionStart"in a&&_r(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Za&&Ka(Za,a)||(Za=a,a=Qs(Ur,"onSelect"),0<a.length&&(t=new rs("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=ca)))}function Ii(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ua={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},Fr={},_c={};_t&&(_c=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Hi(e){if(Fr[e])return Fr[e];if(!ua[e])return e;var t=ua[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in _c)return Fr[e]=t[i];return e}var Uc=Hi("animationend"),qc=Hi("animationiteration"),Fc=Hi("animationstart"),Dp=Hi("transitionrun"),Np=Hi("transitionstart"),jp=Hi("transitioncancel"),Wc=Hi("transitionend"),Qc=new Map,Wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wr.push("scrollEnd");function Nt(e,t){Qc.set(e,t),Pi(t,[e])}var Xc=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var i=Xc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:uc(t)},Xc.set(e,t),t)}return{value:e,source:t,stack:uc(t)}}var At=[],da=0,Qr=0;function cs(){for(var e=da,t=Qr=da=0;t<e;){var i=At[t];At[t++]=null;var a=At[t];At[t++]=null;var s=At[t];At[t++]=null;var r=At[t];if(At[t++]=null,a!==null&&s!==null){var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}r!==0&&Yc(i,s,r)}}function us(e,t,i,a){At[da++]=e,At[da++]=t,At[da++]=i,At[da++]=a,Qr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Xr(e,t,i,a){return us(e,t,i,a),ds(e)}function ma(e,t){return us(e,null,null,t),ds(e)}function Yc(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var s=!1,r=e.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-mt(i),e=r.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=i|536870912),r):null}function ds(e){if(50<An)throw An=0,tl=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ha={};function Mp(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,i,a){return new Mp(e,t,i,a)}function Yr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ut(e,t){var i=e.alternate;return i===null?(i=pt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Kc(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ms(e,t,i,a,s,r){var u=0;if(a=e,typeof e=="function")Yr(e)&&(u=1);else if(typeof e=="string")u=Pg(e,i,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=pt(31,i,t,s),e.elementType=V,e.lanes=r,e;case W:return Li(i.children,s,r,t);case Q:u=8,s|=24;break;case X:return e=pt(12,i,t,s|2),e.elementType=X,e.lanes=r,e;case q:return e=pt(13,i,t,s),e.elementType=q,e.lanes=r,e;case re:return e=pt(19,i,t,s),e.elementType=re,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:case J:u=10;break e;case ie:u=9;break e;case K:u=11;break e;case ye:u=14;break e;case ue:u=16,a=null;break e}u=29,i=Error(c(130,e===null?"null":typeof e,"")),a=null}return t=pt(u,i,t,s),t.elementType=e,t.type=a,t.lanes=r,t}function Li(e,t,i,a){return e=pt(7,e,a,t),e.lanes=i,e}function Kr(e,t,i){return e=pt(6,e,null,t),e.lanes=i,e}function Zr(e,t,i){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pa=[],ga=0,hs=null,ps=0,Ct=[],St=0,zi=null,qt=1,Ft="";function Oi(e,t){pa[ga++]=ps,pa[ga++]=hs,hs=e,ps=t}function Zc(e,t,i){Ct[St++]=qt,Ct[St++]=Ft,Ct[St++]=zi,zi=e;var a=qt;e=Ft;var s=32-mt(a)-1;a&=~(1<<s),i+=1;var r=32-mt(t)+s;if(30<r){var u=s-s%5;r=(a&(1<<u)-1).toString(32),a>>=u,s-=u,qt=1<<32-mt(t)+s|i<<s|a,Ft=r+e}else qt=1<<r|i<<s|a,Ft=e}function $r(e){e.return!==null&&(Oi(e,1),Zc(e,1,0))}function Jr(e){for(;e===hs;)hs=pa[--ga],pa[ga]=null,ps=pa[--ga],pa[ga]=null;for(;e===zi;)zi=Ct[--St],Ct[St]=null,Ft=Ct[--St],Ct[St]=null,qt=Ct[--St],Ct[St]=null}var Je=null,Pe=null,be=!1,Vi=null,It=!1,eo=Error(c(519));function Gi(e){var t=Error(c(418,""));throw en(kt(t,e)),eo}function $c(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[Ke]=e,t[st]=a,i){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(i=0;i<Sn.length;i++)he(Sn[i],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),hc(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),es(t);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),gc(t,a.value,a.defaultValue,a.children),es(t)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||gm(t.textContent,i)?(a.popover!=null&&(he("beforetoggle",t),he("toggle",t)),a.onScroll!=null&&he("scroll",t),a.onScrollEnd!=null&&he("scrollend",t),a.onClick!=null&&(t.onclick=Xs),t=!0):t=!1,t||Gi(e)}function Jc(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:It=!1;return;case 27:case 3:It=!0;return;default:Je=Je.return}}function $a(e){if(e!==Je)return!1;if(!be)return Jc(e),be=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||yl(e.type,e.memoizedProps)),i=!i),i&&Pe&&Gi(e),Jc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Pe=Mt(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Pe=null}}else t===27?(t=Pe,Ci(e.type)?(e=wl,wl=null,Pe=e):Pe=t):Pe=Je?Mt(e.stateNode.nextSibling):null;return!0}function Ja(){Pe=Je=null,be=!1}function eu(){var e=Vi;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),Vi=null),e}function en(e){Vi===null?Vi=[e]:Vi.push(e)}var to=k(null),_i=null,Wt=null;function ci(e,t,i){G(to,t._currentValue),t._currentValue=i}function Qt(e){e._currentValue=to.current,P(to)}function io(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function ao(e,t,i,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var u=s.child;r=r.firstContext;e:for(;r!==null;){var m=r;r=s;for(var x=0;x<t.length;x++)if(m.context===t[x]){r.lanes|=i,m=r.alternate,m!==null&&(m.lanes|=i),io(r.return,i,e),a||(u=null);break e}r=m.next}}else if(s.tag===18){if(u=s.return,u===null)throw Error(c(341));u.lanes|=i,r=u.alternate,r!==null&&(r.lanes|=i),io(u,i,e),u=null}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===e){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}}function tn(e,t,i,a){e=null;for(var s=t,r=!1;s!==null;){if(!r){if((s.flags&524288)!==0)r=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var u=s.alternate;if(u===null)throw Error(c(387));if(u=u.memoizedProps,u!==null){var m=s.type;ht(s.pendingProps.value,u.value)||(e!==null?e.push(m):e=[m])}}else if(s===ut.current){if(u=s.alternate,u===null)throw Error(c(387));u.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Mn):e=[Mn])}s=s.return}e!==null&&ao(t,e,i,a),t.flags|=262144}function gs(e){for(e=e.firstContext;e!==null;){if(!ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ui(e){_i=e,Wt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return tu(_i,e)}function fs(e,t){return _i===null&&Ui(e),tu(e,t)}function tu(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Wt===null){if(e===null)throw Error(c(308));Wt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wt=Wt.next=t;return i}var Rp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Pp=o.unstable_scheduleCallback,Bp=o.unstable_NormalPriority,Ve={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function no(){return{controller:new Rp,data:new Map,refCount:0}}function an(e){e.refCount--,e.refCount===0&&Pp(Bp,function(){e.controller.abort()})}var nn=null,so=0,fa=0,ya=null;function Ip(e,t){if(nn===null){var i=nn=[];so=0,fa=ll(),ya={status:"pending",value:void 0,then:function(a){i.push(a)}}}return so++,t.then(iu,iu),t}function iu(){if(--so===0&&nn!==null){ya!==null&&(ya.status="fulfilled");var e=nn;nn=null,fa=0,ya=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Hp(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(s){i.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<i.length;s++)(0,i[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<i.length;s++)(0,i[s])(void 0)}),a}var au=S.S;S.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ip(e,t),au!==null&&au(e,t)};var qi=k(null);function ro(){var e=qi.current;return e!==null?e:Te.pooledCache}function ys(e,t){t===null?G(qi,qi.current):G(qi,t.pool)}function nu(){var e=ro();return e===null?null:{parent:Ve._currentValue,pool:e}}var sn=Error(c(460)),su=Error(c(474)),bs=Error(c(542)),oo={then:function(){}};function ru(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vs(){}function ou(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(vs,vs),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cu(e),e;default:if(typeof t.status=="string")t.then(vs,vs);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cu(e),e}throw rn=t,sn}}var rn=null;function lu(){if(rn===null)throw Error(c(459));var e=rn;return rn=null,e}function cu(e){if(e===sn||e===bs)throw Error(c(483))}var ui=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function di(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mi(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(xe&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=ds(e),Yc(e,null,i),t}return us(e,a,t,i),ds(e)}function on(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,ic(e,i)}}function uo(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var s=null,r=null;if(i=i.firstBaseUpdate,i!==null){do{var u={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};r===null?s=r=u:r=r.next=u,i=i.next}while(i!==null);r===null?s=r=t:r=r.next=t}else s=r=t;i={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var mo=!1;function ln(){if(mo){var e=ya;if(e!==null)throw e}}function cn(e,t,i,a){mo=!1;var s=e.updateQueue;ui=!1;var r=s.firstBaseUpdate,u=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var x=m,N=x.next;x.next=null,u===null?r=N:u.next=N,u=x;var I=e.alternate;I!==null&&(I=I.updateQueue,m=I.lastBaseUpdate,m!==u&&(m===null?I.firstBaseUpdate=N:m.next=N,I.lastBaseUpdate=x))}if(r!==null){var O=s.baseState;u=0,I=N=x=null,m=r;do{var j=m.lane&-536870913,R=j!==m.lane;if(R?(ge&j)===j:(a&j)===j){j!==0&&j===fa&&(mo=!0),I!==null&&(I=I.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var se=e,ae=m;j=t;var Se=i;switch(ae.tag){case 1:if(se=ae.payload,typeof se=="function"){O=se.call(Se,O,j);break e}O=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,j=typeof se=="function"?se.call(Se,O,j):se,j==null)break e;O=C({},O,j);break e;case 2:ui=!0}}j=m.callback,j!==null&&(e.flags|=64,R&&(e.flags|=8192),R=s.callbacks,R===null?s.callbacks=[j]:R.push(j))}else R={lane:j,tag:m.tag,payload:m.payload,callback:m.callback,next:null},I===null?(N=I=R,x=O):I=I.next=R,u|=j;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;R=m,m=R.next,R.next=null,s.lastBaseUpdate=R,s.shared.pending=null}}while(!0);I===null&&(x=O),s.baseState=x,s.firstBaseUpdate=N,s.lastBaseUpdate=I,r===null&&(s.shared.lanes=0),xi|=u,e.lanes=u,e.memoizedState=O}}function uu(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function du(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)uu(i[e],t)}var ba=k(null),xs=k(0);function mu(e,t){e=ei,G(xs,e),G(ba,t),ei=e|t.baseLanes}function ho(){G(xs,ei),G(ba,ba.current)}function po(){ei=xs.current,P(ba),P(xs)}var hi=0,ce=null,Ae=null,Le=null,ws=!1,va=!1,Fi=!1,ks=0,un=0,xa=null,Lp=0;function Ie(){throw Error(c(321))}function go(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ht(e[i],t[i]))return!1;return!0}function fo(e,t,i,a,s,r){return hi=r,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S.H=e===null||e.memoizedState===null?Yu:Ku,Fi=!1,r=i(a,s),Fi=!1,va&&(r=pu(t,i,a,s)),hu(e),r}function hu(e){S.H=Ds;var t=Ae!==null&&Ae.next!==null;if(hi=0,Le=Ae=ce=null,ws=!1,un=0,xa=null,t)throw Error(c(300));e===null||qe||(e=e.dependencies,e!==null&&gs(e)&&(qe=!0))}function pu(e,t,i,a){ce=e;var s=0;do{if(va&&(xa=null),un=0,va=!1,25<=s)throw Error(c(301));if(s+=1,Le=Ae=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}S.H=qp,r=t(i,a)}while(va);return r}function zp(){var e=S.H,t=e.useState()[0];return t=typeof t.then=="function"?dn(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(ce.flags|=1024),t}function yo(){var e=ks!==0;return ks=0,e}function bo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function vo(e){if(ws){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ws=!1}hi=0,Le=Ae=ce=null,va=!1,un=ks=0,xa=null}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ce.memoizedState=Le=e:Le=Le.next=e,Le}function ze(){if(Ae===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Le===null?ce.memoizedState:Le.next;if(t!==null)Le=t,Ae=e;else{if(e===null)throw ce.alternate===null?Error(c(467)):Error(c(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Le===null?ce.memoizedState=Le=e:Le=Le.next=e}return Le}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dn(e){var t=un;return un+=1,xa===null&&(xa=[]),e=ou(xa,e,t),t=ce,(Le===null?t.memoizedState:Le.next)===null&&(t=t.alternate,S.H=t===null||t.memoizedState===null?Yu:Ku),e}function As(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dn(e);if(e.$$typeof===J)return Ze(e)}throw Error(c(438,String(e)))}function wo(e){var t=null,i=ce.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ce.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=xo(),ce.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=te;return t.index++,i}function Xt(e,t){return typeof t=="function"?t(e):t}function Cs(e){var t=ze();return ko(t,Ae,e)}function ko(e,t,i){var a=e.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=i;var s=e.baseQueue,r=a.pending;if(r!==null){if(s!==null){var u=s.next;s.next=r.next,r.next=u}t.baseQueue=s=r,a.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var m=u=null,x=null,N=t,I=!1;do{var O=N.lane&-536870913;if(O!==N.lane?(ge&O)===O:(hi&O)===O){var j=N.revertLane;if(j===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),O===fa&&(I=!0);else if((hi&j)===j){N=N.next,j===fa&&(I=!0);continue}else O={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},x===null?(m=x=O,u=r):x=x.next=O,ce.lanes|=j,xi|=j;O=N.action,Fi&&i(r,O),r=N.hasEagerState?N.eagerState:i(r,O)}else j={lane:O,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},x===null?(m=x=j,u=r):x=x.next=j,ce.lanes|=O,xi|=O;N=N.next}while(N!==null&&N!==t);if(x===null?u=r:x.next=m,!ht(r,e.memoizedState)&&(qe=!0,I&&(i=ya,i!==null)))throw i;e.memoizedState=r,e.baseState=u,e.baseQueue=x,a.lastRenderedState=r}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ao(e){var t=ze(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var a=i.dispatch,s=i.pending,r=t.memoizedState;if(s!==null){i.pending=null;var u=s=s.next;do r=e(r,u.action),u=u.next;while(u!==s);ht(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),i.lastRenderedState=r}return[r,a]}function gu(e,t,i){var a=ce,s=ze(),r=be;if(r){if(i===void 0)throw Error(c(407));i=i()}else i=t();var u=!ht((Ae||s).memoizedState,i);u&&(s.memoizedState=i,qe=!0),s=s.queue;var m=bu.bind(null,a,s,e);if(mn(2048,8,m,[e]),s.getSnapshot!==t||u||Le!==null&&Le.memoizedState.tag&1){if(a.flags|=2048,wa(9,Ss(),yu.bind(null,a,s,i,t),null),Te===null)throw Error(c(349));r||(hi&124)!==0||fu(a,t,i)}return i}function fu(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ce.updateQueue,t===null?(t=xo(),ce.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function yu(e,t,i,a){t.value=i,t.getSnapshot=a,vu(t)&&xu(e)}function bu(e,t,i){return i(function(){vu(t)&&xu(e)})}function vu(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ht(e,i)}catch{return!0}}function xu(e){var t=ma(e,2);t!==null&&vt(t,e,2)}function Co(e){var t=ot();if(typeof e=="function"){var i=e;if(e=i(),Fi){ri(!0);try{i()}finally{ri(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:e},t}function wu(e,t,i,a){return e.baseState=i,ko(e,Ae,typeof a=="function"?a:Xt)}function Op(e,t,i,a,s){if(Ts(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){r.listeners.push(u)}};S.T!==null?i(!0):r.isTransition=!1,a(r),i=t.pending,i===null?(r.next=t.pending=r,ku(t,r)):(r.next=i.next,t.pending=i.next=r)}}function ku(e,t){var i=t.action,a=t.payload,s=e.state;if(t.isTransition){var r=S.T,u={};S.T=u;try{var m=i(s,a),x=S.S;x!==null&&x(u,m),Au(e,t,m)}catch(N){So(e,t,N)}finally{S.T=r}}else try{r=i(s,a),Au(e,t,r)}catch(N){So(e,t,N)}}function Au(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Cu(e,t,a)},function(a){return So(e,t,a)}):Cu(e,t,i)}function Cu(e,t,i){t.status="fulfilled",t.value=i,Su(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ku(e,i)))}function So(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Su(t),t=t.next;while(t!==a)}e.action=null}function Su(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Eu(e,t){return t}function Tu(e,t){if(be){var i=Te.formState;if(i!==null){e:{var a=ce;if(be){if(Pe){t:{for(var s=Pe,r=It;s.nodeType!==8;){if(!r){s=null;break t}if(s=Mt(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Pe=Mt(s.nextSibling),a=s.data==="F!";break e}}Gi(a)}a=!1}a&&(t=i[0])}}return i=ot(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:t},i.queue=a,i=Wu.bind(null,ce,a),a.dispatch=i,a=Co(!1),r=jo.bind(null,ce,!1,a.queue),a=ot(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,i=Op.bind(null,ce,s,r,i),s.dispatch=i,a.memoizedState=e,[t,i,!1]}function Du(e){var t=ze();return Nu(t,Ae,e)}function Nu(e,t,i){if(t=ko(e,t,Eu)[0],e=Cs(Xt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=dn(t)}catch(u){throw u===sn?bs:u}else a=t;t=ze();var s=t.queue,r=s.dispatch;return i!==t.memoizedState&&(ce.flags|=2048,wa(9,Ss(),Vp.bind(null,s,i),null)),[a,r,e]}function Vp(e,t){e.action=t}function ju(e){var t=ze(),i=Ae;if(i!==null)return Nu(t,i,e);ze(),t=t.memoizedState,i=ze();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function wa(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=ce.updateQueue,t===null&&(t=xo(),ce.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Ss(){return{destroy:void 0,resource:void 0}}function Mu(){return ze().memoizedState}function Es(e,t,i,a){var s=ot();a=a===void 0?null:a,ce.flags|=e,s.memoizedState=wa(1|t,Ss(),i,a)}function mn(e,t,i,a){var s=ze();a=a===void 0?null:a;var r=s.memoizedState.inst;Ae!==null&&a!==null&&go(a,Ae.memoizedState.deps)?s.memoizedState=wa(t,r,i,a):(ce.flags|=e,s.memoizedState=wa(1|t,r,i,a))}function Ru(e,t){Es(8390656,8,e,t)}function Pu(e,t){mn(2048,8,e,t)}function Bu(e,t){return mn(4,2,e,t)}function Iu(e,t){return mn(4,4,e,t)}function Hu(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lu(e,t,i){i=i!=null?i.concat([e]):null,mn(4,4,Hu.bind(null,t,e),i)}function Eo(){}function zu(e,t){var i=ze();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&go(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Ou(e,t){var i=ze();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&go(t,a[1]))return a[0];if(a=e(),Fi){ri(!0);try{e()}finally{ri(!1)}}return i.memoizedState=[a,t],a}function To(e,t,i){return i===void 0||(hi&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=_d(),ce.lanes|=e,xi|=e,i)}function Vu(e,t,i,a){return ht(i,t)?i:ba.current!==null?(e=To(e,i,a),ht(e,t)||(qe=!0),e):(hi&42)===0?(qe=!0,e.memoizedState=i):(e=_d(),ce.lanes|=e,xi|=e,t)}function Gu(e,t,i,a,s){var r=H.p;H.p=r!==0&&8>r?r:8;var u=S.T,m={};S.T=m,jo(e,!1,t,i);try{var x=s(),N=S.S;if(N!==null&&N(m,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var I=Hp(x,a);hn(e,t,I,bt(e))}else hn(e,t,a,bt(e))}catch(O){hn(e,t,{then:function(){},status:"rejected",reason:O},bt())}finally{H.p=r,S.T=u}}function Gp(){}function Do(e,t,i,a){if(e.tag!==5)throw Error(c(476));var s=_u(e).queue;Gu(e,s,t,F,i===null?Gp:function(){return Uu(e),i(a)})}function _u(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:F},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Uu(e){var t=_u(e).next.queue;hn(e,t,{},bt())}function No(){return Ze(Mn)}function qu(){return ze().memoizedState}function Fu(){return ze().memoizedState}function _p(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=bt();e=di(i);var a=mi(t,e,i);a!==null&&(vt(a,t,i),on(a,t,i)),t={cache:no()},e.payload=t;return}t=t.return}}function Up(e,t,i){var a=bt();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ts(e)?Qu(t,i):(i=Xr(e,t,i,a),i!==null&&(vt(i,e,a),Xu(i,t,a)))}function Wu(e,t,i){var a=bt();hn(e,t,i,a)}function hn(e,t,i,a){var s={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ts(e))Qu(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var u=t.lastRenderedState,m=r(u,i);if(s.hasEagerState=!0,s.eagerState=m,ht(m,u))return us(e,t,s,0),Te===null&&cs(),!1}catch{}finally{}if(i=Xr(e,t,s,a),i!==null)return vt(i,e,a),Xu(i,t,a),!0}return!1}function jo(e,t,i,a){if(a={lane:2,revertLane:ll(),action:a,hasEagerState:!1,eagerState:null,next:null},Ts(e)){if(t)throw Error(c(479))}else t=Xr(e,i,a,2),t!==null&&vt(t,e,2)}function Ts(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Qu(e,t){va=ws=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Xu(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,ic(e,i)}}var Ds={readContext:Ze,use:As,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},Yu={readContext:Ze,use:As,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:Ru,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Es(4194308,4,Hu.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){Es(4,2,e,t)},useMemo:function(e,t){var i=ot();t=t===void 0?null:t;var a=e();if(Fi){ri(!0);try{e()}finally{ri(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=ot();if(i!==void 0){var s=i(t);if(Fi){ri(!0);try{i(t)}finally{ri(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Up.bind(null,ce,e),[a.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:function(e){e=Co(e);var t=e.queue,i=Wu.bind(null,ce,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Eo,useDeferredValue:function(e,t){var i=ot();return To(i,e,t)},useTransition:function(){var e=Co(!1);return e=Gu.bind(null,ce,e.queue,!0,!1),ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ce,s=ot();if(be){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),Te===null)throw Error(c(349));(ge&124)!==0||fu(a,t,i)}s.memoizedState=i;var r={value:i,getSnapshot:t};return s.queue=r,Ru(bu.bind(null,a,r,e),[e]),a.flags|=2048,wa(9,Ss(),yu.bind(null,a,r,i,t),null),i},useId:function(){var e=ot(),t=Te.identifierPrefix;if(be){var i=Ft,a=qt;i=(a&~(1<<32-mt(a)-1)).toString(32)+i,t="«"+t+"R"+i,i=ks++,0<i&&(t+="H"+i.toString(32)),t+="»"}else i=Lp++,t="«"+t+"r"+i.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:No,useFormState:Tu,useActionState:Tu,useOptimistic:function(e){var t=ot();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=jo.bind(null,ce,!0,i),i.dispatch=t,[e,t]},useMemoCache:wo,useCacheRefresh:function(){return ot().memoizedState=_p.bind(null,ce)}},Ku={readContext:Ze,use:As,useCallback:zu,useContext:Ze,useEffect:Pu,useImperativeHandle:Lu,useInsertionEffect:Bu,useLayoutEffect:Iu,useMemo:Ou,useReducer:Cs,useRef:Mu,useState:function(){return Cs(Xt)},useDebugValue:Eo,useDeferredValue:function(e,t){var i=ze();return Vu(i,Ae.memoizedState,e,t)},useTransition:function(){var e=Cs(Xt)[0],t=ze().memoizedState;return[typeof e=="boolean"?e:dn(e),t]},useSyncExternalStore:gu,useId:qu,useHostTransitionStatus:No,useFormState:Du,useActionState:Du,useOptimistic:function(e,t){var i=ze();return wu(i,Ae,e,t)},useMemoCache:wo,useCacheRefresh:Fu},qp={readContext:Ze,use:As,useCallback:zu,useContext:Ze,useEffect:Pu,useImperativeHandle:Lu,useInsertionEffect:Bu,useLayoutEffect:Iu,useMemo:Ou,useReducer:Ao,useRef:Mu,useState:function(){return Ao(Xt)},useDebugValue:Eo,useDeferredValue:function(e,t){var i=ze();return Ae===null?To(i,e,t):Vu(i,Ae.memoizedState,e,t)},useTransition:function(){var e=Ao(Xt)[0],t=ze().memoizedState;return[typeof e=="boolean"?e:dn(e),t]},useSyncExternalStore:gu,useId:qu,useHostTransitionStatus:No,useFormState:ju,useActionState:ju,useOptimistic:function(e,t){var i=ze();return Ae!==null?wu(i,Ae,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:wo,useCacheRefresh:Fu},ka=null,pn=0;function Ns(e){var t=pn;return pn+=1,ka===null&&(ka=[]),ou(ka,e,t)}function gn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function js(e,t){throw t.$$typeof===B?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zu(e){var t=e._init;return t(e._payload)}function $u(e){function t(T,A){if(e){var D=T.deletions;D===null?(T.deletions=[A],T.flags|=16):D.push(A)}}function i(T,A){if(!e)return null;for(;A!==null;)t(T,A),A=A.sibling;return null}function a(T){for(var A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function s(T,A){return T=Ut(T,A),T.index=0,T.sibling=null,T}function r(T,A,D){return T.index=D,e?(D=T.alternate,D!==null?(D=D.index,D<A?(T.flags|=67108866,A):D):(T.flags|=67108866,A)):(T.flags|=1048576,A)}function u(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function m(T,A,D,L){return A===null||A.tag!==6?(A=Kr(D,T.mode,L),A.return=T,A):(A=s(A,D),A.return=T,A)}function x(T,A,D,L){var $=D.type;return $===W?I(T,A,D.props.children,L,D.key):A!==null&&(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ue&&Zu($)===A.type)?(A=s(A,D.props),gn(A,D),A.return=T,A):(A=ms(D.type,D.key,D.props,null,T.mode,L),gn(A,D),A.return=T,A)}function N(T,A,D,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=Zr(D,T.mode,L),A.return=T,A):(A=s(A,D.children||[]),A.return=T,A)}function I(T,A,D,L,$){return A===null||A.tag!==7?(A=Li(D,T.mode,L,$),A.return=T,A):(A=s(A,D),A.return=T,A)}function O(T,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Kr(""+A,T.mode,D),A.return=T,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return D=ms(A.type,A.key,A.props,null,T.mode,D),gn(D,A),D.return=T,D;case z:return A=Zr(A,T.mode,D),A.return=T,A;case ue:var L=A._init;return A=L(A._payload),O(T,A,D)}if(_(A)||ke(A))return A=Li(A,T.mode,D,null),A.return=T,A;if(typeof A.then=="function")return O(T,Ns(A),D);if(A.$$typeof===J)return O(T,fs(T,A),D);js(T,A)}return null}function j(T,A,D,L){var $=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return $!==null?null:m(T,A,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return D.key===$?x(T,A,D,L):null;case z:return D.key===$?N(T,A,D,L):null;case ue:return $=D._init,D=$(D._payload),j(T,A,D,L)}if(_(D)||ke(D))return $!==null?null:I(T,A,D,L,null);if(typeof D.then=="function")return j(T,A,Ns(D),L);if(D.$$typeof===J)return j(T,A,fs(T,D),L);js(T,D)}return null}function R(T,A,D,L,$){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return T=T.get(D)||null,m(A,T,""+L,$);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return T=T.get(L.key===null?D:L.key)||null,x(A,T,L,$);case z:return T=T.get(L.key===null?D:L.key)||null,N(A,T,L,$);case ue:var de=L._init;return L=de(L._payload),R(T,A,D,L,$)}if(_(L)||ke(L))return T=T.get(D)||null,I(A,T,L,$,null);if(typeof L.then=="function")return R(T,A,D,Ns(L),$);if(L.$$typeof===J)return R(T,A,D,fs(A,L),$);js(A,L)}return null}function se(T,A,D,L){for(var $=null,de=null,ee=A,ne=A=0,We=null;ee!==null&&ne<D.length;ne++){ee.index>ne?(We=ee,ee=null):We=ee.sibling;var fe=j(T,ee,D[ne],L);if(fe===null){ee===null&&(ee=We);break}e&&ee&&fe.alternate===null&&t(T,ee),A=r(fe,A,ne),de===null?$=fe:de.sibling=fe,de=fe,ee=We}if(ne===D.length)return i(T,ee),be&&Oi(T,ne),$;if(ee===null){for(;ne<D.length;ne++)ee=O(T,D[ne],L),ee!==null&&(A=r(ee,A,ne),de===null?$=ee:de.sibling=ee,de=ee);return be&&Oi(T,ne),$}for(ee=a(ee);ne<D.length;ne++)We=R(ee,T,ne,D[ne],L),We!==null&&(e&&We.alternate!==null&&ee.delete(We.key===null?ne:We.key),A=r(We,A,ne),de===null?$=We:de.sibling=We,de=We);return e&&ee.forEach(function(Ni){return t(T,Ni)}),be&&Oi(T,ne),$}function ae(T,A,D,L){if(D==null)throw Error(c(151));for(var $=null,de=null,ee=A,ne=A=0,We=null,fe=D.next();ee!==null&&!fe.done;ne++,fe=D.next()){ee.index>ne?(We=ee,ee=null):We=ee.sibling;var Ni=j(T,ee,fe.value,L);if(Ni===null){ee===null&&(ee=We);break}e&&ee&&Ni.alternate===null&&t(T,ee),A=r(Ni,A,ne),de===null?$=Ni:de.sibling=Ni,de=Ni,ee=We}if(fe.done)return i(T,ee),be&&Oi(T,ne),$;if(ee===null){for(;!fe.done;ne++,fe=D.next())fe=O(T,fe.value,L),fe!==null&&(A=r(fe,A,ne),de===null?$=fe:de.sibling=fe,de=fe);return be&&Oi(T,ne),$}for(ee=a(ee);!fe.done;ne++,fe=D.next())fe=R(ee,T,ne,fe.value,L),fe!==null&&(e&&fe.alternate!==null&&ee.delete(fe.key===null?ne:fe.key),A=r(fe,A,ne),de===null?$=fe:de.sibling=fe,de=fe);return e&&ee.forEach(function(Fg){return t(T,Fg)}),be&&Oi(T,ne),$}function Se(T,A,D,L){if(typeof D=="object"&&D!==null&&D.type===W&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case M:e:{for(var $=D.key;A!==null;){if(A.key===$){if($=D.type,$===W){if(A.tag===7){i(T,A.sibling),L=s(A,D.props.children),L.return=T,T=L;break e}}else if(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ue&&Zu($)===A.type){i(T,A.sibling),L=s(A,D.props),gn(L,D),L.return=T,T=L;break e}i(T,A);break}else t(T,A);A=A.sibling}D.type===W?(L=Li(D.props.children,T.mode,L,D.key),L.return=T,T=L):(L=ms(D.type,D.key,D.props,null,T.mode,L),gn(L,D),L.return=T,T=L)}return u(T);case z:e:{for($=D.key;A!==null;){if(A.key===$)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){i(T,A.sibling),L=s(A,D.children||[]),L.return=T,T=L;break e}else{i(T,A);break}else t(T,A);A=A.sibling}L=Zr(D,T.mode,L),L.return=T,T=L}return u(T);case ue:return $=D._init,D=$(D._payload),Se(T,A,D,L)}if(_(D))return se(T,A,D,L);if(ke(D)){if($=ke(D),typeof $!="function")throw Error(c(150));return D=$.call(D),ae(T,A,D,L)}if(typeof D.then=="function")return Se(T,A,Ns(D),L);if(D.$$typeof===J)return Se(T,A,fs(T,D),L);js(T,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(i(T,A.sibling),L=s(A,D),L.return=T,T=L):(i(T,A),L=Kr(D,T.mode,L),L.return=T,T=L),u(T)):i(T,A)}return function(T,A,D,L){try{pn=0;var $=Se(T,A,D,L);return ka=null,$}catch(ee){if(ee===sn||ee===bs)throw ee;var de=pt(29,ee,null,T.mode);return de.lanes=L,de.return=T,de}finally{}}}var Aa=$u(!0),Ju=$u(!1),Et=k(null),Ht=null;function pi(e){var t=e.alternate;G(Ge,Ge.current&1),G(Et,e),Ht===null&&(t===null||ba.current!==null||t.memoizedState!==null)&&(Ht=e)}function ed(e){if(e.tag===22){if(G(Ge,Ge.current),G(Et,e),Ht===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ht=e)}}else gi()}function gi(){G(Ge,Ge.current),G(Et,Et.current)}function Yt(e){P(Et),Ht===e&&(Ht=null),P(Ge)}var Ge=k(0);function Ms(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||xl(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Mo(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:C({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ro={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=bt(),s=di(a);s.payload=t,i!=null&&(s.callback=i),t=mi(e,s,a),t!==null&&(vt(t,e,a),on(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=bt(),s=di(a);s.tag=1,s.payload=t,i!=null&&(s.callback=i),t=mi(e,s,a),t!==null&&(vt(t,e,a),on(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=bt(),a=di(i);a.tag=2,t!=null&&(a.callback=t),t=mi(e,a,i),t!==null&&(vt(t,e,i),on(t,e,i))}};function td(e,t,i,a,s,r,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,u):t.prototype&&t.prototype.isPureReactComponent?!Ka(i,a)||!Ka(s,r):!0}function id(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function Wi(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=C({},i));for(var s in e)i[s]===void 0&&(i[s]=e[s])}return i}var Rs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ad(e){Rs(e)}function nd(e){console.error(e)}function sd(e){Rs(e)}function Ps(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function rd(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Po(e,t,i){return i=di(i),i.tag=3,i.payload={element:null},i.callback=function(){Ps(e,t)},i}function od(e){return e=di(e),e.tag=3,e}function ld(e,t,i,a){var s=i.type.getDerivedStateFromError;if(typeof s=="function"){var r=a.value;e.payload=function(){return s(r)},e.callback=function(){rd(t,i,a)}}var u=i.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){rd(t,i,a),typeof s!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function Fp(e,t,i,a,s){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&tn(t,i,s,!0),i=Et.current,i!==null){switch(i.tag){case 13:return Ht===null?al():i.alternate===null&&Be===0&&(Be=3),i.flags&=-257,i.flags|=65536,i.lanes=s,a===oo?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),sl(e,a,s)),!1;case 22:return i.flags|=65536,a===oo?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),sl(e,a,s)),!1}throw Error(c(435,i.tag))}return sl(e,a,s),al(),!1}if(be)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==eo&&(e=Error(c(422),{cause:a}),en(kt(e,i)))):(a!==eo&&(t=Error(c(423),{cause:a}),en(kt(t,i))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=kt(a,i),s=Po(e.stateNode,a,s),uo(e,s),Be!==4&&(Be=2)),!1;var r=Error(c(520),{cause:a});if(r=kt(r,i),kn===null?kn=[r]:kn.push(r),Be!==4&&(Be=2),t===null)return!0;a=kt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=s&-s,i.lanes|=e,e=Po(i.stateNode,a,e),uo(i,e),!1;case 1:if(t=i.type,r=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(wi===null||!wi.has(r))))return i.flags|=65536,s&=-s,i.lanes|=s,s=od(s),ld(s,e,i,a),uo(i,s),!1}i=i.return}while(i!==null);return!1}var cd=Error(c(461)),qe=!1;function Qe(e,t,i,a){t.child=e===null?Ju(t,null,i,a):Aa(t,e.child,i,a)}function ud(e,t,i,a,s){i=i.render;var r=t.ref;if("ref"in a){var u={};for(var m in a)m!=="ref"&&(u[m]=a[m])}else u=a;return Ui(t),a=fo(e,t,i,u,r,s),m=yo(),e!==null&&!qe?(bo(e,t,s),Kt(e,t,s)):(be&&m&&$r(t),t.flags|=1,Qe(e,t,a,s),t.child)}function dd(e,t,i,a,s){if(e===null){var r=i.type;return typeof r=="function"&&!Yr(r)&&r.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=r,md(e,t,r,a,s)):(e=ms(i.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Go(e,s)){var u=r.memoizedProps;if(i=i.compare,i=i!==null?i:Ka,i(u,a)&&e.ref===t.ref)return Kt(e,t,s)}return t.flags|=1,e=Ut(r,a),e.ref=t.ref,e.return=t,t.child=e}function md(e,t,i,a,s){if(e!==null){var r=e.memoizedProps;if(Ka(r,a)&&e.ref===t.ref)if(qe=!1,t.pendingProps=a=r,Go(e,s))(e.flags&131072)!==0&&(qe=!0);else return t.lanes=e.lanes,Kt(e,t,s)}return Bo(e,t,i,a,s)}function hd(e,t,i){var a=t.pendingProps,s=a.children,r=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=r!==null?r.baseLanes|i:i,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~a}else t.childLanes=0,t.child=null;return pd(e,t,a,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ys(t,r!==null?r.cachePool:null),r!==null?mu(t,r):ho(),ed(t);else return t.lanes=t.childLanes=536870912,pd(e,t,r!==null?r.baseLanes|i:i,i)}else r!==null?(ys(t,r.cachePool),mu(t,r),gi(),t.memoizedState=null):(e!==null&&ys(t,null),ho(),gi());return Qe(e,t,s,i),t.child}function pd(e,t,i,a){var s=ro();return s=s===null?null:{parent:Ve._currentValue,pool:s},t.memoizedState={baseLanes:i,cachePool:s},e!==null&&ys(t,null),ho(),ed(t),e!==null&&tn(e,t,a,!0),null}function Bs(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Bo(e,t,i,a,s){return Ui(t),i=fo(e,t,i,a,void 0,s),a=yo(),e!==null&&!qe?(bo(e,t,s),Kt(e,t,s)):(be&&a&&$r(t),t.flags|=1,Qe(e,t,i,s),t.child)}function gd(e,t,i,a,s,r){return Ui(t),t.updateQueue=null,i=pu(t,a,i,s),hu(e),a=yo(),e!==null&&!qe?(bo(e,t,r),Kt(e,t,r)):(be&&a&&$r(t),t.flags|=1,Qe(e,t,i,r),t.child)}function fd(e,t,i,a,s){if(Ui(t),t.stateNode===null){var r=ha,u=i.contextType;typeof u=="object"&&u!==null&&(r=Ze(u)),r=new i(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ro,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},lo(t),u=i.contextType,r.context=typeof u=="object"&&u!==null?Ze(u):ha,r.state=t.memoizedState,u=i.getDerivedStateFromProps,typeof u=="function"&&(Mo(t,i,u,a),r.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(u=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),u!==r.state&&Ro.enqueueReplaceState(r,r.state,null),cn(t,a,r,s),ln(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var m=t.memoizedProps,x=Wi(i,m);r.props=x;var N=r.context,I=i.contextType;u=ha,typeof I=="object"&&I!==null&&(u=Ze(I));var O=i.getDerivedStateFromProps;I=typeof O=="function"||typeof r.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,I||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(m||N!==u)&&id(t,r,a,u),ui=!1;var j=t.memoizedState;r.state=j,cn(t,a,r,s),ln(),N=t.memoizedState,m||j!==N||ui?(typeof O=="function"&&(Mo(t,i,O,a),N=t.memoizedState),(x=ui||td(t,i,x,a,j,N,u))?(I||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=N),r.props=a,r.state=N,r.context=u,a=x):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,co(e,t),u=t.memoizedProps,I=Wi(i,u),r.props=I,O=t.pendingProps,j=r.context,N=i.contextType,x=ha,typeof N=="object"&&N!==null&&(x=Ze(N)),m=i.getDerivedStateFromProps,(N=typeof m=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(u!==O||j!==x)&&id(t,r,a,x),ui=!1,j=t.memoizedState,r.state=j,cn(t,a,r,s),ln();var R=t.memoizedState;u!==O||j!==R||ui||e!==null&&e.dependencies!==null&&gs(e.dependencies)?(typeof m=="function"&&(Mo(t,i,m,a),R=t.memoizedState),(I=ui||td(t,i,I,a,j,R,x)||e!==null&&e.dependencies!==null&&gs(e.dependencies))?(N||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,R,x),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,R,x)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=R),r.props=a,r.state=R,r.context=x,a=I):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Bs(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Aa(t,e.child,null,s),t.child=Aa(t,null,i,s)):Qe(e,t,i,s),t.memoizedState=r.state,e=t.child):e=Kt(e,t,s),e}function yd(e,t,i,a){return Ja(),t.flags|=256,Qe(e,t,i,a),t.child}var Io={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:nu()}}function Lo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Tt),e}function bd(e,t,i){var a=t.pendingProps,s=!1,r=(t.flags&128)!==0,u;if((u=r)||(u=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),u&&(s=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(s?pi(t):gi(),be){var m=Pe,x;if(x=m){e:{for(x=m,m=It;x.nodeType!==8;){if(!m){m=null;break e}if(x=Mt(x.nextSibling),x===null){m=null;break e}}m=x}m!==null?(t.memoizedState={dehydrated:m,treeContext:zi!==null?{id:qt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},x=pt(18,null,null,0),x.stateNode=m,x.return=t,t.child=x,Je=t,Pe=null,x=!0):x=!1}x||Gi(t)}if(m=t.memoizedState,m!==null&&(m=m.dehydrated,m!==null))return xl(m)?t.lanes=32:t.lanes=536870912,null;Yt(t)}return m=a.children,a=a.fallback,s?(gi(),s=t.mode,m=Is({mode:"hidden",children:m},s),a=Li(a,s,i,null),m.return=t,a.return=t,m.sibling=a,t.child=m,s=t.child,s.memoizedState=Ho(i),s.childLanes=Lo(e,u,i),t.memoizedState=Io,a):(pi(t),zo(t,m))}if(x=e.memoizedState,x!==null&&(m=x.dehydrated,m!==null)){if(r)t.flags&256?(pi(t),t.flags&=-257,t=Oo(e,t,i)):t.memoizedState!==null?(gi(),t.child=e.child,t.flags|=128,t=null):(gi(),s=a.fallback,m=t.mode,a=Is({mode:"visible",children:a.children},m),s=Li(s,m,i,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,Aa(t,e.child,null,i),a=t.child,a.memoizedState=Ho(i),a.childLanes=Lo(e,u,i),t.memoizedState=Io,t=s);else if(pi(t),xl(m)){if(u=m.nextSibling&&m.nextSibling.dataset,u)var N=u.dgst;u=N,a=Error(c(419)),a.stack="",a.digest=u,en({value:a,source:null,stack:null}),t=Oo(e,t,i)}else if(qe||tn(e,t,i,!1),u=(i&e.childLanes)!==0,qe||u){if(u=Te,u!==null&&(a=i&-i,a=(a&42)!==0?1:xr(a),a=(a&(u.suspendedLanes|i))!==0?0:a,a!==0&&a!==x.retryLane))throw x.retryLane=a,ma(e,a),vt(u,e,a),cd;m.data==="$?"||al(),t=Oo(e,t,i)}else m.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Pe=Mt(m.nextSibling),Je=t,be=!0,Vi=null,It=!1,e!==null&&(Ct[St++]=qt,Ct[St++]=Ft,Ct[St++]=zi,qt=e.id,Ft=e.overflow,zi=t),t=zo(t,a.children),t.flags|=4096);return t}return s?(gi(),s=a.fallback,m=t.mode,x=e.child,N=x.sibling,a=Ut(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,N!==null?s=Ut(N,s):(s=Li(s,m,i,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,m=e.child.memoizedState,m===null?m=Ho(i):(x=m.cachePool,x!==null?(N=Ve._currentValue,x=x.parent!==N?{parent:N,pool:N}:x):x=nu(),m={baseLanes:m.baseLanes|i,cachePool:x}),s.memoizedState=m,s.childLanes=Lo(e,u,i),t.memoizedState=Io,a):(pi(t),i=e.child,e=i.sibling,i=Ut(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=i,t.memoizedState=null,i)}function zo(e,t){return t=Is({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Is(e,t){return e=pt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Oo(e,t,i){return Aa(t,e.child,null,i),e=zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vd(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),io(e.return,t,i)}function Vo(e,t,i,a,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=i,r.tailMode=s)}function xd(e,t,i){var a=t.pendingProps,s=a.revealOrder,r=a.tail;if(Qe(e,t,a.children,i),a=Ge.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vd(e,i,t);else if(e.tag===19)vd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(G(Ge,a),s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&Ms(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Vo(t,!1,s,i,r);break;case"backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ms(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Vo(t,!0,i,null,r);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),xi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(tn(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=Ut(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ut(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Go(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gs(e)))}function Wp(e,t,i){switch(t.tag){case 3:Ne(t,t.stateNode.containerInfo),ci(t,Ve,e.memoizedState.cache),Ja();break;case 27:case 5:gr(t);break;case 4:Ne(t,t.stateNode.containerInfo);break;case 10:ci(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(pi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?bd(e,t,i):(pi(t),e=Kt(e,t,i),e!==null?e.sibling:null);pi(t);break;case 19:var s=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(tn(e,t,i,!1),a=(i&t.childLanes)!==0),s){if(a)return xd(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(Ge,Ge.current),a)break;return null;case 22:case 23:return t.lanes=0,hd(e,t,i);case 24:ci(t,Ve,e.memoizedState.cache)}return Kt(e,t,i)}function wd(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)qe=!0;else{if(!Go(e,i)&&(t.flags&128)===0)return qe=!1,Wp(e,t,i);qe=(e.flags&131072)!==0}else qe=!1,be&&(t.flags&1048576)!==0&&Zc(t,ps,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,s=a._init;if(a=s(a._payload),t.type=a,typeof a=="function")Yr(a)?(e=Wi(a,e),t.tag=1,t=fd(null,t,a,e,i)):(t.tag=0,t=Bo(null,t,a,e,i));else{if(a!=null){if(s=a.$$typeof,s===K){t.tag=11,t=ud(null,t,a,e,i);break e}else if(s===ye){t.tag=14,t=dd(null,t,a,e,i);break e}}throw t=Z(a)||a,Error(c(306,t,""))}}return t;case 0:return Bo(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,s=Wi(a,t.pendingProps),fd(e,t,a,s,i);case 3:e:{if(Ne(t,t.stateNode.containerInfo),e===null)throw Error(c(387));a=t.pendingProps;var r=t.memoizedState;s=r.element,co(e,t),cn(t,a,null,i);var u=t.memoizedState;if(a=u.cache,ci(t,Ve,a),a!==r.cache&&ao(t,[Ve],i,!0),ln(),a=u.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=yd(e,t,a,i);break e}else if(a!==s){s=kt(Error(c(424)),t),en(s),t=yd(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Mt(e.firstChild),Je=t,be=!0,Vi=null,It=!0,i=Ju(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ja(),a===s){t=Kt(e,t,i);break e}Qe(e,t,a,i)}t=t.child}return t;case 26:return Bs(e,t),e===null?(i=Sm(t.type,null,t.pendingProps,null))?t.memoizedState=i:be||(i=t.type,e=t.pendingProps,a=Ys(oe.current).createElement(i),a[Ke]=t,a[st]=e,Ye(a,i,e),Ue(a),t.stateNode=a):t.memoizedState=Sm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gr(t),e===null&&be&&(a=t.stateNode=km(t.type,t.pendingProps,oe.current),Je=t,It=!0,s=Pe,Ci(t.type)?(wl=s,Pe=Mt(a.firstChild)):Pe=s),Qe(e,t,t.pendingProps.children,i),Bs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((s=a=Pe)&&(a=xg(a,t.type,t.pendingProps,It),a!==null?(t.stateNode=a,Je=t,Pe=Mt(a.firstChild),It=!1,s=!0):s=!1),s||Gi(t)),gr(t),s=t.type,r=t.pendingProps,u=e!==null?e.memoizedProps:null,a=r.children,yl(s,r)?a=null:u!==null&&yl(s,u)&&(t.flags|=32),t.memoizedState!==null&&(s=fo(e,t,zp,null,null,i),Mn._currentValue=s),Bs(e,t),Qe(e,t,a,i),t.child;case 6:return e===null&&be&&((e=i=Pe)&&(i=wg(i,t.pendingProps,It),i!==null?(t.stateNode=i,Je=t,Pe=null,e=!0):e=!1),e||Gi(t)),null;case 13:return bd(e,t,i);case 4:return Ne(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Aa(t,null,a,i):Qe(e,t,a,i),t.child;case 11:return ud(e,t,t.type,t.pendingProps,i);case 7:return Qe(e,t,t.pendingProps,i),t.child;case 8:return Qe(e,t,t.pendingProps.children,i),t.child;case 12:return Qe(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,ci(t,t.type,a.value),Qe(e,t,a.children,i),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Ui(t),s=Ze(s),a=a(s),t.flags|=1,Qe(e,t,a,i),t.child;case 14:return dd(e,t,t.type,t.pendingProps,i);case 15:return md(e,t,t.type,t.pendingProps,i);case 19:return xd(e,t,i);case 31:return a=t.pendingProps,i=t.mode,a={mode:a.mode,children:a.children},e===null?(i=Is(a,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=Ut(e.child,a),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return hd(e,t,i);case 24:return Ui(t),a=Ze(Ve),e===null?(s=ro(),s===null&&(s=Te,r=no(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=i),s=r),t.memoizedState={parent:a,cache:s},lo(t),ci(t,Ve,s)):((e.lanes&i)!==0&&(co(e,t),cn(t,null,null,i),ln()),s=e.memoizedState,r=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ci(t,Ve,a)):(a=r.cache,ci(t,Ve,a),a!==s.cache&&ao(t,[Ve],i,!0))),Qe(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Zt(e){e.flags|=4}function kd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jm(t)){if(t=Et.current,t!==null&&((ge&4194048)===ge?Ht!==null:(ge&62914560)!==ge&&(ge&536870912)===0||t!==Ht))throw rn=oo,su;e.flags|=8192}}function Hs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ec():536870912,e.lanes|=t,Ta|=t)}function fn(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Qp(e,t,i){var a=t.pendingProps;switch(Jr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qt(Ve),si(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($a(t)?Zt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,eu())),Me(t),null;case 26:return i=t.memoizedState,e===null?(Zt(t),i!==null?(Me(t),kd(t,i)):(Me(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Zt(t),Me(t),kd(t,i)):(Me(t),t.flags&=-16777217):(e.memoizedProps!==a&&Zt(t),Me(t),t.flags&=-16777217),null;case 27:Qn(t),i=oe.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return Me(t),null}e=Y.current,$a(t)?$c(t):(e=km(s,a,i),t.stateNode=e,Zt(t))}return Me(t),null;case 5:if(Qn(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(!a){if(t.stateNode===null)throw Error(c(166));return Me(t),null}if(e=Y.current,$a(t))$c(t);else{switch(s=Ys(oe.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?s.createElement(i,{is:a.is}):s.createElement(i)}}e[Ke]=t,e[st]=a;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(Ye(e,i,a),i){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zt(t)}}return Me(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(e=oe.current,$a(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,s=Je,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Ke]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||gm(e.nodeValue,i)),e||Gi(t)}else e=Ys(e).createTextNode(a),e[Ke]=t,t.stateNode=e}return Me(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=$a(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(c(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));s[Ke]=t}else Ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else s=eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Yt(t),t):(Yt(t),null)}if(Yt(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=a!==null,e=e!==null&&e.memoizedState!==null,i){a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool);var r=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Hs(t,t.updateQueue),Me(t),null;case 4:return si(),e===null&&ml(t.stateNode.containerInfo),Me(t),null;case 10:return Qt(t.type),Me(t),null;case 19:if(P(Ge),s=t.memoizedState,s===null)return Me(t),null;if(a=(t.flags&128)!==0,r=s.rendering,r===null)if(a)fn(s,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Ms(e),r!==null){for(t.flags|=128,fn(s,!1),e=r.updateQueue,t.updateQueue=e,Hs(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Kc(i,e),i=i.sibling;return G(Ge,Ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&Bt()>Os&&(t.flags|=128,a=!0,fn(s,!1),t.lanes=4194304)}else{if(!a)if(e=Ms(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Hs(t,e),fn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!be)return Me(t),null}else 2*Bt()-s.renderingStartTime>Os&&i!==536870912&&(t.flags|=128,a=!0,fn(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bt(),t.sibling=null,e=Ge.current,G(Ge,a?e&1|2:e&1),t):(Me(t),null);case 22:case 23:return Yt(t),po(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),i=t.updateQueue,i!==null&&Hs(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&P(qi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Qt(Ve),Me(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function Xp(e,t){switch(Jr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qt(Ve),si(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qn(t),null;case 13:if(Yt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(Ge),null;case 4:return si(),null;case 10:return Qt(t.type),null;case 22:case 23:return Yt(t),po(),e!==null&&P(qi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qt(Ve),null;case 25:return null;default:return null}}function Ad(e,t){switch(Jr(t),t.tag){case 3:Qt(Ve),si();break;case 26:case 27:case 5:Qn(t);break;case 4:si();break;case 13:Yt(t);break;case 19:P(Ge);break;case 10:Qt(t.type);break;case 22:case 23:Yt(t),po(),e!==null&&P(qi);break;case 24:Qt(Ve)}}function yn(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var s=a.next;i=s;do{if((i.tag&e)===e){a=void 0;var r=i.create,u=i.inst;a=r(),u.destroy=a}i=i.next}while(i!==s)}}catch(m){Ee(t,t.return,m)}}function fi(e,t,i){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var r=s.next;a=r;do{if((a.tag&e)===e){var u=a.inst,m=u.destroy;if(m!==void 0){u.destroy=void 0,s=t;var x=i,N=m;try{N()}catch(I){Ee(s,x,I)}}}a=a.next}while(a!==r)}}catch(I){Ee(t,t.return,I)}}function Cd(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{du(t,i)}catch(a){Ee(e,e.return,a)}}}function Sd(e,t,i){i.props=Wi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Ee(e,t,a)}}function bn(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(s){Ee(e,t,s)}}function Lt(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(s){Ee(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(s){Ee(e,t,s)}else i.current=null}function Ed(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(s){Ee(e,e.return,s)}}function _o(e,t,i){try{var a=e.stateNode;gg(a,e.type,i,t),a[st]=t}catch(s){Ee(e,e.return,s)}}function Td(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ci(e.type)||e.tag===4}function Uo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ci(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qo(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Xs));else if(a!==4&&(a===27&&Ci(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(qo(e,t,i),e=e.sibling;e!==null;)qo(e,t,i),e=e.sibling}function Ls(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Ci(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ls(e,t,i),e=e.sibling;e!==null;)Ls(e,t,i),e=e.sibling}function Dd(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ye(t,a,i),t[Ke]=e,t[st]=i}catch(r){Ee(e,e.return,r)}}var $t=!1,He=!1,Fo=!1,Nd=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Yp(e,t){if(e=e.containerInfo,gl=tr,e=Vc(e),_r(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var s=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{i.nodeType,r.nodeType}catch{i=null;break e}var u=0,m=-1,x=-1,N=0,I=0,O=e,j=null;t:for(;;){for(var R;O!==i||s!==0&&O.nodeType!==3||(m=u+s),O!==r||a!==0&&O.nodeType!==3||(x=u+a),O.nodeType===3&&(u+=O.nodeValue.length),(R=O.firstChild)!==null;)j=O,O=R;for(;;){if(O===e)break t;if(j===i&&++N===s&&(m=u),j===r&&++I===a&&(x=u),(R=O.nextSibling)!==null)break;O=j,j=O.parentNode}O=R}i=m===-1||x===-1?null:{start:m,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(fl={focusedElem:e,selectionRange:i},tr=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,i=t,s=r.memoizedProps,r=r.memoizedState,a=i.stateNode;try{var se=Wi(i.type,s,i.elementType===i.type);e=a.getSnapshotBeforeUpdate(se,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ee(i,i.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)vl(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vl(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function jd(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:yi(e,i),a&4&&yn(5,i);break;case 1:if(yi(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(u){Ee(i,i.return,u)}else{var s=Wi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Ee(i,i.return,u)}}a&64&&Cd(i),a&512&&bn(i,i.return);break;case 3:if(yi(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{du(e,t)}catch(u){Ee(i,i.return,u)}}break;case 27:t===null&&a&4&&Dd(i);case 26:case 5:yi(e,i),t===null&&a&4&&Ed(i),a&512&&bn(i,i.return);break;case 12:yi(e,i);break;case 13:yi(e,i),a&4&&Pd(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ng.bind(null,i),kg(e,i))));break;case 22:if(a=i.memoizedState!==null||$t,!a){t=t!==null&&t.memoizedState!==null||He,s=$t;var r=He;$t=a,(He=t)&&!r?bi(e,i,(i.subtreeFlags&8772)!==0):yi(e,i),$t=s,He=r}break;case 30:break;default:yi(e,i)}}function Md(e){var t=e.alternate;t!==null&&(e.alternate=null,Md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ar(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,lt=!1;function Jt(e,t,i){for(i=i.child;i!==null;)Rd(e,t,i),i=i.sibling}function Rd(e,t,i){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(za,i)}catch{}switch(i.tag){case 26:He||Lt(i,t),Jt(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:He||Lt(i,t);var a=je,s=lt;Ci(i.type)&&(je=i.stateNode,lt=!1),Jt(e,t,i),Tn(i.stateNode),je=a,lt=s;break;case 5:He||Lt(i,t);case 6:if(a=je,s=lt,je=null,Jt(e,t,i),je=a,lt=s,je!==null)if(lt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(i.stateNode)}catch(r){Ee(i,t,r)}else try{je.removeChild(i.stateNode)}catch(r){Ee(i,t,r)}break;case 18:je!==null&&(lt?(e=je,xm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),In(e)):xm(je,i.stateNode));break;case 4:a=je,s=lt,je=i.stateNode.containerInfo,lt=!0,Jt(e,t,i),je=a,lt=s;break;case 0:case 11:case 14:case 15:He||fi(2,i,t),He||fi(4,i,t),Jt(e,t,i);break;case 1:He||(Lt(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&Sd(i,t,a)),Jt(e,t,i);break;case 21:Jt(e,t,i);break;case 22:He=(a=He)||i.memoizedState!==null,Jt(e,t,i),He=a;break;default:Jt(e,t,i)}}function Pd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{In(e)}catch(i){Ee(t,t.return,i)}}function Kp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nd),t;default:throw Error(c(435,e.tag))}}function Wo(e,t){var i=Kp(e);t.forEach(function(a){var s=sg.bind(null,e,a);i.has(a)||(i.add(a),a.then(s,s))})}function gt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var s=i[a],r=e,u=t,m=u;e:for(;m!==null;){switch(m.tag){case 27:if(Ci(m.type)){je=m.stateNode,lt=!1;break e}break;case 5:je=m.stateNode,lt=!1;break e;case 3:case 4:je=m.stateNode.containerInfo,lt=!0;break e}m=m.return}if(je===null)throw Error(c(160));Rd(r,u,s),je=null,lt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}var jt=null;function Bd(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),ft(e),a&4&&(fi(3,e,e.return),yn(3,e),fi(5,e,e.return));break;case 1:gt(t,e),ft(e),a&512&&(He||i===null||Lt(i,i.return)),a&64&&$t&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var s=jt;if(gt(t,e),ft(e),a&512&&(He||i===null||Lt(i,i.return)),a&4){var r=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Ga]||r[Ke]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(a),s.head.insertBefore(r,s.querySelector("head > title"))),Ye(r,a,i),r[Ke]=e,Ue(r),a=r;break e;case"link":var u=Dm("link","href",s).get(a+(i.href||""));if(u){for(var m=0;m<u.length;m++)if(r=u[m],r.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&r.getAttribute("rel")===(i.rel==null?null:i.rel)&&r.getAttribute("title")===(i.title==null?null:i.title)&&r.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){u.splice(m,1);break t}}r=s.createElement(a),Ye(r,a,i),s.head.appendChild(r);break;case"meta":if(u=Dm("meta","content",s).get(a+(i.content||""))){for(m=0;m<u.length;m++)if(r=u[m],r.getAttribute("content")===(i.content==null?null:""+i.content)&&r.getAttribute("name")===(i.name==null?null:i.name)&&r.getAttribute("property")===(i.property==null?null:i.property)&&r.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&r.getAttribute("charset")===(i.charSet==null?null:i.charSet)){u.splice(m,1);break t}}r=s.createElement(a),Ye(r,a,i),s.head.appendChild(r);break;default:throw Error(c(468,a))}r[Ke]=e,Ue(r),a=r}e.stateNode=a}else Nm(s,e.type,e.stateNode);else e.stateNode=Tm(s,a,e.memoizedProps);else r!==a?(r===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):r.count--,a===null?Nm(s,e.type,e.stateNode):Tm(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&_o(e,e.memoizedProps,i.memoizedProps)}break;case 27:gt(t,e),ft(e),a&512&&(He||i===null||Lt(i,i.return)),i!==null&&a&4&&_o(e,e.memoizedProps,i.memoizedProps);break;case 5:if(gt(t,e),ft(e),a&512&&(He||i===null||Lt(i,i.return)),e.flags&32){s=e.stateNode;try{sa(s,"")}catch(R){Ee(e,e.return,R)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,_o(e,s,i!==null?i.memoizedProps:s)),a&1024&&(Fo=!0);break;case 6:if(gt(t,e),ft(e),a&4){if(e.stateNode===null)throw Error(c(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(R){Ee(e,e.return,R)}}break;case 3:if($s=null,s=jt,jt=Ks(t.containerInfo),gt(t,e),jt=s,ft(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{In(t.containerInfo)}catch(R){Ee(e,e.return,R)}Fo&&(Fo=!1,Id(e));break;case 4:a=jt,jt=Ks(e.stateNode.containerInfo),gt(t,e),ft(e),jt=a;break;case 12:gt(t,e),ft(e);break;case 13:gt(t,e),ft(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&($o=Bt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Wo(e,a)));break;case 22:s=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,N=$t,I=He;if($t=N||s,He=I||x,gt(t,e),He=I,$t=N,ft(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(i===null||x||$t||He||Qi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){x=i=t;try{if(r=x.stateNode,s)u=r.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{m=x.stateNode;var O=x.memoizedProps.style,j=O!=null&&O.hasOwnProperty("display")?O.display:null;m.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(R){Ee(x,x.return,R)}}}else if(t.tag===6){if(i===null){x=t;try{x.stateNode.nodeValue=s?"":x.memoizedProps}catch(R){Ee(x,x.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Wo(e,i))));break;case 19:gt(t,e),ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Wo(e,a)));break;case 30:break;case 21:break;default:gt(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(Td(a)){i=a;break}a=a.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var s=i.stateNode,r=Uo(e);Ls(e,r,s);break;case 5:var u=i.stateNode;i.flags&32&&(sa(u,""),i.flags&=-33);var m=Uo(e);Ls(e,m,u);break;case 3:case 4:var x=i.stateNode.containerInfo,N=Uo(e);qo(e,N,x);break;default:throw Error(c(161))}}catch(I){Ee(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Id(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Id(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jd(e,t.alternate,t),t=t.sibling}function Qi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fi(4,t,t.return),Qi(t);break;case 1:Lt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Sd(t,t.return,i),Qi(t);break;case 27:Tn(t.stateNode);case 26:case 5:Lt(t,t.return),Qi(t);break;case 22:t.memoizedState===null&&Qi(t);break;case 30:Qi(t);break;default:Qi(t)}e=e.sibling}}function bi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,r=t,u=r.flags;switch(r.tag){case 0:case 11:case 15:bi(s,r,i),yn(4,r);break;case 1:if(bi(s,r,i),a=r,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(N){Ee(a,a.return,N)}if(a=r,s=a.updateQueue,s!==null){var m=a.stateNode;try{var x=s.shared.hiddenCallbacks;if(x!==null)for(s.shared.hiddenCallbacks=null,s=0;s<x.length;s++)uu(x[s],m)}catch(N){Ee(a,a.return,N)}}i&&u&64&&Cd(r),bn(r,r.return);break;case 27:Dd(r);case 26:case 5:bi(s,r,i),i&&a===null&&u&4&&Ed(r),bn(r,r.return);break;case 12:bi(s,r,i);break;case 13:bi(s,r,i),i&&u&4&&Pd(s,r);break;case 22:r.memoizedState===null&&bi(s,r,i),bn(r,r.return);break;case 30:break;default:bi(s,r,i)}t=t.sibling}}function Qo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&an(i))}function Xo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&an(e))}function zt(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hd(e,t,i,a),t=t.sibling}function Hd(e,t,i,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:zt(e,t,i,a),s&2048&&yn(9,t);break;case 1:zt(e,t,i,a);break;case 3:zt(e,t,i,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&an(e)));break;case 12:if(s&2048){zt(e,t,i,a),e=t.stateNode;try{var r=t.memoizedProps,u=r.id,m=r.onPostCommit;typeof m=="function"&&m(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Ee(t,t.return,x)}}else zt(e,t,i,a);break;case 13:zt(e,t,i,a);break;case 23:break;case 22:r=t.stateNode,u=t.alternate,t.memoizedState!==null?r._visibility&2?zt(e,t,i,a):vn(e,t):r._visibility&2?zt(e,t,i,a):(r._visibility|=2,Ca(e,t,i,a,(t.subtreeFlags&10256)!==0)),s&2048&&Qo(u,t);break;case 24:zt(e,t,i,a),s&2048&&Xo(t.alternate,t);break;default:zt(e,t,i,a)}}function Ca(e,t,i,a,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,u=t,m=i,x=a,N=u.flags;switch(u.tag){case 0:case 11:case 15:Ca(r,u,m,x,s),yn(8,u);break;case 23:break;case 22:var I=u.stateNode;u.memoizedState!==null?I._visibility&2?Ca(r,u,m,x,s):vn(r,u):(I._visibility|=2,Ca(r,u,m,x,s)),s&&N&2048&&Qo(u.alternate,u);break;case 24:Ca(r,u,m,x,s),s&&N&2048&&Xo(u.alternate,u);break;default:Ca(r,u,m,x,s)}t=t.sibling}}function vn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,s=a.flags;switch(a.tag){case 22:vn(i,a),s&2048&&Qo(a.alternate,a);break;case 24:vn(i,a),s&2048&&Xo(a.alternate,a);break;default:vn(i,a)}t=t.sibling}}var xn=8192;function Sa(e){if(e.subtreeFlags&xn)for(e=e.child;e!==null;)Ld(e),e=e.sibling}function Ld(e){switch(e.tag){case 26:Sa(e),e.flags&xn&&e.memoizedState!==null&&Ig(jt,e.memoizedState,e.memoizedProps);break;case 5:Sa(e);break;case 3:case 4:var t=jt;jt=Ks(e.stateNode.containerInfo),Sa(e),jt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=xn,xn=16777216,Sa(e),xn=t):Sa(e));break;default:Sa(e)}}function zd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Fe=a,Vd(a,e)}zd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Od(e),e=e.sibling}function Od(e){switch(e.tag){case 0:case 11:case 15:wn(e),e.flags&2048&&fi(9,e,e.return);break;case 3:wn(e);break;case 12:wn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zs(e)):wn(e);break;default:wn(e)}}function zs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Fe=a,Vd(a,e)}zd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fi(8,t,t.return),zs(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,zs(t));break;default:zs(t)}e=e.sibling}}function Vd(e,t){for(;Fe!==null;){var i=Fe;switch(i.tag){case 0:case 11:case 15:fi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:an(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Fe=a;else e:for(i=e;Fe!==null;){a=Fe;var s=a.sibling,r=a.return;if(Md(a),a===i){Fe=null;break e}if(s!==null){s.return=r,Fe=s;break e}Fe=r}}}var Zp={getCacheForType:function(e){var t=Ze(Ve),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},$p=typeof WeakMap=="function"?WeakMap:Map,xe=0,Te=null,me=null,ge=0,we=0,yt=null,vi=!1,Ea=!1,Yo=!1,ei=0,Be=0,xi=0,Xi=0,Ko=0,Tt=0,Ta=0,kn=null,ct=null,Zo=!1,$o=0,Os=1/0,Vs=null,wi=null,Xe=0,ki=null,Da=null,Na=0,Jo=0,el=null,Gd=null,An=0,tl=null;function bt(){if((xe&2)!==0&&ge!==0)return ge&-ge;if(S.T!==null){var e=fa;return e!==0?e:ll()}return ac()}function _d(){Tt===0&&(Tt=(ge&536870912)===0||be?Jl():536870912);var e=Et.current;return e!==null&&(e.flags|=32),Tt}function vt(e,t,i){(e===Te&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Ai(e,ge,Tt,!1)),Va(e,i),((xe&2)===0||e!==Te)&&(e===Te&&((xe&2)===0&&(Xi|=i),Be===4&&Ai(e,ge,Tt,!1)),Ot(e))}function Ud(e,t,i){if((xe&6)!==0)throw Error(c(327));var a=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Oa(e,t),s=a?tg(e,t):nl(e,t,!0),r=a;do{if(s===0){Ea&&!a&&Ai(e,t,0,!1);break}else{if(i=e.current.alternate,r&&!Jp(i)){s=nl(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var m=e;s=kn;var x=m.current.memoizedState.isDehydrated;if(x&&(ja(m,u).flags|=256),u=nl(m,u,!1),u!==2){if(Yo&&!x){m.errorRecoveryDisabledLanes|=r,Xi|=r,s=4;break e}r=ct,ct=s,r!==null&&(ct===null?ct=r:ct.push.apply(ct,r))}s=u}if(r=!1,s!==2)continue}}if(s===1){ja(e,0),Ai(e,t,0,!0);break}e:{switch(a=e,r=s,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ai(a,t,Tt,!vi);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(s=$o+300-Bt(),10<s)){if(Ai(a,t,Tt,!vi),Zn(a,0,!0)!==0)break e;a.timeoutHandle=bm(qd.bind(null,a,i,ct,Vs,Zo,t,Tt,Xi,Ta,vi,r,2,-0,0),s);break e}qd(a,i,ct,Vs,Zo,t,Tt,Xi,Ta,vi,r,0,-0,0)}}break}while(!0);Ot(e)}function qd(e,t,i,a,s,r,u,m,x,N,I,O,j,R){if(e.timeoutHandle=-1,O=t.subtreeFlags,(O&8192||(O&16785408)===16785408)&&(jn={stylesheets:null,count:0,unsuspend:Bg},Ld(t),O=Hg(),O!==null)){e.cancelPendingCommit=O(Zd.bind(null,e,t,r,i,a,s,u,m,x,I,1,j,R)),Ai(e,r,u,!N);return}Zd(e,t,r,i,a,s,u,m,x)}function Jp(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var s=i[a],r=s.getSnapshot;s=s.value;try{if(!ht(r(),s))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ai(e,t,i,a){t&=~Ko,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var r=31-mt(s),u=1<<r;a[r]=-1,s&=~u}i!==0&&tc(e,i,t)}function Gs(){return(xe&6)===0?(Cn(0),!1):!0}function il(){if(me!==null){if(we===0)var e=me.return;else e=me,Wt=_i=null,vo(e),ka=null,pn=0,e=me;for(;e!==null;)Ad(e.alternate,e),e=e.return;me=null}}function ja(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,yg(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),il(),Te=e,me=i=Ut(e.current,null),ge=t,we=0,yt=null,vi=!1,Ea=Oa(e,t),Yo=!1,Ta=Tt=Ko=Xi=xi=Be=0,ct=kn=null,Zo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-mt(a),r=1<<s;t|=e[s],a&=~r}return ei=t,cs(),i}function Fd(e,t){ce=null,S.H=Ds,t===sn||t===bs?(t=lu(),we=3):t===su?(t=lu(),we=4):we=t===cd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,yt=t,me===null&&(Be=1,Ps(e,kt(t,e.current)))}function Wd(){var e=S.H;return S.H=Ds,e===null?Ds:e}function Qd(){var e=S.A;return S.A=Zp,e}function al(){Be=4,vi||(ge&4194048)!==ge&&Et.current!==null||(Ea=!0),(xi&134217727)===0&&(Xi&134217727)===0||Te===null||Ai(Te,ge,Tt,!1)}function nl(e,t,i){var a=xe;xe|=2;var s=Wd(),r=Qd();(Te!==e||ge!==t)&&(Vs=null,ja(e,t)),t=!1;var u=Be;e:do try{if(we!==0&&me!==null){var m=me,x=yt;switch(we){case 8:il(),u=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var N=we;if(we=0,yt=null,Ma(e,m,x,N),i&&Ea){u=0;break e}break;default:N=we,we=0,yt=null,Ma(e,m,x,N)}}eg(),u=Be;break}catch(I){Fd(e,I)}while(!0);return t&&e.shellSuspendCounter++,Wt=_i=null,xe=a,S.H=s,S.A=r,me===null&&(Te=null,ge=0,cs()),u}function eg(){for(;me!==null;)Xd(me)}function tg(e,t){var i=xe;xe|=2;var a=Wd(),s=Qd();Te!==e||ge!==t?(Vs=null,Os=Bt()+500,ja(e,t)):Ea=Oa(e,t);e:do try{if(we!==0&&me!==null){t=me;var r=yt;t:switch(we){case 1:we=0,yt=null,Ma(e,t,r,1);break;case 2:case 9:if(ru(r)){we=0,yt=null,Yd(t);break}t=function(){we!==2&&we!==9||Te!==e||(we=7),Ot(e)},r.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:ru(r)?(we=0,yt=null,Yd(t)):(we=0,yt=null,Ma(e,t,r,7));break;case 5:var u=null;switch(me.tag){case 26:u=me.memoizedState;case 5:case 27:var m=me;if(!u||jm(u)){we=0,yt=null;var x=m.sibling;if(x!==null)me=x;else{var N=m.return;N!==null?(me=N,_s(N)):me=null}break t}}we=0,yt=null,Ma(e,t,r,5);break;case 6:we=0,yt=null,Ma(e,t,r,6);break;case 8:il(),Be=6;break e;default:throw Error(c(462))}}ig();break}catch(I){Fd(e,I)}while(!0);return Wt=_i=null,S.H=a,S.A=s,xe=i,me!==null?0:(Te=null,ge=0,cs(),Be)}function ig(){for(;me!==null&&!Ch();)Xd(me)}function Xd(e){var t=wd(e.alternate,e,ei);e.memoizedProps=e.pendingProps,t===null?_s(e):me=t}function Yd(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=gd(i,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=gd(i,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:vo(t);default:Ad(i,t),t=me=Kc(t,ei),t=wd(i,t,ei)}e.memoizedProps=e.pendingProps,t===null?_s(e):me=t}function Ma(e,t,i,a){Wt=_i=null,vo(t),ka=null,pn=0;var s=t.return;try{if(Fp(e,s,t,i,ge)){Be=1,Ps(e,kt(i,e.current)),me=null;return}}catch(r){if(s!==null)throw me=s,r;Be=1,Ps(e,kt(i,e.current)),me=null;return}t.flags&32768?(be||a===1?e=!0:Ea||(ge&536870912)!==0?e=!1:(vi=e=!0,(a===2||a===9||a===3||a===6)&&(a=Et.current,a!==null&&a.tag===13&&(a.flags|=16384))),Kd(t,e)):_s(t)}function _s(e){var t=e;do{if((t.flags&32768)!==0){Kd(t,vi);return}e=t.return;var i=Qp(t.alternate,t,ei);if(i!==null){me=i;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Be===0&&(Be=5)}function Kd(e,t){do{var i=Xp(e.alternate,e);if(i!==null){i.flags&=32767,me=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=i}while(e!==null);Be=6,me=null}function Zd(e,t,i,a,s,r,u,m,x){e.cancelPendingCommit=null;do Us();while(Xe!==0);if((xe&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=Qr,Bh(e,i,r,u,m,x),e===Te&&(me=Te=null,ge=0),Da=t,ki=e,Na=i,Jo=r,el=s,Gd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rg(Xn,function(){return im(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=S.T,S.T=null,s=H.p,H.p=2,u=xe,xe|=4;try{Yp(e,t,i)}finally{xe=u,H.p=s,S.T=a}}Xe=1,$d(),Jd(),em()}}function $d(){if(Xe===1){Xe=0;var e=ki,t=Da,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=S.T,S.T=null;var a=H.p;H.p=2;var s=xe;xe|=4;try{Bd(t,e);var r=fl,u=Vc(e.containerInfo),m=r.focusedElem,x=r.selectionRange;if(u!==m&&m&&m.ownerDocument&&Oc(m.ownerDocument.documentElement,m)){if(x!==null&&_r(m)){var N=x.start,I=x.end;if(I===void 0&&(I=N),"selectionStart"in m)m.selectionStart=N,m.selectionEnd=Math.min(I,m.value.length);else{var O=m.ownerDocument||document,j=O&&O.defaultView||window;if(j.getSelection){var R=j.getSelection(),se=m.textContent.length,ae=Math.min(x.start,se),Se=x.end===void 0?ae:Math.min(x.end,se);!R.extend&&ae>Se&&(u=Se,Se=ae,ae=u);var T=zc(m,ae),A=zc(m,Se);if(T&&A&&(R.rangeCount!==1||R.anchorNode!==T.node||R.anchorOffset!==T.offset||R.focusNode!==A.node||R.focusOffset!==A.offset)){var D=O.createRange();D.setStart(T.node,T.offset),R.removeAllRanges(),ae>Se?(R.addRange(D),R.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),R.addRange(D))}}}}for(O=[],R=m;R=R.parentNode;)R.nodeType===1&&O.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<O.length;m++){var L=O[m];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}tr=!!gl,fl=gl=null}finally{xe=s,H.p=a,S.T=i}}e.current=t,Xe=2}}function Jd(){if(Xe===2){Xe=0;var e=ki,t=Da,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=S.T,S.T=null;var a=H.p;H.p=2;var s=xe;xe|=4;try{jd(e,t.alternate,t)}finally{xe=s,H.p=a,S.T=i}}Xe=3}}function em(){if(Xe===4||Xe===3){Xe=0,Sh();var e=ki,t=Da,i=Na,a=Gd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,Da=ki=null,tm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(wi=null),wr(i),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(za,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=S.T,s=H.p,H.p=2,S.T=null;try{for(var r=e.onRecoverableError,u=0;u<a.length;u++){var m=a[u];r(m.value,{componentStack:m.stack})}}finally{S.T=t,H.p=s}}(Na&3)!==0&&Us(),Ot(e),s=e.pendingLanes,(i&4194090)!==0&&(s&42)!==0?e===tl?An++:(An=0,tl=e):An=0,Cn(0)}}function tm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,an(t)))}function Us(e){return $d(),Jd(),em(),im()}function im(){if(Xe!==5)return!1;var e=ki,t=Jo;Jo=0;var i=wr(Na),a=S.T,s=H.p;try{H.p=32>i?32:i,S.T=null,i=el,el=null;var r=ki,u=Na;if(Xe=0,Da=ki=null,Na=0,(xe&6)!==0)throw Error(c(331));var m=xe;if(xe|=4,Od(r.current),Hd(r,r.current,u,i),xe=m,Cn(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(za,r)}catch{}return!0}finally{H.p=s,S.T=a,tm(e,t)}}function am(e,t,i){t=kt(i,t),t=Po(e.stateNode,t,2),e=mi(e,t,2),e!==null&&(Va(e,2),Ot(e))}function Ee(e,t,i){if(e.tag===3)am(e,e,i);else for(;t!==null;){if(t.tag===3){am(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(wi===null||!wi.has(a))){e=kt(i,e),i=od(2),a=mi(t,i,2),a!==null&&(ld(i,a,t,e),Va(a,2),Ot(a));break}}t=t.return}}function sl(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new $p;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(i)||(Yo=!0,s.add(i),e=ag.bind(null,e,t,i),t.then(e,e))}function ag(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Te===e&&(ge&i)===i&&(Be===4||Be===3&&(ge&62914560)===ge&&300>Bt()-$o?(xe&2)===0&&ja(e,0):Ko|=i,Ta===ge&&(Ta=0)),Ot(e)}function nm(e,t){t===0&&(t=ec()),e=ma(e,t),e!==null&&(Va(e,t),Ot(e))}function ng(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),nm(e,i)}function sg(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(c(314))}a!==null&&a.delete(t),nm(e,i)}function rg(e,t){return yr(e,t)}var qs=null,Ra=null,rl=!1,Fs=!1,ol=!1,Yi=0;function Ot(e){e!==Ra&&e.next===null&&(Ra===null?qs=Ra=e:Ra=Ra.next=e),Fs=!0,rl||(rl=!0,lg())}function Cn(e,t){if(!ol&&Fs){ol=!0;do for(var i=!1,a=qs;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var r=0;else{var u=a.suspendedLanes,m=a.pingedLanes;r=(1<<31-mt(42|e)+1)-1,r&=s&~(u&~m),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(i=!0,lm(a,r))}else r=ge,r=Zn(a,a===Te?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Oa(a,r)||(i=!0,lm(a,r));a=a.next}while(i);ol=!1}}function og(){sm()}function sm(){Fs=rl=!1;var e=0;Yi!==0&&(fg()&&(e=Yi),Yi=0);for(var t=Bt(),i=null,a=qs;a!==null;){var s=a.next,r=rm(a,t);r===0?(a.next=null,i===null?qs=s:i.next=s,s===null&&(Ra=i)):(i=a,(e!==0||(r&3)!==0)&&(Fs=!0)),a=s}Cn(e)}function rm(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var u=31-mt(r),m=1<<u,x=s[u];x===-1?((m&i)===0||(m&a)!==0)&&(s[u]=Ph(m,t)):x<=t&&(e.expiredLanes|=m),r&=~m}if(t=Te,i=ge,i=Zn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&br(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Oa(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&br(a),wr(i)){case 2:case 8:i=Zl;break;case 32:i=Xn;break;case 268435456:i=$l;break;default:i=Xn}return a=om.bind(null,e),i=yr(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&br(a),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Us()&&e.callbackNode!==i)return null;var a=ge;return a=Zn(e,e===Te?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Ud(e,a,t),rm(e,Bt()),e.callbackNode!=null&&e.callbackNode===i?om.bind(null,e):null)}function lm(e,t){if(Us())return null;Ud(e,t,!0)}function lg(){bg(function(){(xe&6)!==0?yr(Kl,og):sm()})}function ll(){return Yi===0&&(Yi=Jl()),Yi}function cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:is(""+e)}function um(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function cg(e,t,i,a,s){if(t==="submit"&&i&&i.stateNode===s){var r=cm((s[st]||null).action),u=a.submitter;u&&(t=(t=u[st]||null)?cm(t.formAction):u.getAttribute("formAction"),t!==null&&(r=t,u=null));var m=new rs("action","action",null,a,s);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Yi!==0){var x=u?um(s,u):new FormData(s);Do(i,{pending:!0,data:x,method:s.method,action:r},null,x)}}else typeof r=="function"&&(m.preventDefault(),x=u?um(s,u):new FormData(s),Do(i,{pending:!0,data:x,method:s.method,action:r},r,x))},currentTarget:s}]})}}for(var cl=0;cl<Wr.length;cl++){var ul=Wr[cl],ug=ul.toLowerCase(),dg=ul[0].toUpperCase()+ul.slice(1);Nt(ug,"on"+dg)}Nt(Uc,"onAnimationEnd"),Nt(qc,"onAnimationIteration"),Nt(Fc,"onAnimationStart"),Nt("dblclick","onDoubleClick"),Nt("focusin","onFocus"),Nt("focusout","onBlur"),Nt(Dp,"onTransitionRun"),Nt(Np,"onTransitionStart"),Nt(jp,"onTransitionCancel"),Nt(Wc,"onTransitionEnd"),ia("onMouseEnter",["mouseout","mouseover"]),ia("onMouseLeave",["mouseout","mouseover"]),ia("onPointerEnter",["pointerout","pointerover"]),ia("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sn));function dm(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],s=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var u=a.length-1;0<=u;u--){var m=a[u],x=m.instance,N=m.currentTarget;if(m=m.listener,x!==r&&s.isPropagationStopped())break e;r=m,s.currentTarget=N;try{r(s)}catch(I){Rs(I)}s.currentTarget=null,r=x}else for(u=0;u<a.length;u++){if(m=a[u],x=m.instance,N=m.currentTarget,m=m.listener,x!==r&&s.isPropagationStopped())break e;r=m,s.currentTarget=N;try{r(s)}catch(I){Rs(I)}s.currentTarget=null,r=x}}}}function he(e,t){var i=t[kr];i===void 0&&(i=t[kr]=new Set);var a=e+"__bubble";i.has(a)||(mm(t,e,2,!1),i.add(a))}function dl(e,t,i){var a=0;t&&(a|=4),mm(i,e,a,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function ml(e){if(!e[Ws]){e[Ws]=!0,sc.forEach(function(i){i!=="selectionchange"&&(mg.has(i)||dl(i,!1,e),dl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,dl("selectionchange",!1,t))}}function mm(e,t,i,a){switch(Hm(t)){case 2:var s=Og;break;case 8:s=Vg;break;default:s=El}i=s.bind(null,t,i,e),s=void 0,!Pr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function hl(e,t,i,a,s){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var m=a.stateNode.containerInfo;if(m===s)break;if(u===4)for(u=a.return;u!==null;){var x=u.tag;if((x===3||x===4)&&u.stateNode.containerInfo===s)return;u=u.return}for(;m!==null;){if(u=Ji(m),u===null)return;if(x=u.tag,x===5||x===6||x===26||x===27){a=r=u;continue e}m=m.parentNode}}a=a.return}vc(function(){var N=r,I=Mr(i),O=[];e:{var j=Qc.get(e);if(j!==void 0){var R=rs,se=e;switch(e){case"keypress":if(ns(i)===0)break e;case"keydown":case"keyup":R=rp;break;case"focusin":se="focus",R=Lr;break;case"focusout":se="blur",R=Lr;break;case"beforeblur":case"afterblur":R=Lr;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=cp;break;case Uc:case qc:case Fc:R=Zh;break;case Wc:R=dp;break;case"scroll":case"scrollend":R=Wh;break;case"wheel":R=hp;break;case"copy":case"cut":case"paste":R=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Cc;break;case"toggle":case"beforetoggle":R=gp}var ae=(t&4)!==0,Se=!ae&&(e==="scroll"||e==="scrollend"),T=ae?j!==null?j+"Capture":null:j;ae=[];for(var A=N,D;A!==null;){var L=A;if(D=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||D===null||T===null||(L=Ua(A,T),L!=null&&ae.push(En(A,L,D))),Se)break;A=A.return}0<ae.length&&(j=new R(j,se,null,i,I),O.push({event:j,listeners:ae}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",j&&i!==jr&&(se=i.relatedTarget||i.fromElement)&&(Ji(se)||se[$i]))break e;if((R||j)&&(j=I.window===I?I:(j=I.ownerDocument)?j.defaultView||j.parentWindow:window,R?(se=i.relatedTarget||i.toElement,R=N,se=se?Ji(se):null,se!==null&&(Se=y(se),ae=se.tag,se!==Se||ae!==5&&ae!==27&&ae!==6)&&(se=null)):(R=null,se=N),R!==se)){if(ae=kc,L="onMouseLeave",T="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Cc,L="onPointerLeave",T="onPointerEnter",A="pointer"),Se=R==null?j:_a(R),D=se==null?j:_a(se),j=new ae(L,A+"leave",R,i,I),j.target=Se,j.relatedTarget=D,L=null,Ji(I)===N&&(ae=new ae(T,A+"enter",se,i,I),ae.target=D,ae.relatedTarget=Se,L=ae),Se=L,R&&se)t:{for(ae=R,T=se,A=0,D=ae;D;D=Pa(D))A++;for(D=0,L=T;L;L=Pa(L))D++;for(;0<A-D;)ae=Pa(ae),A--;for(;0<D-A;)T=Pa(T),D--;for(;A--;){if(ae===T||T!==null&&ae===T.alternate)break t;ae=Pa(ae),T=Pa(T)}ae=null}else ae=null;R!==null&&hm(O,j,R,ae,!1),se!==null&&Se!==null&&hm(O,Se,se,ae,!0)}}e:{if(j=N?_a(N):window,R=j.nodeName&&j.nodeName.toLowerCase(),R==="select"||R==="input"&&j.type==="file")var $=Rc;else if(jc(j))if(Pc)$=Sp;else{$=Ap;var de=kp}else R=j.nodeName,!R||R.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?N&&Nr(N.elementType)&&($=Rc):$=Cp;if($&&($=$(e,N))){Mc(O,$,i,I);break e}de&&de(e,j,N),e==="focusout"&&N&&j.type==="number"&&N.memoizedProps.value!=null&&Dr(j,"number",j.value)}switch(de=N?_a(N):window,e){case"focusin":(jc(de)||de.contentEditable==="true")&&(ca=de,Ur=N,Za=null);break;case"focusout":Za=Ur=ca=null;break;case"mousedown":qr=!0;break;case"contextmenu":case"mouseup":case"dragend":qr=!1,Gc(O,i,I);break;case"selectionchange":if(Tp)break;case"keydown":case"keyup":Gc(O,i,I)}var ee;if(Or)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else la?Dc(e,i)&&(ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ne="onCompositionStart");ne&&(Sc&&i.locale!=="ko"&&(la||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&la&&(ee=xc()):(li=I,Br="value"in li?li.value:li.textContent,la=!0)),de=Qs(N,ne),0<de.length&&(ne=new Ac(ne,e,null,i,I),O.push({event:ne,listeners:de}),ee?ne.data=ee:(ee=Nc(i),ee!==null&&(ne.data=ee)))),(ee=yp?bp(e,i):vp(e,i))&&(ne=Qs(N,"onBeforeInput"),0<ne.length&&(de=new Ac("onBeforeInput","beforeinput",null,i,I),O.push({event:de,listeners:ne}),de.data=ee)),cg(O,e,N,i,I)}dm(O,t)})}function En(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Qs(e,t){for(var i=t+"Capture",a=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Ua(e,i),s!=null&&a.unshift(En(e,s,r)),s=Ua(e,t),s!=null&&a.push(En(e,s,r))),e.tag===3)return a;e=e.return}return[]}function Pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hm(e,t,i,a,s){for(var r=t._reactName,u=[];i!==null&&i!==a;){var m=i,x=m.alternate,N=m.stateNode;if(m=m.tag,x!==null&&x===a)break;m!==5&&m!==26&&m!==27||N===null||(x=N,s?(N=Ua(i,r),N!=null&&u.unshift(En(i,N,x))):s||(N=Ua(i,r),N!=null&&u.push(En(i,N,x)))),i=i.return}u.length!==0&&e.push({event:t,listeners:u})}var hg=/\r\n?/g,pg=/\u0000|\uFFFD/g;function pm(e){return(typeof e=="string"?e:""+e).replace(hg,`
`).replace(pg,"")}function gm(e,t){return t=pm(t),pm(e)===t}function Xs(){}function Ce(e,t,i,a,s,r){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||sa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&sa(e,""+a);break;case"className":Jn(e,"class",a);break;case"tabIndex":Jn(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(e,i,a);break;case"style":yc(e,a,r);break;case"data":if(t!=="object"){Jn(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=is(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(i==="formAction"?(t!=="input"&&Ce(e,t,"name",s.name,s,null),Ce(e,t,"formEncType",s.formEncType,s,null),Ce(e,t,"formMethod",s.formMethod,s,null),Ce(e,t,"formTarget",s.formTarget,s,null)):(Ce(e,t,"encType",s.encType,s,null),Ce(e,t,"method",s.method,s,null),Ce(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=is(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=Xs);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(i=a.__html,i!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=is(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":he("beforetoggle",e),he("toggle",e),$n(e,"popover",a);break;case"xlinkActuate":Gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Gt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Gt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Gt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Gt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":$n(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=qh.get(i)||i,$n(e,i,a))}}function pl(e,t,i,a,s,r){switch(i){case"style":yc(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(c(61));if(i=a.__html,i!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"children":typeof a=="string"?sa(e,a):(typeof a=="number"||typeof a=="bigint")&&sa(e,""+a);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(s=i.endsWith("Capture"),t=i.slice(2,s?i.length-7:void 0),r=e[st]||null,r=r!=null?r[i]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof a=="function")){typeof r!="function"&&r!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,s);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):$n(e,i,a)}}}function Ye(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var a=!1,s=!1,r;for(r in i)if(i.hasOwnProperty(r)){var u=i[r];if(u!=null)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ce(e,t,r,u,i,null)}}s&&Ce(e,t,"srcSet",i.srcSet,i,null),a&&Ce(e,t,"src",i.src,i,null);return;case"input":he("invalid",e);var m=r=u=s=null,x=null,N=null;for(a in i)if(i.hasOwnProperty(a)){var I=i[a];if(I!=null)switch(a){case"name":s=I;break;case"type":u=I;break;case"checked":x=I;break;case"defaultChecked":N=I;break;case"value":r=I;break;case"defaultValue":m=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(c(137,t));break;default:Ce(e,t,a,I,i,null)}}hc(e,r,m,x,N,u,s,!1),es(e);return;case"select":he("invalid",e),a=u=r=null;for(s in i)if(i.hasOwnProperty(s)&&(m=i[s],m!=null))switch(s){case"value":r=m;break;case"defaultValue":u=m;break;case"multiple":a=m;default:Ce(e,t,s,m,i,null)}t=r,i=u,e.multiple=!!a,t!=null?na(e,!!a,t,!1):i!=null&&na(e,!!a,i,!0);return;case"textarea":he("invalid",e),r=s=a=null;for(u in i)if(i.hasOwnProperty(u)&&(m=i[u],m!=null))switch(u){case"value":a=m;break;case"defaultValue":s=m;break;case"children":r=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(c(91));break;default:Ce(e,t,u,m,i,null)}gc(e,a,s,r),es(e);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(a=i[x],a!=null))switch(x){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ce(e,t,x,a,i,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(a=0;a<Sn.length;a++)he(Sn[a],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ce(e,t,N,a,i,null)}return;default:if(Nr(t)){for(I in i)i.hasOwnProperty(I)&&(a=i[I],a!==void 0&&pl(e,t,I,a,i,void 0));return}}for(m in i)i.hasOwnProperty(m)&&(a=i[m],a!=null&&Ce(e,t,m,a,i,null))}function gg(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,u=null,m=null,x=null,N=null,I=null;for(R in i){var O=i[R];if(i.hasOwnProperty(R)&&O!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":x=O;default:a.hasOwnProperty(R)||Ce(e,t,R,null,a,O)}}for(var j in a){var R=a[j];if(O=i[j],a.hasOwnProperty(j)&&(R!=null||O!=null))switch(j){case"type":r=R;break;case"name":s=R;break;case"checked":N=R;break;case"defaultChecked":I=R;break;case"value":u=R;break;case"defaultValue":m=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(c(137,t));break;default:R!==O&&Ce(e,t,j,R,a,O)}}Tr(e,u,m,x,N,I,r,s);return;case"select":R=u=m=j=null;for(r in i)if(x=i[r],i.hasOwnProperty(r)&&x!=null)switch(r){case"value":break;case"multiple":R=x;default:a.hasOwnProperty(r)||Ce(e,t,r,null,a,x)}for(s in a)if(r=a[s],x=i[s],a.hasOwnProperty(s)&&(r!=null||x!=null))switch(s){case"value":j=r;break;case"defaultValue":m=r;break;case"multiple":u=r;default:r!==x&&Ce(e,t,s,r,a,x)}t=m,i=u,a=R,j!=null?na(e,!!i,j,!1):!!a!=!!i&&(t!=null?na(e,!!i,t,!0):na(e,!!i,i?[]:"",!1));return;case"textarea":R=j=null;for(m in i)if(s=i[m],i.hasOwnProperty(m)&&s!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Ce(e,t,m,null,a,s)}for(u in a)if(s=a[u],r=i[u],a.hasOwnProperty(u)&&(s!=null||r!=null))switch(u){case"value":j=s;break;case"defaultValue":R=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(c(91));break;default:s!==r&&Ce(e,t,u,s,a,r)}pc(e,j,R);return;case"option":for(var se in i)if(j=i[se],i.hasOwnProperty(se)&&j!=null&&!a.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Ce(e,t,se,null,a,j)}for(x in a)if(j=a[x],R=i[x],a.hasOwnProperty(x)&&j!==R&&(j!=null||R!=null))switch(x){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ce(e,t,x,j,a,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in i)j=i[ae],i.hasOwnProperty(ae)&&j!=null&&!a.hasOwnProperty(ae)&&Ce(e,t,ae,null,a,j);for(N in a)if(j=a[N],R=i[N],a.hasOwnProperty(N)&&j!==R&&(j!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(137,t));break;default:Ce(e,t,N,j,a,R)}return;default:if(Nr(t)){for(var Se in i)j=i[Se],i.hasOwnProperty(Se)&&j!==void 0&&!a.hasOwnProperty(Se)&&pl(e,t,Se,void 0,a,j);for(I in a)j=a[I],R=i[I],!a.hasOwnProperty(I)||j===R||j===void 0&&R===void 0||pl(e,t,I,j,a,R);return}}for(var T in i)j=i[T],i.hasOwnProperty(T)&&j!=null&&!a.hasOwnProperty(T)&&Ce(e,t,T,null,a,j);for(O in a)j=a[O],R=i[O],!a.hasOwnProperty(O)||j===R||j==null&&R==null||Ce(e,t,O,j,a,R)}var gl=null,fl=null;function Ys(e){return e.nodeType===9?e:e.ownerDocument}function fm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ym(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bl=null;function fg(){var e=window.event;return e&&e.type==="popstate"?e===bl?!1:(bl=e,!0):(bl=null,!1)}var bm=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,bg=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(e){return vm.resolve(null).then(e).catch(vg)}:bm;function vg(e){setTimeout(function(){throw e})}function Ci(e){return e==="head"}function xm(e,t){var i=t,a=0,s=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(0<a&&8>a){i=a;var u=e.ownerDocument;if(i&1&&Tn(u.documentElement),i&2&&Tn(u.body),i&4)for(i=u.head,Tn(i),u=i.firstChild;u;){var m=u.nextSibling,x=u.nodeName;u[Ga]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=m}}if(s===0){e.removeChild(r),In(t);return}s--}else i==="$"||i==="$?"||i==="$!"?s++:a=i.charCodeAt(0)-48;else a=0;i=r}while(i);In(t)}function vl(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":vl(i),Ar(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function xg(e,t,i,a){for(;e.nodeType===1;){var s=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ga])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Mt(e.nextSibling),e===null)break}return null}function wg(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Mt(e.nextSibling),e===null))return null;return e}function xl(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function kg(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var wl=null;function wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function km(e,t,i){switch(t=Ys(i),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Tn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ar(e)}var Dt=new Map,Am=new Set;function Ks(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ti=H.d;H.d={f:Ag,r:Cg,D:Sg,C:Eg,L:Tg,m:Dg,X:jg,S:Ng,M:Mg};function Ag(){var e=ti.f(),t=Gs();return e||t}function Cg(e){var t=ea(e);t!==null&&t.tag===5&&t.type==="form"?Uu(t):ti.r(e)}var Ba=typeof document>"u"?null:document;function Cm(e,t,i){var a=Ba;if(a&&typeof t=="string"&&t){var s=wt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof i=="string"&&(s+='[crossorigin="'+i+'"]'),Am.has(s)||(Am.add(s),e={rel:e,crossOrigin:i,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Ye(t,"link",e),Ue(t),a.head.appendChild(t)))}}function Sg(e){ti.D(e),Cm("dns-prefetch",e,null)}function Eg(e,t){ti.C(e,t),Cm("preconnect",e,t)}function Tg(e,t,i){ti.L(e,t,i);var a=Ba;if(a&&e&&t){var s='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(s+='[imagesrcset="'+wt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(s+='[imagesizes="'+wt(i.imageSizes)+'"]')):s+='[href="'+wt(e)+'"]';var r=s;switch(t){case"style":r=Ia(e);break;case"script":r=Ha(e)}Dt.has(r)||(e=C({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Dt.set(r,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Dn(r))||t==="script"&&a.querySelector(Nn(r))||(t=a.createElement("link"),Ye(t,"link",e),Ue(t),a.head.appendChild(t)))}}function Dg(e,t){ti.m(e,t);var i=Ba;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+wt(a)+'"][href="'+wt(e)+'"]',r=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ha(e)}if(!Dt.has(r)&&(e=C({rel:"modulepreload",href:e},t),Dt.set(r,e),i.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Nn(r)))return}a=i.createElement("link"),Ye(a,"link",e),Ue(a),i.head.appendChild(a)}}}function Ng(e,t,i){ti.S(e,t,i);var a=Ba;if(a&&e){var s=ta(a).hoistableStyles,r=Ia(e);t=t||"default";var u=s.get(r);if(!u){var m={loading:0,preload:null};if(u=a.querySelector(Dn(r)))m.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Dt.get(r))&&kl(e,i);var x=u=a.createElement("link");Ue(x),Ye(x,"link",e),x._p=new Promise(function(N,I){x.onload=N,x.onerror=I}),x.addEventListener("load",function(){m.loading|=1}),x.addEventListener("error",function(){m.loading|=2}),m.loading|=4,Zs(u,t,a)}u={type:"stylesheet",instance:u,count:1,state:m},s.set(r,u)}}}function jg(e,t){ti.X(e,t);var i=Ba;if(i&&e){var a=ta(i).hoistableScripts,s=Ha(e),r=a.get(s);r||(r=i.querySelector(Nn(s)),r||(e=C({src:e,async:!0},t),(t=Dt.get(s))&&Al(e,t),r=i.createElement("script"),Ue(r),Ye(r,"link",e),i.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}function Mg(e,t){ti.M(e,t);var i=Ba;if(i&&e){var a=ta(i).hoistableScripts,s=Ha(e),r=a.get(s);r||(r=i.querySelector(Nn(s)),r||(e=C({src:e,async:!0,type:"module"},t),(t=Dt.get(s))&&Al(e,t),r=i.createElement("script"),Ue(r),Ye(r,"link",e),i.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}function Sm(e,t,i,a){var s=(s=oe.current)?Ks(s):null;if(!s)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ia(i.href),i=ta(s).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ia(i.href);var r=ta(s).hoistableStyles,u=r.get(e);if(u||(s=s.ownerDocument||s,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,u),(r=s.querySelector(Dn(e)))&&!r._p&&(u.instance=r,u.state.loading=5),Dt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Dt.set(e,i),r||Rg(s,e,i,u.state))),t&&a===null)throw Error(c(528,""));return u}if(t&&a!==null)throw Error(c(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ha(i),i=ta(s).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Ia(e){return'href="'+wt(e)+'"'}function Dn(e){return'link[rel="stylesheet"]['+e+"]"}function Em(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Rg(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ye(t,"link",i),Ue(t),e.head.appendChild(t))}function Ha(e){return'[src="'+wt(e)+'"]'}function Nn(e){return"script[async]"+e}function Tm(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+wt(i.href)+'"]');if(a)return t.instance=a,Ue(a),a;var s=C({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ue(a),Ye(a,"style",s),Zs(a,i.precedence,e),t.instance=a;case"stylesheet":s=Ia(i.href);var r=e.querySelector(Dn(s));if(r)return t.state.loading|=4,t.instance=r,Ue(r),r;a=Em(i),(s=Dt.get(s))&&kl(a,s),r=(e.ownerDocument||e).createElement("link"),Ue(r);var u=r;return u._p=new Promise(function(m,x){u.onload=m,u.onerror=x}),Ye(r,"link",a),t.state.loading|=4,Zs(r,i.precedence,e),t.instance=r;case"script":return r=Ha(i.src),(s=e.querySelector(Nn(r)))?(t.instance=s,Ue(s),s):(a=i,(s=Dt.get(r))&&(a=C({},i),Al(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ue(s),Ye(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Zs(a,i.precedence,e));return t.instance}function Zs(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,r=s,u=0;u<a.length;u++){var m=a[u];if(m.dataset.precedence===t)r=m;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function kl(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Al(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $s=null;function Dm(e,t,i){if($s===null){var a=new Map,s=$s=new Map;s.set(i,a)}else s=$s,a=s.get(i),a||(a=new Map,s.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),s=0;s<i.length;s++){var r=i[s];if(!(r[Ga]||r[Ke]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var u=r.getAttribute(t)||"";u=e+u;var m=a.get(u);m?m.push(r):a.set(u,[r])}}return a}function Nm(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Pg(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var jn=null;function Bg(){}function Ig(e,t,i){if(jn===null)throw Error(c(475));var a=jn;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var s=Ia(i.href),r=e.querySelector(Dn(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Js.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=r,Ue(r);return}r=e.ownerDocument||e,i=Em(i),(s=Dt.get(s))&&kl(i,s),r=r.createElement("link"),Ue(r);var u=r;u._p=new Promise(function(m,x){u.onload=m,u.onerror=x}),Ye(r,"link",i),t.instance=r}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Js.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Hg(){if(jn===null)throw Error(c(475));var e=jn;return e.stylesheets&&e.count===0&&Cl(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Cl(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Js(){if(this.count--,this.count===0){if(this.stylesheets)Cl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var er=null;function Cl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,er=new Map,t.forEach(Lg,e),er=null,Js.call(e))}function Lg(e,t){if(!(t.state.loading&4)){var i=er.get(e);if(i)var a=i.get(null);else{i=new Map,er.set(e,i);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var u=s[r];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(i.set(u.dataset.precedence,u),a=u)}a&&i.set(null,a)}s=t.instance,u=s.getAttribute("data-precedence"),r=i.get(u)||a,r===a&&i.set(null,s),i.set(u,s),this.count++,a=Js.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Mn={$$typeof:J,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function zg(e,t,i,a,s,r,u,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function Mm(e,t,i,a,s,r,u,m,x,N,I,O){return e=new zg(e,t,i,u,m,x,N,O),t=1,r===!0&&(t|=24),r=pt(3,null,null,t),e.current=r,r.stateNode=e,t=no(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:i,cache:t},lo(r),e}function Rm(e){return e?(e=ha,e):ha}function Pm(e,t,i,a,s,r){s=Rm(s),a.context===null?a.context=s:a.pendingContext=s,a=di(t),a.payload={element:i},r=r===void 0?null:r,r!==null&&(a.callback=r),i=mi(e,a,t),i!==null&&(vt(i,e,t),on(i,e,t))}function Bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Sl(e,t){Bm(e,t),(e=e.alternate)&&Bm(e,t)}function Im(e){if(e.tag===13){var t=ma(e,67108864);t!==null&&vt(t,e,67108864),Sl(e,67108864)}}var tr=!0;function Og(e,t,i,a){var s=S.T;S.T=null;var r=H.p;try{H.p=2,El(e,t,i,a)}finally{H.p=r,S.T=s}}function Vg(e,t,i,a){var s=S.T;S.T=null;var r=H.p;try{H.p=8,El(e,t,i,a)}finally{H.p=r,S.T=s}}function El(e,t,i,a){if(tr){var s=Tl(a);if(s===null)hl(e,t,a,ir,i),Lm(e,a);else if(_g(s,e,t,i,a))a.stopPropagation();else if(Lm(e,a),t&4&&-1<Gg.indexOf(e)){for(;s!==null;){var r=ea(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var u=Ri(r.pendingLanes);if(u!==0){var m=r;for(m.pendingLanes|=2,m.entangledLanes|=2;u;){var x=1<<31-mt(u);m.entanglements[1]|=x,u&=~x}Ot(r),(xe&6)===0&&(Os=Bt()+500,Cn(0))}}break;case 13:m=ma(r,2),m!==null&&vt(m,r,2),Gs(),Sl(r,2)}if(r=Tl(a),r===null&&hl(e,t,a,ir,i),r===s)break;s=r}s!==null&&a.stopPropagation()}else hl(e,t,a,null,i)}}function Tl(e){return e=Mr(e),Dl(e)}var ir=null;function Dl(e){if(ir=null,e=Ji(e),e!==null){var t=y(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=v(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ir=e,null}function Hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eh()){case Kl:return 2;case Zl:return 8;case Xn:case Th:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Nl=!1,Si=null,Ei=null,Ti=null,Rn=new Map,Pn=new Map,Di=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lm(e,t){switch(e){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(t.pointerId)}}function Bn(e,t,i,a,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:r,targetContainers:[s]},t!==null&&(t=ea(t),t!==null&&Im(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _g(e,t,i,a,s){switch(t){case"focusin":return Si=Bn(Si,e,t,i,a,s),!0;case"dragenter":return Ei=Bn(Ei,e,t,i,a,s),!0;case"mouseover":return Ti=Bn(Ti,e,t,i,a,s),!0;case"pointerover":var r=s.pointerId;return Rn.set(r,Bn(Rn.get(r)||null,e,t,i,a,s)),!0;case"gotpointercapture":return r=s.pointerId,Pn.set(r,Bn(Pn.get(r)||null,e,t,i,a,s)),!0}return!1}function zm(e){var t=Ji(e.target);if(t!==null){var i=y(t);if(i!==null){if(t=i.tag,t===13){if(t=v(i),t!==null){e.blockedOn=t,Ih(e.priority,function(){if(i.tag===13){var a=bt();a=xr(a);var s=ma(i,a);s!==null&&vt(s,i,a),Sl(i,a)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ar(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Tl(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);jr=a,i.target.dispatchEvent(a),jr=null}else return t=ea(i),t!==null&&Im(t),e.blockedOn=i,!1;t.shift()}return!0}function Om(e,t,i){ar(e)&&i.delete(t)}function Ug(){Nl=!1,Si!==null&&ar(Si)&&(Si=null),Ei!==null&&ar(Ei)&&(Ei=null),Ti!==null&&ar(Ti)&&(Ti=null),Rn.forEach(Om),Pn.forEach(Om)}function nr(e,t){e.blockedOn===t&&(e.blockedOn=null,Nl||(Nl=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ug)))}var sr=null;function Vm(e){sr!==e&&(sr=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){sr===e&&(sr=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Dl(a||i)===null)continue;break}var r=ea(i);r!==null&&(e.splice(t,3),t-=3,Do(r,{pending:!0,data:s,method:i.method,action:a},a,s))}}))}function In(e){function t(x){return nr(x,e)}Si!==null&&nr(Si,e),Ei!==null&&nr(Ei,e),Ti!==null&&nr(Ti,e),Rn.forEach(t),Pn.forEach(t);for(var i=0;i<Di.length;i++){var a=Di[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Di.length&&(i=Di[0],i.blockedOn===null);)zm(i),i.blockedOn===null&&Di.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var s=i[a],r=i[a+1],u=s[st]||null;if(typeof r=="function")u||Vm(i);else if(u){var m=null;if(r&&r.hasAttribute("formAction")){if(s=r,u=r[st]||null)m=u.formAction;else if(Dl(s)!==null)continue}else m=u.action;typeof m=="function"?i[a+1]=m:(i.splice(a,3),a-=3),Vm(i)}}}function jl(e){this._internalRoot=e}rr.prototype.render=jl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var i=t.current,a=bt();Pm(i,a,e,t,null,null)},rr.prototype.unmount=jl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pm(e.current,2,null,e,null,null),Gs(),t[$i]=null}};function rr(e){this._internalRoot=e}rr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ac();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Di.length&&t!==0&&t<Di[i].priority;i++);Di.splice(i,0,e),i===0&&zm(e)}};var Gm=l.version;if(Gm!=="19.1.1")throw Error(c(527,Gm,"19.1.1"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=f(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var qg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{za=or.inject(qg),dt=or}catch{}}return Ln.createRoot=function(e,t){if(!p(e))throw Error(c(299));var i=!1,a="",s=ad,r=nd,u=sd,m=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(m=t.unstable_transitionCallbacks)),t=Mm(e,1,!1,null,null,i,a,s,r,u,m,null),e[$i]=t.current,ml(e),new jl(t)},Ln.hydrateRoot=function(e,t,i){if(!p(e))throw Error(c(299));var a=!1,s="",r=ad,u=nd,m=sd,x=null,N=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(r=i.onUncaughtError),i.onCaughtError!==void 0&&(u=i.onCaughtError),i.onRecoverableError!==void 0&&(m=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks),i.formState!==void 0&&(N=i.formState)),t=Mm(e,1,!0,t,i??null,a,s,r,u,m,x,N),t.context=Rm(null),i=t.current,a=bt(),a=xr(a),s=di(a),s.callback=null,mi(i,s,a),i=a,t.current.lanes=i,Va(t,i),Ot(t),e[$i]=t.current,ml(e),new rr(t)},Ln.version="19.1.1",Ln}var Zm;function ef(){if(Zm)return Pl.exports;Zm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),Pl.exports=Jg(),Pl.exports}var tf=ef();const af=sh(tf);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $m="popstate";function nf(o={}){function l(p,y){let{pathname:v="/",search:w="",hash:f=""}=Ki(p.location.hash.substring(1));return!v.startsWith("/")&&!v.startsWith(".")&&(v="/"+v),Gl("",{pathname:v,search:w,hash:f},y.state&&y.state.usr||null,y.state&&y.state.key||"default")}function d(p,y){let v=p.document.querySelector("base"),w="";if(v&&v.getAttribute("href")){let f=p.location.href,g=f.indexOf("#");w=g===-1?f:f.slice(0,g)}return w+"#"+(typeof y=="string"?y:On(y))}function c(p,y){Pt(p.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(y)})`)}return rf(l,d,c,o)}function Re(o,l){if(o===!1||o===null||typeof o>"u")throw new Error(l)}function Pt(o,l){if(!o){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function sf(){return Math.random().toString(36).substring(2,10)}function Jm(o,l){return{usr:o.state,key:o.key,idx:l}}function Gl(o,l,d=null,c){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof l=="string"?Ki(l):l,state:d,key:l&&l.key||c||sf()}}function On({pathname:o="/",search:l="",hash:d=""}){return l&&l!=="?"&&(o+=l.charAt(0)==="?"?l:"?"+l),d&&d!=="#"&&(o+=d.charAt(0)==="#"?d:"#"+d),o}function Ki(o){let l={};if(o){let d=o.indexOf("#");d>=0&&(l.hash=o.substring(d),o=o.substring(0,d));let c=o.indexOf("?");c>=0&&(l.search=o.substring(c),o=o.substring(0,c)),o&&(l.pathname=o)}return l}function rf(o,l,d,c={}){let{window:p=document.defaultView,v5Compat:y=!1}=c,v=p.history,w="POP",f=null,g=C();g==null&&(g=0,v.replaceState({...v.state,idx:g},""));function C(){return(v.state||{idx:null}).idx}function B(){w="POP";let X=C(),U=X==null?null:X-g;g=X,f&&f({action:w,location:Q.location,delta:U})}function M(X,U){w="PUSH";let ie=Gl(Q.location,X,U);d&&d(ie,X),g=C()+1;let J=Jm(ie,g),K=Q.createHref(ie);try{v.pushState(J,"",K)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;p.location.assign(K)}y&&f&&f({action:w,location:Q.location,delta:1})}function z(X,U){w="REPLACE";let ie=Gl(Q.location,X,U);d&&d(ie,X),g=C();let J=Jm(ie,g),K=Q.createHref(ie);v.replaceState(J,"",K),y&&f&&f({action:w,location:Q.location,delta:0})}function W(X){return of(X)}let Q={get action(){return w},get location(){return o(p,v)},listen(X){if(f)throw new Error("A history only accepts one active listener");return p.addEventListener($m,B),f=X,()=>{p.removeEventListener($m,B),f=null}},createHref(X){return l(p,X)},createURL:W,encodeLocation(X){let U=W(X);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:M,replace:z,go(X){return v.go(X)}};return Q}function of(o,l=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),Re(d,"No window.location.(origin|href) available to create URL");let c=typeof o=="string"?o:On(o);return c=c.replace(/ $/,"%20"),!l&&c.startsWith("//")&&(c=d+c),new URL(c,d)}function oh(o,l,d="/"){return lf(o,l,d,!1)}function lf(o,l,d,c){let p=typeof l=="string"?Ki(l):l,y=ai(p.pathname||"/",d);if(y==null)return null;let v=lh(o);cf(v);let w=null;for(let f=0;w==null&&f<v.length;++f){let g=xf(y);w=bf(v[f],g,c)}return w}function lh(o,l=[],d=[],c="",p=!1){let y=(v,w,f=p,g)=>{let C={relativePath:g===void 0?v.path||"":g,caseSensitive:v.caseSensitive===!0,childrenIndex:w,route:v};if(C.relativePath.startsWith("/")){if(!C.relativePath.startsWith(c)&&f)return;Re(C.relativePath.startsWith(c),`Absolute route path "${C.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),C.relativePath=C.relativePath.slice(c.length)}let B=ii([c,C.relativePath]),M=d.concat(C);v.children&&v.children.length>0&&(Re(v.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${B}".`),lh(v.children,l,M,B,f)),!(v.path==null&&!v.index)&&l.push({path:B,score:ff(B,v.index),routesMeta:M})};return o.forEach((v,w)=>{if(v.path===""||!v.path?.includes("?"))y(v,w);else for(let f of ch(v.path))y(v,w,!0,f)}),l}function ch(o){let l=o.split("/");if(l.length===0)return[];let[d,...c]=l,p=d.endsWith("?"),y=d.replace(/\?$/,"");if(c.length===0)return p?[y,""]:[y];let v=ch(c.join("/")),w=[];return w.push(...v.map(f=>f===""?y:[y,f].join("/"))),p&&w.push(...v),w.map(f=>o.startsWith("/")&&f===""?"/":f)}function cf(o){o.sort((l,d)=>l.score!==d.score?d.score-l.score:yf(l.routesMeta.map(c=>c.childrenIndex),d.routesMeta.map(c=>c.childrenIndex)))}var uf=/^:[\w-]+$/,df=3,mf=2,hf=1,pf=10,gf=-2,eh=o=>o==="*";function ff(o,l){let d=o.split("/"),c=d.length;return d.some(eh)&&(c+=gf),l&&(c+=mf),d.filter(p=>!eh(p)).reduce((p,y)=>p+(uf.test(y)?df:y===""?hf:pf),c)}function yf(o,l){return o.length===l.length&&o.slice(0,-1).every((c,p)=>c===l[p])?o[o.length-1]-l[l.length-1]:0}function bf(o,l,d=!1){let{routesMeta:c}=o,p={},y="/",v=[];for(let w=0;w<c.length;++w){let f=c[w],g=w===c.length-1,C=y==="/"?l:l.slice(y.length)||"/",B=dr({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},C),M=f.route;if(!B&&g&&d&&!c[c.length-1].route.index&&(B=dr({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},C)),!B)return null;Object.assign(p,B.params),v.push({params:p,pathname:ii([y,B.pathname]),pathnameBase:Cf(ii([y,B.pathnameBase])),route:M}),B.pathnameBase!=="/"&&(y=ii([y,B.pathnameBase]))}return v}function dr(o,l){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[d,c]=vf(o.path,o.caseSensitive,o.end),p=l.match(d);if(!p)return null;let y=p[0],v=y.replace(/(.)\/+$/,"$1"),w=p.slice(1);return{params:c.reduce((g,{paramName:C,isOptional:B},M)=>{if(C==="*"){let W=w[M]||"";v=y.slice(0,y.length-W.length).replace(/(.)\/+$/,"$1")}const z=w[M];return B&&!z?g[C]=void 0:g[C]=(z||"").replace(/%2F/g,"/"),g},{}),pathname:y,pathnameBase:v,pattern:o}}function vf(o,l=!1,d=!0){Pt(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let c=[],p="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(v,w,f)=>(c.push({paramName:w,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(c.push({paramName:"*"}),p+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?p+="\\/*$":o!==""&&o!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,l?void 0:"i"),c]}function xf(o){try{return o.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Pt(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),o}}function ai(o,l){if(l==="/")return o;if(!o.toLowerCase().startsWith(l.toLowerCase()))return null;let d=l.endsWith("/")?l.length-1:l.length,c=o.charAt(d);return c&&c!=="/"?null:o.slice(d)||"/"}function wf(o,l="/"){let{pathname:d,search:c="",hash:p=""}=typeof o=="string"?Ki(o):o;return{pathname:d?d.startsWith("/")?d:kf(d,l):l,search:Sf(c),hash:Ef(p)}}function kf(o,l){let d=l.replace(/\/+$/,"").split("/");return o.split("/").forEach(p=>{p===".."?d.length>1&&d.pop():p!=="."&&d.push(p)}),d.length>1?d.join("/"):"/"}function Ll(o,l,d,c){return`Cannot include a '${o}' character in a manually specified \`to.${l}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Af(o){return o.filter((l,d)=>d===0||l.route.path&&l.route.path.length>0)}function uh(o){let l=Af(o);return l.map((d,c)=>c===l.length-1?d.pathname:d.pathnameBase)}function dh(o,l,d,c=!1){let p;typeof o=="string"?p=Ki(o):(p={...o},Re(!p.pathname||!p.pathname.includes("?"),Ll("?","pathname","search",p)),Re(!p.pathname||!p.pathname.includes("#"),Ll("#","pathname","hash",p)),Re(!p.search||!p.search.includes("#"),Ll("#","search","hash",p)));let y=o===""||p.pathname==="",v=y?"/":p.pathname,w;if(v==null)w=d;else{let B=l.length-1;if(!c&&v.startsWith("..")){let M=v.split("/");for(;M[0]==="..";)M.shift(),B-=1;p.pathname=M.join("/")}w=B>=0?l[B]:"/"}let f=wf(p,w),g=v&&v!=="/"&&v.endsWith("/"),C=(y||v===".")&&d.endsWith("/");return!f.pathname.endsWith("/")&&(g||C)&&(f.pathname+="/"),f}var ii=o=>o.join("/").replace(/\/\/+/g,"/"),Cf=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Sf=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Ef=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Tf(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var mh=["POST","PUT","PATCH","DELETE"];new Set(mh);var Df=["GET",...mh];new Set(Df);var La=b.createContext(null);La.displayName="DataRouter";var hr=b.createContext(null);hr.displayName="DataRouterState";b.createContext(!1);var hh=b.createContext({isTransitioning:!1});hh.displayName="ViewTransition";var Nf=b.createContext(new Map);Nf.displayName="Fetchers";var jf=b.createContext(null);jf.displayName="Await";var Vt=b.createContext(null);Vt.displayName="Navigation";var qn=b.createContext(null);qn.displayName="Location";var ni=b.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var Fl=b.createContext(null);Fl.displayName="RouteError";function Mf(o,{relative:l}={}){Re(Fn(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:c}=b.useContext(Vt),{hash:p,pathname:y,search:v}=Wn(o,{relative:l}),w=y;return d!=="/"&&(w=y==="/"?d:ii([d,y])),c.createHref({pathname:w,search:v,hash:p})}function Fn(){return b.useContext(qn)!=null}function Zi(){return Re(Fn(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(qn).location}var ph="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gh(o){b.useContext(Vt).static||b.useLayoutEffect(o)}function Mi(){let{isDataRoute:o}=b.useContext(ni);return o?qf():Rf()}function Rf(){Re(Fn(),"useNavigate() may be used only in the context of a <Router> component.");let o=b.useContext(La),{basename:l,navigator:d}=b.useContext(Vt),{matches:c}=b.useContext(ni),{pathname:p}=Zi(),y=JSON.stringify(uh(c)),v=b.useRef(!1);return gh(()=>{v.current=!0}),b.useCallback((f,g={})=>{if(Pt(v.current,ph),!v.current)return;if(typeof f=="number"){d.go(f);return}let C=dh(f,JSON.parse(y),p,g.relative==="path");o==null&&l!=="/"&&(C.pathname=C.pathname==="/"?l:ii([l,C.pathname])),(g.replace?d.replace:d.push)(C,g.state,g)},[l,d,y,p,o])}b.createContext(null);function Wn(o,{relative:l}={}){let{matches:d}=b.useContext(ni),{pathname:c}=Zi(),p=JSON.stringify(uh(d));return b.useMemo(()=>dh(o,JSON.parse(p),c,l==="path"),[o,p,c,l])}function Pf(o,l){return fh(o,l)}function fh(o,l,d,c){Re(Fn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=b.useContext(Vt),{matches:y}=b.useContext(ni),v=y[y.length-1],w=v?v.params:{},f=v?v.pathname:"/",g=v?v.pathnameBase:"/",C=v&&v.route;{let U=C&&C.path||"";yh(f,!C||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let B=Zi(),M;if(l){let U=typeof l=="string"?Ki(l):l;Re(g==="/"||U.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),M=U}else M=B;let z=M.pathname||"/",W=z;if(g!=="/"){let U=g.replace(/^\//,"").split("/");W="/"+z.replace(/^\//,"").split("/").slice(U.length).join("/")}let Q=oh(o,{pathname:W});Pt(C||Q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Pt(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=zf(Q&&Q.map(U=>Object.assign({},U,{params:Object.assign({},w,U.params),pathname:ii([g,p.encodeLocation?p.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:ii([g,p.encodeLocation?p.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),y,d,c);return l&&X?b.createElement(qn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},X):X}function Bf(){let o=Uf(),l=Tf(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),d=o instanceof Error?o.stack:null,c="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:c},y={padding:"2px 4px",backgroundColor:c},v=null;return console.error("Error handled by React Router default ErrorBoundary:",o),v=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:y},"ErrorBoundary")," or"," ",b.createElement("code",{style:y},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},l),d?b.createElement("pre",{style:p},d):null,v)}var If=b.createElement(Bf,null),Hf=class extends b.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,l){return l.location!==o.location||l.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:l.error,location:l.location,revalidation:o.revalidation||l.revalidation}}componentDidCatch(o,l){console.error("React Router caught the following error during render",o,l)}render(){return this.state.error!==void 0?b.createElement(ni.Provider,{value:this.props.routeContext},b.createElement(Fl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lf({routeContext:o,match:l,children:d}){let c=b.useContext(La);return c&&c.static&&c.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=l.route.id),b.createElement(ni.Provider,{value:o},d)}function zf(o,l=[],d=null,c=null){if(o==null){if(!d)return null;if(d.errors)o=d.matches;else if(l.length===0&&!d.initialized&&d.matches.length>0)o=d.matches;else return null}let p=o,y=d?.errors;if(y!=null){let f=p.findIndex(g=>g.route.id&&y?.[g.route.id]!==void 0);Re(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),p=p.slice(0,Math.min(p.length,f+1))}let v=!1,w=-1;if(d)for(let f=0;f<p.length;f++){let g=p[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(w=f),g.route.id){let{loaderData:C,errors:B}=d,M=g.route.loader&&!C.hasOwnProperty(g.route.id)&&(!B||B[g.route.id]===void 0);if(g.route.lazy||M){v=!0,w>=0?p=p.slice(0,w+1):p=[p[0]];break}}}return p.reduceRight((f,g,C)=>{let B,M=!1,z=null,W=null;d&&(B=y&&g.route.id?y[g.route.id]:void 0,z=g.route.errorElement||If,v&&(w<0&&C===0?(yh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,W=null):w===C&&(M=!0,W=g.route.hydrateFallbackElement||null)));let Q=l.concat(p.slice(0,C+1)),X=()=>{let U;return B?U=z:M?U=W:g.route.Component?U=b.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=f,b.createElement(Lf,{match:g,routeContext:{outlet:f,matches:Q,isDataRoute:d!=null},children:U})};return d&&(g.route.ErrorBoundary||g.route.errorElement||C===0)?b.createElement(Hf,{location:d.location,revalidation:d.revalidation,component:z,error:B,children:X(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):X()},null)}function Wl(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Of(o){let l=b.useContext(La);return Re(l,Wl(o)),l}function Vf(o){let l=b.useContext(hr);return Re(l,Wl(o)),l}function Gf(o){let l=b.useContext(ni);return Re(l,Wl(o)),l}function Ql(o){let l=Gf(o),d=l.matches[l.matches.length-1];return Re(d.route.id,`${o} can only be used on routes that contain a unique "id"`),d.route.id}function _f(){return Ql("useRouteId")}function Uf(){let o=b.useContext(Fl),l=Vf("useRouteError"),d=Ql("useRouteError");return o!==void 0?o:l.errors?.[d]}function qf(){let{router:o}=Of("useNavigate"),l=Ql("useNavigate"),d=b.useRef(!1);return gh(()=>{d.current=!0}),b.useCallback(async(p,y={})=>{Pt(d.current,ph),d.current&&(typeof p=="number"?o.navigate(p):await o.navigate(p,{fromRouteId:l,...y}))},[o,l])}var th={};function yh(o,l,d){!l&&!th[o]&&(th[o]=!0,Pt(!1,d))}b.memo(Ff);function Ff({routes:o,future:l,state:d}){return fh(o,void 0,d,l)}function ve(o){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wf({basename:o="/",children:l=null,location:d,navigationType:c="POP",navigator:p,static:y=!1}){Re(!Fn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=o.replace(/^\/*/,"/"),w=b.useMemo(()=>({basename:v,navigator:p,static:y,future:{}}),[v,p,y]);typeof d=="string"&&(d=Ki(d));let{pathname:f="/",search:g="",hash:C="",state:B=null,key:M="default"}=d,z=b.useMemo(()=>{let W=ai(f,v);return W==null?null:{location:{pathname:W,search:g,hash:C,state:B,key:M},navigationType:c}},[v,f,g,C,B,M,c]);return Pt(z!=null,`<Router basename="${v}"> is not able to match the URL "${f}${g}${C}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:b.createElement(Vt.Provider,{value:w},b.createElement(qn.Provider,{children:l,value:z}))}function Qf({children:o,location:l}){return Pf(_l(o),l)}function _l(o,l=[]){let d=[];return b.Children.forEach(o,(c,p)=>{if(!b.isValidElement(c))return;let y=[...l,p];if(c.type===b.Fragment){d.push.apply(d,_l(c.props.children,y));return}Re(c.type===ve,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!c.props.index||!c.props.children,"An index route cannot have child routes.");let v={id:c.props.id||y.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(v.children=_l(c.props.children,y)),d.push(v)}),d}var cr="get",ur="application/x-www-form-urlencoded";function pr(o){return o!=null&&typeof o.tagName=="string"}function Xf(o){return pr(o)&&o.tagName.toLowerCase()==="button"}function Yf(o){return pr(o)&&o.tagName.toLowerCase()==="form"}function Kf(o){return pr(o)&&o.tagName.toLowerCase()==="input"}function Zf(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function $f(o,l){return o.button===0&&(!l||l==="_self")&&!Zf(o)}var lr=null;function Jf(){if(lr===null)try{new FormData(document.createElement("form"),0),lr=!1}catch{lr=!0}return lr}var ey=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zl(o){return o!=null&&!ey.has(o)?(Pt(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ur}"`),null):o}function ty(o,l){let d,c,p,y,v;if(Yf(o)){let w=o.getAttribute("action");c=w?ai(w,l):null,d=o.getAttribute("method")||cr,p=zl(o.getAttribute("enctype"))||ur,y=new FormData(o)}else if(Xf(o)||Kf(o)&&(o.type==="submit"||o.type==="image")){let w=o.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=o.getAttribute("formaction")||w.getAttribute("action");if(c=f?ai(f,l):null,d=o.getAttribute("formmethod")||w.getAttribute("method")||cr,p=zl(o.getAttribute("formenctype"))||zl(w.getAttribute("enctype"))||ur,y=new FormData(w,o),!Jf()){let{name:g,type:C,value:B}=o;if(C==="image"){let M=g?`${g}.`:"";y.append(`${M}x`,"0"),y.append(`${M}y`,"0")}else g&&y.append(g,B)}}else{if(pr(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=cr,c=null,p=ur,v=o}return y&&p==="text/plain"&&(v=y,y=void 0),{action:c,method:d.toLowerCase(),encType:p,formData:y,body:v}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xl(o,l){if(o===!1||o===null||typeof o>"u")throw new Error(l)}function iy(o,l,d){let c=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return c.pathname==="/"?c.pathname=`_root.${d}`:l&&ai(c.pathname,l)==="/"?c.pathname=`${l.replace(/\/$/,"")}/_root.${d}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${d}`,c}async function ay(o,l){if(o.id in l)return l[o.id];try{let d=await import(o.module);return l[o.id]=d,d}catch(d){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ny(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function sy(o,l,d){let c=await Promise.all(o.map(async p=>{let y=l.routes[p.route.id];if(y){let v=await ay(y,d);return v.links?v.links():[]}return[]}));return cy(c.flat(1).filter(ny).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function ih(o,l,d,c,p,y){let v=(f,g)=>d[g]?f.route.id!==d[g].route.id:!0,w=(f,g)=>d[g].pathname!==f.pathname||d[g].route.path?.endsWith("*")&&d[g].params["*"]!==f.params["*"];return y==="assets"?l.filter((f,g)=>v(f,g)||w(f,g)):y==="data"?l.filter((f,g)=>{let C=c.routes[f.route.id];if(!C||!C.hasLoader)return!1;if(v(f,g)||w(f,g))return!0;if(f.route.shouldRevalidate){let B=f.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:d[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof B=="boolean")return B}return!0}):[]}function ry(o,l,{includeHydrateFallback:d}={}){return oy(o.map(c=>{let p=l.routes[c.route.id];if(!p)return[];let y=[p.module];return p.clientActionModule&&(y=y.concat(p.clientActionModule)),p.clientLoaderModule&&(y=y.concat(p.clientLoaderModule)),d&&p.hydrateFallbackModule&&(y=y.concat(p.hydrateFallbackModule)),p.imports&&(y=y.concat(p.imports)),y}).flat(1))}function oy(o){return[...new Set(o)]}function ly(o){let l={},d=Object.keys(o).sort();for(let c of d)l[c]=o[c];return l}function cy(o,l){let d=new Set;return new Set(l),o.reduce((c,p)=>{let y=JSON.stringify(ly(p));return d.has(y)||(d.add(y),c.push({key:y,link:p})),c},[])}function bh(){let o=b.useContext(La);return Xl(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function uy(){let o=b.useContext(hr);return Xl(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Yl=b.createContext(void 0);Yl.displayName="FrameworkContext";function vh(){let o=b.useContext(Yl);return Xl(o,"You must render this element inside a <HydratedRouter> element"),o}function dy(o,l){let d=b.useContext(Yl),[c,p]=b.useState(!1),[y,v]=b.useState(!1),{onFocus:w,onBlur:f,onMouseEnter:g,onMouseLeave:C,onTouchStart:B}=l,M=b.useRef(null);b.useEffect(()=>{if(o==="render"&&v(!0),o==="viewport"){let Q=U=>{U.forEach(ie=>{v(ie.isIntersecting)})},X=new IntersectionObserver(Q,{threshold:.5});return M.current&&X.observe(M.current),()=>{X.disconnect()}}},[o]),b.useEffect(()=>{if(c){let Q=setTimeout(()=>{v(!0)},100);return()=>{clearTimeout(Q)}}},[c]);let z=()=>{p(!0)},W=()=>{p(!1),v(!1)};return d?o!=="intent"?[y,M,{}]:[y,M,{onFocus:zn(w,z),onBlur:zn(f,W),onMouseEnter:zn(g,z),onMouseLeave:zn(C,W),onTouchStart:zn(B,z)}]:[!1,M,{}]}function zn(o,l){return d=>{o&&o(d),d.defaultPrevented||l(d)}}function my({page:o,...l}){let{router:d}=bh(),c=b.useMemo(()=>oh(d.routes,o,d.basename),[d.routes,o,d.basename]);return c?b.createElement(py,{page:o,matches:c,...l}):null}function hy(o){let{manifest:l,routeModules:d}=vh(),[c,p]=b.useState([]);return b.useEffect(()=>{let y=!1;return sy(o,l,d).then(v=>{y||p(v)}),()=>{y=!0}},[o,l,d]),c}function py({page:o,matches:l,...d}){let c=Zi(),{manifest:p,routeModules:y}=vh(),{basename:v}=bh(),{loaderData:w,matches:f}=uy(),g=b.useMemo(()=>ih(o,l,f,p,c,"data"),[o,l,f,p,c]),C=b.useMemo(()=>ih(o,l,f,p,c,"assets"),[o,l,f,p,c]),B=b.useMemo(()=>{if(o===c.pathname+c.search+c.hash)return[];let W=new Set,Q=!1;if(l.forEach(U=>{let ie=p.routes[U.route.id];!ie||!ie.hasLoader||(!g.some(J=>J.route.id===U.route.id)&&U.route.id in w&&y[U.route.id]?.shouldRevalidate||ie.hasClientLoader?Q=!0:W.add(U.route.id))}),W.size===0)return[];let X=iy(o,v,"data");return Q&&W.size>0&&X.searchParams.set("_routes",l.filter(U=>W.has(U.route.id)).map(U=>U.route.id).join(",")),[X.pathname+X.search]},[v,w,c,p,g,l,o,y]),M=b.useMemo(()=>ry(C,p),[C,p]),z=hy(C);return b.createElement(b.Fragment,null,B.map(W=>b.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...d})),M.map(W=>b.createElement("link",{key:W,rel:"modulepreload",href:W,...d})),z.map(({key:W,link:Q})=>b.createElement("link",{key:W,nonce:d.nonce,...Q})))}function gy(...o){return l=>{o.forEach(d=>{typeof d=="function"?d(l):d!=null&&(d.current=l)})}}var xh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xh&&(window.__reactRouterVersion="7.8.1")}catch{}function fy({basename:o,children:l,window:d}){let c=b.useRef();c.current==null&&(c.current=nf({window:d,v5Compat:!0}));let p=c.current,[y,v]=b.useState({action:p.action,location:p.location}),w=b.useCallback(f=>{b.startTransition(()=>v(f))},[v]);return b.useLayoutEffect(()=>p.listen(w),[p,w]),b.createElement(Wf,{basename:o,children:l,location:y.location,navigationType:y.action,navigator:p})}var wh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=b.forwardRef(function({onClick:l,discover:d="render",prefetch:c="none",relative:p,reloadDocument:y,replace:v,state:w,target:f,to:g,preventScrollReset:C,viewTransition:B,...M},z){let{basename:W}=b.useContext(Vt),Q=typeof g=="string"&&wh.test(g),X,U=!1;if(typeof g=="string"&&Q&&(X=g,xh))try{let V=new URL(window.location.href),te=g.startsWith("//")?new URL(V.protocol+g):new URL(g),De=ai(te.pathname,W);te.origin===V.origin&&De!=null?g=De+te.search+te.hash:U=!0}catch{Pt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=Mf(g,{relative:p}),[J,K,q]=dy(c,M),re=xy(g,{replace:v,state:w,target:f,preventScrollReset:C,relative:p,viewTransition:B});function ye(V){l&&l(V),V.defaultPrevented||re(V)}let ue=b.createElement("a",{...M,...q,href:X||ie,onClick:U||y?l:ye,ref:gy(z,K),target:f,"data-discover":!Q&&d==="render"?"true":void 0});return J&&!Q?b.createElement(b.Fragment,null,ue,b.createElement(my,{page:ie})):ue});nt.displayName="Link";var yy=b.forwardRef(function({"aria-current":l="page",caseSensitive:d=!1,className:c="",end:p=!1,style:y,to:v,viewTransition:w,children:f,...g},C){let B=Wn(v,{relative:g.relative}),M=Zi(),z=b.useContext(hr),{navigator:W,basename:Q}=b.useContext(Vt),X=z!=null&&Sy(B)&&w===!0,U=W.encodeLocation?W.encodeLocation(B).pathname:B.pathname,ie=M.pathname,J=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;d||(ie=ie.toLowerCase(),J=J?J.toLowerCase():null,U=U.toLowerCase()),J&&Q&&(J=ai(J,Q)||J);const K=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let q=ie===U||!p&&ie.startsWith(U)&&ie.charAt(K)==="/",re=J!=null&&(J===U||!p&&J.startsWith(U)&&J.charAt(U.length)==="/"),ye={isActive:q,isPending:re,isTransitioning:X},ue=q?l:void 0,V;typeof c=="function"?V=c(ye):V=[c,q?"active":null,re?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let te=typeof y=="function"?y(ye):y;return b.createElement(nt,{...g,"aria-current":ue,className:V,ref:C,style:te,to:v,viewTransition:w},typeof f=="function"?f(ye):f)});yy.displayName="NavLink";var by=b.forwardRef(({discover:o="render",fetcherKey:l,navigate:d,reloadDocument:c,replace:p,state:y,method:v=cr,action:w,onSubmit:f,relative:g,preventScrollReset:C,viewTransition:B,...M},z)=>{let W=Ay(),Q=Cy(w,{relative:g}),X=v.toLowerCase()==="get"?"get":"post",U=typeof w=="string"&&wh.test(w),ie=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let K=J.nativeEvent.submitter,q=K?.getAttribute("formmethod")||v;W(K||J.currentTarget,{fetcherKey:l,method:q,navigate:d,replace:p,state:y,relative:g,preventScrollReset:C,viewTransition:B})};return b.createElement("form",{ref:z,method:X,action:Q,onSubmit:c?f:ie,...M,"data-discover":!U&&o==="render"?"true":void 0})});by.displayName="Form";function vy(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kh(o){let l=b.useContext(La);return Re(l,vy(o)),l}function xy(o,{target:l,replace:d,state:c,preventScrollReset:p,relative:y,viewTransition:v}={}){let w=Mi(),f=Zi(),g=Wn(o,{relative:y});return b.useCallback(C=>{if($f(C,l)){C.preventDefault();let B=d!==void 0?d:On(f)===On(g);w(o,{replace:B,state:c,preventScrollReset:p,relative:y,viewTransition:v})}},[f,w,g,d,c,l,o,p,y,v])}var wy=0,ky=()=>`__${String(++wy)}__`;function Ay(){let{router:o}=kh("useSubmit"),{basename:l}=b.useContext(Vt),d=_f();return b.useCallback(async(c,p={})=>{let{action:y,method:v,encType:w,formData:f,body:g}=ty(c,l);if(p.navigate===!1){let C=p.fetcherKey||ky();await o.fetch(C,d,p.action||y,{preventScrollReset:p.preventScrollReset,formData:f,body:g,formMethod:p.method||v,formEncType:p.encType||w,flushSync:p.flushSync})}else await o.navigate(p.action||y,{preventScrollReset:p.preventScrollReset,formData:f,body:g,formMethod:p.method||v,formEncType:p.encType||w,replace:p.replace,state:p.state,fromRouteId:d,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,l,d])}function Cy(o,{relative:l}={}){let{basename:d}=b.useContext(Vt),c=b.useContext(ni);Re(c,"useFormAction must be used inside a RouteContext");let[p]=c.matches.slice(-1),y={...Wn(o||".",{relative:l})},v=Zi();if(o==null){y.search=v.search;let w=new URLSearchParams(y.search),f=w.getAll("index");if(f.some(C=>C==="")){w.delete("index"),f.filter(B=>B).forEach(B=>w.append("index",B));let C=w.toString();y.search=C?`?${C}`:""}}return(!o||o===".")&&p.route.index&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(y.pathname=y.pathname==="/"?d:ii([d,y.pathname])),On(y)}function Sy(o,{relative:l}={}){let d=b.useContext(hh);Re(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=kh("useViewTransitionState"),p=Wn(o,{relative:l});if(!d.isTransitioning)return!1;let y=ai(d.currentLocation.pathname,c)||d.currentLocation.pathname,v=ai(d.nextLocation.pathname,c)||d.nextLocation.pathname;return dr(p.pathname,v)!=null||dr(p.pathname,y)!=null}const Ey=[{key:"UKMLA",title:"UKMLA",desc:"High-yield SBAs aligned with the MLA blueprint."},{key:"PLAB",title:"PLAB",desc:"Targeted practice and explanations to ace PLAB 1."},{key:"USMLE",title:"USMLE",desc:"Systems-based mastery for Step 1/2."}],Ty=[{title:"Plabable",href:"/plabable",blurb:"Exam-style stems, concise notes, smart filters."},{title:"Pastest",href:"#pastest",blurb:"Large bank, analytics, timed mocks."}],Dy=[{title:"B&B (Boards & Beyond)",href:"#bnb",blurb:"Concept-first videos + checks."},{title:"UWorld",href:"#uworld",blurb:"Gold-standard NBME-style Qs."}],Ah=[{key:"cardiovascular",title:"Cardiovascular",blurb:"Ischemia, arrhythmias, valvular, heart failure."},{key:"respiratory",title:"Respiratory",blurb:"Asthma, COPD, pneumonia, ILD, PE."},{key:"gastrointestinal",title:"Gastrointestinal & Hepatology",blurb:"Liver, biliary, IBD, ulcers, pancreatitis, cirrhosis."},{key:"renal",title:"Renal/Genitourinary",blurb:"AKI, CKD, nephritic/nephrotic, stones."},{key:"endocrine",title:"Endocrine",blurb:"Diabetes, thyroid, adrenal, pituitary."},{key:"neurology",title:"Neurology",blurb:"Stroke, seizures, demyelination, neuropathies."},{key:"msk",title:"MSK/Rheumatology",blurb:"OA/RA, SLE, vasculitides, gout."},{key:"hematology",title:"Hematology",blurb:"Anemias, hemoglobinopathies, coagulopathies."},{key:"oncology",title:"Oncology",blurb:"Solid tumors, staging, chemo/radiation principles."},{key:"infectious",title:"Infectious Diseases",blurb:"Sepsis, TB, HIV, tropical, antimicrobials."},{key:"allergy-immunology",title:"Allergy & Immunology",blurb:"Anaphylaxis, urticaria, immunodeficiencies."},{key:"psychiatry",title:"Psychiatry",blurb:"Mood, anxiety, psychosis, substance use."},{key:"dermatology",title:"Dermatology",blurb:"Eczema, psoriasis, bullous, skin cancers."},{key:"reproductive",title:"Reproductive (Ob/Gyn)",blurb:"Obstetrics, contraception, infertility, STIs."},{key:"pediatrics",title:"Pediatrics",blurb:"Congenital, infections, development."},{key:"ophthalmology",title:"Ophthalmology",blurb:"Red eye, glaucoma, cataract, retinal disease."},{key:"ent",title:"ENT (Otolaryngology)",blurb:"Otitis, sinusitis, epistaxis, head & neck masses."},{key:"geriatrics",title:"Geriatrics",blurb:"Falls, frailty, delirium, polypharmacy."},{key:"emergency",title:"Emergency Medicine",blurb:"Resuscitation, trauma, toxidromes, ACS."},{key:"toxicology",title:"Toxicology",blurb:"Overdose management, antidotes, toxidromes."},{key:"palliative",title:"Palliative Care",blurb:"Symptom control, EOL discussions, ethics."}];function Ol({heading:o,subtitle:l,options:d}){return n.jsxs("div",{className:"mt-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-2 mb-3",children:[n.jsx("h4",{className:"text-xl md:text-2xl font-bold text-slate-900",children:o}),n.jsx("p",{className:"text-sm text-slate-600",children:l})]}),n.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:d.map(c=>n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm hover:shadow-md transition",children:n.jsxs("div",{className:"p-5 flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-lg text-slate-900",children:c.title}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:c.blurb})]}),c.href.startsWith("/")?n.jsxs(nt,{to:c.href,className:"inline-flex items-center gap-2 rounded-xl px-4 py-2 font-bold bg-gradient-to-r from-emerald-400 to-sky-400 text-emerald-950 shadow",children:["Open ",n.jsx("span",{children:"→"})]}):n.jsxs("a",{href:c.href,className:"inline-flex items-center gap-2 rounded-xl px-4 py-2 font-bold bg-gradient-to-r from-emerald-400 to-sky-400 text-emerald-950 shadow",children:["Open ",n.jsx("span",{children:"→"})]})]})},c.title))})]})}function Vl({title:o,blurb:l}){return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:o}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:l})]})}function Ny({system:o}){return n.jsx("div",{className:"group rounded-2xl border border-slate-200 bg-white shadow-sm hover:shadow-md transition",children:n.jsxs("div",{className:"p-5 flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-slate-900",children:o.title}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:o.blurb})]}),n.jsxs(nt,{to:`/diseases/${o.key}`,className:"shrink-0 inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-bold bg-gradient-to-r from-emerald-400 to-sky-400 text-emerald-950 shadow",children:["Browse ",n.jsx("span",{children:"→"})]})]})})}function jy(){const[o,l]=b.useState(null),d=b.useMemo(()=>new Date().getFullYear(),[]),c=b.useCallback(p=>{if(typeof document>"u")return;const y=document.getElementById(p);y&&y.scrollIntoView({behavior:"smooth",block:"start"})},[]);return n.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:[n.jsx("header",{className:"sticky top-0 z-50 backdrop-blur bg-white/80 border-b border-slate-200",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-9 w-9 rounded-xl bg-gradient-to-br from-emerald-300 to-sky-400 shadow-sm flex items-center justify-center text-emerald-950 font-extrabold",children:"MW"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xl font-extrabold tracking-tight",children:"Mediwise"}),n.jsx("p",{className:"text-xs text-slate-500 -mt-0.5",children:"Study smarter. Score higher."})]})]}),n.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm text-slate-600",children:[n.jsx("a",{href:"#exams",className:"hover:text-slate-900 transition",children:"Exams"}),n.jsx("a",{href:"#diseases",className:"hover:text-slate-900 transition",children:"Diseases"}),n.jsx("a",{href:"#why",className:"hover:text-slate-900 transition",children:"Why Mediwise"}),n.jsx("a",{href:"#contact",className:"hover:text-slate-900 transition",children:"Contact"})]})]})}),n.jsxs("section",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(80rem_40rem_at_20%_-10%,rgba(16,185,129,0.08),transparent_60%),radial-gradient(60rem_30rem_at_80%_10%,rgba(56,189,248,0.08),transparent_60%)]"}),n.jsxs("div",{className:"relative mx-auto max-w-7xl px-4 py-16 md:py-20",children:[n.jsxs("h1",{className:"text-4xl md:text-6xl font-black leading-tighter tracking-tight max-w-3xl",children:["Master your exam with a"," ",n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 via-teal-600 to-sky-600",children:"wise"})," ","plan."]}),n.jsx("p",{className:"mt-5 text-lg md:text-xl text-slate-700 max-w-3xl",children:"Curated question banks for UKMLA, PLAB, and USMLE—organized, beautiful, and laser-focused on exam-day performance."}),n.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[n.jsx("span",{className:"border border-emerald-200 bg-emerald-50 text-emerald-700 rounded-full py-1 px-3 text-sm",children:"Green / Blue Theme"}),n.jsx("span",{className:"border border-sky-200 bg-sky-50 text-sky-700 rounded-full py-1 px-3 text-sm",children:"View-Only • No Login"}),n.jsx("span",{className:"border border-slate-200 bg-white text-slate-700 rounded-full py-1 px-3 text-sm",children:"High-Yield • Clean UI"})]}),n.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[n.jsx("button",{onClick:()=>c("exams"),className:"inline-flex items-center gap-2 rounded-2xl shadow bg-gradient-to-r from-emerald-400 to-sky-400 text-emerald-950 font-bold px-5 py-3",children:"Explore Question Banks →"}),n.jsx("button",{onClick:()=>c("diseases"),className:"inline-flex items-center gap-2 rounded-2xl shadow bg-white border border-slate-200 text-slate-800 font-bold px-5 py-3",children:"Learn Diseases →"})]})]})]}),n.jsxs("section",{id:"exams",className:"mx-auto max-w-7xl px-4 pb-14",children:[n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold",children:"Choose your exam"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Click a card to reveal provider options."})]}),n.jsx("div",{className:"mt-6 grid md:grid-cols-3 gap-5",children:Ey.map(p=>n.jsx("div",{onClick:()=>l(p.key),className:["group cursor-pointer rounded-2xl border border-slate-200 bg-white shadow-sm hover:shadow-md",o===p.key?"ring-2 ring-emerald-400/60":""].join(" "),children:n.jsxs("div",{className:"p-5 flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-semibold",children:p.title}),n.jsx("p",{className:"text-slate-600 mt-1",children:p.desc})]}),n.jsx("button",{className:"rounded-xl bg-slate-100 hover:bg-slate-200 border border-slate-300 text-slate-700 px-3 py-2 text-sm",children:o===p.key?"Selected":"Select"})]})},p.key))}),n.jsxs("div",{className:"mt-8 space-y-6",children:[o==="UKMLA"&&n.jsx(Ol,{heading:"UKMLA Question Bank",subtitle:"Mapped to the MLA content map with SBAs and practical clinical scenarios.",options:[{title:"Explore UKMLA Bank",href:"#ukmla",blurb:"Blueprint-aligned practice sets and explanations."}]}),o==="PLAB"&&n.jsx(Ol,{heading:"PLAB Providers",subtitle:"Pick your preferred platform and start practicing.",options:Ty}),o==="USMLE"&&n.jsx(Ol,{heading:"USMLE Providers",subtitle:"Choose a resource that fits your study style.",options:Dy})]})]}),n.jsxs("section",{id:"diseases",className:"mx-auto max-w-7xl px-4 pb-16",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold",children:"Diseases by System"}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Choose a body system to browse high-yield disease summaries and differentials."})]}),n.jsx(My,{})]}),n.jsx("div",{className:"mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:Ah.map(p=>n.jsx(Ny,{system:p},p.key))})]}),n.jsx("section",{id:"why",className:"mx-auto max-w-7xl px-4 pb-20",children:n.jsxs("div",{className:"rounded-3xl p-8 md:p-10 bg-white border border-slate-200 shadow-sm",children:[n.jsx("h3",{className:"text-2xl md:text-3xl font-extrabold",children:"Why Mediwise?"}),n.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-6",children:[n.jsx(Vl,{title:"Organized & Aesthetic",blurb:"Clutter-free layout with smooth spacing for focus."}),n.jsx(Vl,{title:"High-Yield Focus",blurb:"Mapped to exam blueprints—no fluff, just what moves the needle."}),n.jsx(Vl,{title:"Green/Blue Accents",blurb:"A calm yet energizing palette used sparingly on white."})]})]})}),n.jsx("footer",{id:"contact",className:"border-t border-slate-200 bg-white",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 py-10",children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-center",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"font-semibold",children:"Mediwise"}),n.jsxs("p",{className:"text-sm text-slate-600",children:["For feedback or partnerships, email"," ",n.jsx("a",{className:"underline underline-offset-4 text-sky-700",href:"mailto:hello@mediwise.app",children:"hello@mediwise.app"})]})]}),n.jsxs("div",{className:"md:text-right text-sm text-slate-600",children:["© ",d," Mediwise. All rights reserved."]})]})})})]})}function My(){const[o,l]=b.useState(""),d=rh.useMemo(()=>{const c=o.trim().toLowerCase();return c?Ah.filter(p=>p.title.toLowerCase().includes(c)||p.key.includes(c)).slice(0,5):[]},[o]);return n.jsxs("div",{className:"w-full md:w-80",children:[n.jsx("label",{className:"sr-only",htmlFor:"system-search",children:"Search systems"}),n.jsx("input",{id:"system-search",value:o,onChange:c=>l(c.target.value),placeholder:"Search systems...",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/60"}),o&&n.jsx("div",{className:"mt-2 rounded-2xl border border-slate-200 bg-white shadow-sm divide-y",children:d.length===0?n.jsx("div",{className:"p-3 text-sm text-slate-500",children:"No matches."}):d.map(c=>n.jsx(nt,{to:`/diseases/${c.key}`,className:"block p-3 text-sm hover:bg-slate-50",children:c.title},c.key))})]})}const Ry=["Acute & emergency","Cancer","Cardiovascular","Child health","Clinical haematology","Clinical imaging","Dermatology","Ear, nose & throat (ENT)","Endocrine & metabolic","Gastrointestinal (incl. liver)","General practice & primary healthcare","Infection","Medicine of older adult","Mental health","Musculoskeletal (incl. trauma, orthopaedics, rheumatology)","Neurosciences (incl. neurosurgery)","Obstetrics & gynaecology","Ophthalmology","Palliative & end-of-life care","Perioperative medicine & anaesthesia","Renal & urology","Respiratory (incl. thoracic surgery)","Sexual health","Surgery (general, plastic, breast, OMFS, transplantation)"];function Py(){return n.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:[n.jsx("header",{className:"sticky top-0 z-40 backdrop-blur bg-white/80 border-b border-slate-200",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 py-3 flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(nt,{to:"/",className:"text-slate-600 hover:text-slate-900",children:"← Home"}),n.jsx("span",{className:"text-slate-400",children:"/"}),n.jsx("span",{className:"font-semibold",children:"PLAB"}),n.jsx("span",{className:"text-slate-400",children:"/"}),n.jsx("span",{children:"Plabable"})]})})}),n.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-10",children:[n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold",children:"Plabable Subjects"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Choose a subject to start studying."})]}),n.jsx("div",{className:"mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Ry.map(o=>{const l=o.toLowerCase().startsWith("acute & emergency")?"/plabable/acute-emergency":void 0,d=({children:c})=>n.jsx("div",{className:"text-left rounded-2xl border border-slate-200 bg-white p-4 shadow-sm hover:shadow-md transition",children:c});return l?n.jsx(nt,{to:l,className:"block",children:n.jsxs(d,{children:[n.jsx("p",{className:"font-semibold",children:o}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Study questions, notes, and quick reviews."})]})},o):n.jsx("button",{className:"text-left",children:n.jsxs(d,{children:[n.jsx("p",{className:"font-semibold",children:o}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Coming soon."})]})},o)})})]})]})}const ji=[{id:"EM-1155",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 20 year old man is rushed into the Emergency Department following a major road traffic accident. Upon examination, he exhibits significant difficulty in breathing and complains of intense chest pain. Vital signs show a systolic blood pressure of 70 mmHg and a pulse rate of 130 beats/minute. What is the SINGLE most appropriate initial action?",options:[{key:"A",text:"Antibiotics"},{key:"B",text:"Analgesia"},{key:"C",text:"High flow oxygen"},{key:"D",text:"Secure venous access"},{key:"E",text:"Refer to surgeon"}],correct:"C",explanation_plabable:["In this question, the examiners want you to know the basics of life-threatening emergencies. ABC — airway, breathing, circulation should always be addressed first.","This patient is in shock. In reality, high flow oxygen, securing venous access and analgesia would all be done simultaneously. But for the purpose of the exam, we follow NHS-style priorities: secure the airway and give oxygen first. Thus, ‘High flow oxygen’ is the best single initial action."],explanation_detail:["Primary survey principles (DRABC) take precedence in the multi-trauma patient: ensure a patent airway and adequate oxygenation before circulation interventions. Profound hypotension with tachycardia is consistent with shock; immediate high-flow oxygen improves tissue delivery and buys time for definitive management."]},{id:"CA-2221",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",image:"/ecg-pe.png",stem:"A 35 year old woman presents to the Emergency Department with sudden onset of shortness of breath and pleuritic chest pain. She describes feeling breathless over the past hour and denies any history of fever or cough. Her symptoms began while she was sitting at her desk at work. She has no significant past medical history. On examination, she appears tachypnoeic (RR 26). Her oxygen saturation is 91% on room air. Her pulse is 110 beats per minute and regular, and her blood pressure is 110/70 mmHg. ECG is seen below. What is the most likely diagnosis?",options:[{key:"A",text:"Acute myocardial infarction"},{key:"B",text:"Anxiety attack"},{key:"C",text:"Aortic dissection"},{key:"D",text:"Pericarditis"},{key:"E",text:"Pulmonary embolism"}],correct:"E",explanation_plabable:["The presentation of sudden onset shortness of breath and pleuritic chest pain, coupled with tachypnoea (respiratory rate of 26), hypoxia (oxygen saturation of 91% on room air), and tachycardia (pulse of 110 beats per minute) is highly suggestive of a pulmonary embolism (PE).","The ECG shows a right bundle branch block (RBBB) which can be associated with a PE. Even if a right bundle branch block (RBBB) is not evident on the ECG, the absence of ST elevation in a 35 year old woman should still raise suspicion for a pulmonary embolism (PE). Myocardial infarctions (MIs) are relatively uncommon in young individuals without significant cardiovascular risk factors.","Anxiety could cause hyperventilation but would not typically result in hypoxia.","Plabable tip: Not all exam questions on pulmonary embolism (PE) will present with the classic or textbook features (e.g. recent surgery, long-haul flights, active cancer, use of combined oral contraception, or a prior history of deep vein thrombosis (DVT))."],explanation_detail:["Why PE fits best: sudden pleuritic chest pain + acute dyspnoea with tachycardia, tachypnoea and resting hypoxaemia are classic for pulmonary embolism. Normal BP and regular pulse suggest submassive PE rather than massive PE (no persistent hypotension).","ECG in PE: often non-specific but can show sinus tachycardia (commonest), right heart strain patterns—RBBB (complete or incomplete), T-wave inversions V1–V4, right axis deviation, and occasionally S1Q3T3. The provided tracing demonstrates features consistent with right ventricular strain rather than ischaemic ST-segment elevation.","Why other options are less likely: MI typically causes crushing central pain, risk factors, and ST-segment changes; pericarditis produces pleuritic pain classically better when leaning forward with diffuse ST elevation and PR depression; aortic dissection causes tearing pain radiating to the back with pulse/BP differentials; panic/anxiety may cause tachypnoea but not true hypoxaemia.","Initial ED approach: assess stability (ABCs). Give oxygen to target SpO₂ ≥94% (or ≥90% if COPD), establish IV access and send labs including D-dimer if pre-test probability is low/intermediate. Calculate a Wells score (e.g., signs of DVT, HR >100, recent immob/surgery, haemoptysis, cancer, alternative diagnosis less likely). High probability or positive D-dimer → proceed to CTPA. If CTPA contraindicated (e.g., contrast allergy, pregnancy) use V/Q scan. Consider bedside leg ultrasound if DVT suspected.","Treatment: haemodynamically stable PE → prompt anticoagulation (e.g., LMWH or DOAC per local guidance). Haemodynamically unstable (massive) PE → thrombolysis is indicated unless contraindicated; consider surgical or catheter-directed therapy if lysis is contraindicated/unsuccessful. Provide analgesia for pleuritic pain and treat precipitating factors.","Prognosis & follow-up: risk-stratify (PESI/sPESI), screen for provoking factors (recent immobility, OCP, malignancy); typical anticoagulation duration is 3 months if provoked, longer if unprovoked or with persistent risk. Educate on recurrence signs and when to seek care."]},{id:"SS-0003",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Clinical Vignette",stem:"An 18 month old boy accidentally pulled a cup of hot tea off a high table. The hot liquid splashed over him, and he now presents with a partial thickness burn covering 6% of his total body surface area (TBSA), localised to his chest. What is the best treatment for him?",options:[{key:"A",text:"IV crystalloids"},{key:"B",text:"IV colloids"},{key:"C",text:"No need for IV treatment"},{key:"D",text:"IV dextrose bolus"},{key:"E",text:"IV albumin infusion"}],correct:"C",explanation_plabable:["Any child with more than <mark>10% of the total body surface area (TBSA)</mark> burned requires fluid replacement. Here, there is only <strong>6%</strong>.","Further reading: <a class='underline text-purple-700' href='http://patient.info/doctor/burns-assessment-and-management' target='_blank' rel='noreferrer'>patient.info — Burns: assessment & management</a>."],explanation_detail:["<strong>Why C is correct:</strong> This is a scald in an <em>18-month-old</em> with a <em>partial-thickness</em> burn of <strong>6% TBSA</strong>, confined to the chest. In children, formal IV fluid <mark>resuscitation is generally started when TBSA ≥10%</mark> (adults ≥15%). Below these thresholds, manage with oral fluids, analgesia and wound care; monitor clinically rather than reflex IV therapy.","<strong>Initial management (NICE-aligned first aid):</strong> Cool the burn under <em>cool running water</em> for 20 minutes (ideally within 3 hours). Remove clothing/jewellery. <strong>Do not use ice</strong> or creams. Cover with <em>cling film</em> or a non-adherent sterile dressing. Give weight-appropriate analgesia (paracetamol/ibuprofen). Keep warm to avoid hypothermia. Check <strong>tetanus</strong> status.","<strong>Assessment points:</strong> Estimate TBSA using the <em>Lund & Browder</em> chart in children (or the child’s palm incl. fingers ≈ <strong>1% TBSA</strong>). Determine depth (superficial ↔ full thickness). Assess ABCs and <strong>consider non-accidental injury</strong> if history/pattern is atypical.","<strong>When to give IV fluids:</strong> Start IV crystalloid (e.g., Hartmann’s) when <mark>TBSA ≥10% in children</mark> or if there are signs of shock/dehydration. Use a formula such as <em>Parkland</em> (4 mL × weight(kg) × %TBSA over 24 h — half in first 8 h) <em>plus paediatric maintenance fluids</em>. Target urine output ≈ <strong>1 mL/kg/h</strong>. <strong>Avoid colloids/albumin early</strong>; they’re not first-line for initial resuscitation. Dextrose bolus is for documented hypoglycaemia only.","<strong>Referral / escalation (typical UK criteria):</strong> Refer early to a burns service for <mark>≥5% TBSA in children</mark>, any full-thickness burn, burns of the <em>face, hands, feet, perineum/genitals, or major joints</em>, circumferential burns, electrical/chemical/inhalation injury, or safeguarding concerns.","<strong>Disposition & safety-netting:</strong> With <strong>6% TBSA</strong> and good oral intake, outpatient care is reasonable: clear return advice (reduced urine output, fever, increasing pain/redness suggesting infection, lethargy), review/dressing plan, and precise analgesia dosing."]},{id:"EM-0507",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 23 year old woman presents to the Emergency Department with symptoms of dizziness, sweating, and tinnitus. She admits to having ingested a large number of aspirin tablets approximately three hours prior to arrival. On examination, she is tachypnoeic with a respiratory rate of 30 breaths per minute and appears agitated. An arterial blood gas (ABG) analysis reveals the following:<br/><br/>pH 7.49 (7.35 – 7.45)<br/>PaO2 12.0 kPa (10–14)<br/>PaCO2 2.9 kPa (4.7–6.0)<br/>Bicarbonate 22 mmol/L (22–26)<br/><br/>Which of the following best describes the primary acid-base disturbance in this patient?",options:[{key:"A",text:"Respiratory acidosis"},{key:"B",text:"Respiratory acidosis with compensation"},{key:"C",text:"Respiratory alkalosis"},{key:"D",text:"Metabolic acidosis"},{key:"E",text:"Mixed respiratory alkalosis and metabolic acidosis"}],correct:"C",explanation_plabable:["The patient has an elevated pH indicating alkalosis. The low PaCO2 suggests a primary respiratory cause, as it reflects hyperventilation.","Aspirin overdose, or salicylate poisoning, has a characteristic pathophysiological effect on the acid-base balance of the body, which can sometimes lead to a mixed picture of disturbances.","In the early stages of salicylate (aspirin) toxicity, respiratory alkalosis often occurs first. This is due to direct stimulation of the respiratory center in the brain by salicylates, leading to increased breathing rate and depth (hyperventilation), which lowers carbon dioxide levels and raises the blood pH.","As the toxicity progresses, metabolic acidosis can develop. This occurs because salicylates interfere with cellular metabolism, leading to an accumulation of organic acids in the blood. The body's efforts to compensate for this acidosis can be overwhelmed, especially if the toxicity is severe or prolonged.","Therefore, it is important to monitor for any changes in her acid-base status. However, based on the provided ABG values, the primary disturbance at this time is respiratory alkalosis.","The patient's bicarbonate level is within the normal range at 22 mmol/L, suggesting that there is no significant metabolic compensation occurring at this stage."],explanation_detail:["<strong>Stepwise ABG interpretation</strong>: (1) pH 7.49 → <mark>alkalaemia</mark>. (2) PaCO₂ 2.9 kPa (low) → points toward a <strong>respiratory alkalosis</strong>. (3) HCO₃⁻ 22 mmol/L is ~normal → <em>little/no metabolic process</em> influencing the pH right now. Therefore, the <strong>primary disturbance = respiratory alkalosis</strong>.","<strong>Why salicylates do this</strong>: Salicylates stimulate the medullary respiratory centre → <em>hyperventilation</em> → <mark>↓PaCO₂</mark> → <strong>respiratory alkalosis</strong> (often within the first few hours). Later, salicylates uncouple oxidative phosphorylation and increase organic acid production, generating an <strong>anion gap metabolic acidosis</strong>. Many patients ultimately have a <em>mixed</em> picture, but <u>this ABG</u> still shows predominant respiratory alkalosis (normal HCO₃⁻, alkalemic pH).","<strong>Why the other options are wrong</strong>:","• <strong>A/B (respiratory acidosis)</strong>—would require <mark>high</mark> PaCO₂ with low/normal pH; here PaCO₂ is <em>low</em> and pH is high.<br/>• <strong>D (metabolic acidosis)</strong>—would show low HCO₃⁻ and acidemia (pH &lt; 7.35); neither is present.<br/>• <strong>E (mixed)</strong>—possible in salicylate toxicity, but you’d expect <em>alkalaemia with a <strong>low</strong> HCO₃⁻</em> (or a more equivocal pH). Here HCO₃⁻ is 22 mmol/L and the findings fit a <strong>primary respiratory alkalosis</strong> best.","<strong>Immediate management pearls in suspected salicylate overdose</strong>:","• <mark>ABCs</mark>, repeat vitals, IV access, glucose check (treat hypoglycaemia).<br/>• Measure salicylate level, VBG/ABG, U&amp;Es, glucose, lactate, LFTs; consider co-ingestants (e.g., paracetamol).<br/>• <strong>Avoid intubation if possible</strong>—loss of hyperventilation can rapidly worsen acidaemia and CNS salicylate entry. If intubation is unavoidable, <em>match pre-intubation minute ventilation</em> and use high rates to keep PaCO₂ low.<br/>• <strong>Alkalinise serum/urine</strong> with IV sodium bicarbonate when indicated (e.g., significant levels/symptoms): target serum pH 7.45–7.55 and urine pH &gt; 7.5; maintain potassium &gt; 4.0 mmol/L to enable urine alkalinisation.<br/>• <strong>Haemodialysis</strong> for severe toxicity (very high levels, severe acidosis, renal failure, pulmonary/cerebral oedema, refractory symptoms).<br/>• Activated charcoal if early and airway protected (per local toxicology guidance).","<strong>Exam takeaway</strong>: In early salicylate poisoning, think <mark>respiratory alkalosis</mark>. If a later ABG shows <em>low HCO₃⁻</em> with near-normal pH, suspect a <strong>mixed respiratory alkalosis + metabolic acidosis</strong>. Here, normal HCO₃⁻ and high pH make <strong>Respiratory alkalosis</strong> the best single answer."]},{id:"EM-3139",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 21 year old lady after a heavy bout of drinking last night comes to the emergency department with vomiting blood, feeling dizzy, and having intense abdominal pain. On examination, her limbs feel cold. She has a pulse of <strong>130 beats/minute</strong> and blood pressure of <strong>85/58 mmHg</strong>. After initial resuscitation with oxygen and fluids, she still continues to bleed and continues to vomit blood. <br/><br/><strong>What is the SINGLE next best step?</strong>",options:[{key:"A",text:"Clotting screen"},{key:"B",text:"Ultrasound"},{key:"C",text:"Computed tomography"},{key:"D",text:"Endoscopy"},{key:"E",text:"Intravenous omeprazole"}],correct:"D",explanation_plabable:["This is a classic presentation of Mallory-Weiss syndrome (MWS). It is characterised by upper gastrointestinal bleeding (UGIB) from mucosal lacerations in the upper gastrointestinal tract, usually at the gastro-oesophageal junction or gastric cardia.","Excessive alcohol ingestion is one of the main causes as prolonged or forceful bout of vomiting can cause a tear in the upper gastrointestinal tract.","Light-headedness and dizziness and features associated with the initial cause of the vomiting - eg, abdominal pain may be seen and are seen in this stem.","Resuscitation is a priority - maintain airway, provide high-flow oxygen, correct fluid losses by giving IV fluids. Intravenous blood can also be given in severe cases.","Haemodynamically unstable patients like in this stem should have endoscopy immediately after resuscitation. It is the primary diagnostic investigation and can be used to stop the bleeding.","Note proton pump inhibitor (PPI) use is not recommended prior to diagnosis by endoscopy. A Cochrane review found PPI use at this stage was not associated with a reduction in re-bleeding, need for surgery or mortality.","Reference:","<a class='underline text-purple-700' href='http://patient.info/doctor/mallory-weiss-syndrome-pro' target='_blank' rel='noreferrer'>http://patient.info/doctor/mallory-weiss-syndrome-pro</a>"],explanation_detail:["<strong>Why the answer is <mark>Endoscopy</mark>:</strong> She remains <em>haemodynamically unstable</em> (HR 130, BP 85/58) and is <em>still vomiting blood</em> after initial resuscitation. NICE CG141 (<em>Acute upper GI bleeding in over-16s</em>) recommends <mark>urgent endoscopy immediately after resuscitation in unstable patients with severe ongoing bleeding</mark>, both to diagnose the source and to deliver endoscopic haemostasis. Therefore, <strong>endoscopy</strong> is the single next best step.","<strong>Typical cause in this stem—Mallory–Weiss tear:</strong> A mucosal laceration at the <em>gastro-oesophageal junction</em> or <em>gastric cardia</em> after forceful retching, commonly precipitated by alcohol binges. Most tears stop spontaneously, but a subset bleed briskly and require endoscopic therapy (e.g., <em>adrenaline injection</em> plus a second modality such as <em>clips</em> or <em>thermal coagulation</em>).","<strong>Initial ED priorities (resuscitation) — ABC:</strong> Secure airway if ongoing haematemesis threatens aspiration; give high-flow oxygen, obtain two large-bore IV cannulae, draw blood (FBC, U&amp;Es, LFTs, group &amp; save/crossmatch ± coagulation profile), start IV crystalloids and activate massive haemorrhage protocols if needed. <em>Restrictive transfusion</em> strategy is recommended (generally Hb threshold around <strong>70 g/L</strong>, or <strong>80 g/L</strong> if ACS). Transfuse platelets if <strong>&lt;50 ×10⁹/L</strong> with active bleeding; correct coagulopathy (vitamin K, PCC for warfarin; specific reversal for DOACs where indicated).","<strong>Risk scoring:</strong> At first assessment, calculate the <em>Glasgow-Blatchford Score (GBS)</em> to stratify risk and need for admission/intervention. After endoscopy, use the <em>full Rockall score</em> to estimate re-bleeding/mortality. In this case, shock vital signs mandate admission and urgent endoscopy regardless of score.","<strong>Timing of endoscopy:</strong> NICE advises endoscopy <em>within 24 hours</em> for most suspected UGIB; <mark>sooner (immediate)</mark> after resuscitation if unstable or with continued haematemesis—this patient qualifies.","<strong>What happens at endoscopy (non-variceal UGIB):</strong> For actively bleeding non-variceal lesions, use <em>adrenaline</em> injection plus a <em>second modality</em> (mechanical clip or thermal coagulation) to secure haemostasis. For Mallory–Weiss tears, clips or thermal methods are commonly effective; banding can also be used. If endoscopic therapy fails, consider <em>interventional radiology</em> (embolisation) or <em>surgery</em>.","<strong>PPI timing:</strong> Do <mark>not</mark> start PPI <em>before</em> diagnostic endoscopy (no outcome benefit for re-bleeding, surgery or mortality). After endoscopic haemostasis for high-risk non-variceal lesions, start <strong>high-dose IV PPI</strong> (e.g., bolus + infusion for 72 h) then step down to oral. If a clean-based, low-risk lesion is found, routine PPI infusion is unnecessary.","<strong>Why the other options are wrong <em>as the next step</em>:</strong><br/>• <strong>A. Clotting screen</strong> — appropriate work-up but <em>should not delay</em> life-saving haemostasis when bleeding continues after resuscitation.<br/>• <strong>B. Ultrasound</strong> — not useful for diagnosing the source of UGIB or stopping the bleed.<br/>• <strong>C. CT</strong> — may be used if endoscopy and IR fail or diagnosis is uncertain, but it <em>doesn’t provide immediate haemostasis</em> and is not first line in active haematemesis.<br/>• <strong>E. IV omeprazole</strong> — <mark>not recommended prior to endoscopy</mark>; evidence (including Cochrane) shows no reduction in re-bleeding/need for surgery/mortality when given pre-diagnosis.","<strong>Differentials to keep in mind:</strong> <em>Variceal bleeding</em> (cirrhosis, stigmata of chronic liver disease) — give <strong>IV antibiotics</strong> and <strong>terlipressin</strong> early; endoscopic <em>band ligation</em> is preferred. <em>Peptic ulcer</em> (NSAIDs/H. pylori), <em>gastritis</em>, <em>Dieulafoy lesion</em>, <em>Boerhaave</em> (if severe chest/neck pain and mediastinal signs after vomiting).","<strong>Aftercare & disposition:</strong> Observe for re-bleeding (tachycardia, falling Hb, fresh haematemesis/melaena). Optimise analgesia and anti-emetics, treat alcohol-related issues, and plan follow-up. Use the <em>post-endoscopy Rockall</em> to decide ward vs higher level care.","<strong>Key exam takeaways:</strong> (1) <mark>Ongoing haematemesis + haemodynamic instability → urgent endoscopy after resuscitation</mark>. (2) Don’t give a pre-endoscopy PPI. (3) For non-variceal bleeds, adrenaline <em>plus</em> a second modality. (4) Risk-assess with GBS (pre-scope) and Rockall (post-scope)."]},{id:"EM-1023",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 58 year old woman presents to the Emergency Department with shortness of breath that started 12 hours ago. Her blood pressure is <strong>145/98 mmHg</strong>, heart rate is <strong>111 beats/minute</strong>, respiratory rate is <strong>23 breaths/minute</strong>, and oxygen saturation is <strong>92% on room air</strong>. Physical examination reveals a mildly distressed woman with tachypnoea. <br/><br/>What is the most appropriate <strong>initial investigation</strong>?",options:[{key:"A",text:"Immediate computed tomography pulmonary angiography (CTPA)"},{key:"B",text:"Echocardiogram"},{key:"C",text:"Creatine kinase"},{key:"D",text:"Lower limb venous Doppler ultrasound"},{key:"E",text:"Chest X-ray"}],correct:"E",explanation_plabable:["A chest X-ray is quick, widely available, and can provide crucial information on a range of potential issues including heart failure, pneumonia, pneumothorax and other causes of acute respiratory distress. Even if one suspects a pulmonary embolism, it would be prudent to perform a chest X-ray first to rule out other pathologies before proceeding with a CTPA."],explanation_detail:["<strong>Why E (Chest X-ray) is the best initial investigation:</strong> In an undifferentiated patient with <em>acute dyspnoea</em> and abnormal vitals (SpO₂ 92%, RR 23, HR 111), a <mark>portable chest radiograph</mark> is fast, widely available, low-radiation, and helps identify or exclude common life-threatening causes such as <strong>pneumonia</strong>, <strong>pulmonary oedema/heart failure</strong>, <strong>pneumothorax</strong>, large pleural effusion, or gross lung collapse. It also provides a baseline before further imaging and can reveal alternative diagnoses that would change the immediate plan.","<strong>What about suspected PE?</strong> CXR is <em>not diagnostic</em> for PE, but guidelines favour obtaining it early because it may explain hypoxaemia (e.g., consolidation, pneumothorax) and helps interpret/plan subsequent imaging. After CXR, if PE remains a concern, assess pre-test probability (e.g., Wells). <em>Low/intermediate</em> probability → D-dimer then CTPA if positive. <em>High</em> probability and haemodynamically stable → proceed to CTPA directly; if unstable, consider bedside echo for right-heart strain and treat empirically as per local protocol.","<strong>Why the other options are not the first step here:</strong><br/>• <strong>A. Immediate CTPA</strong> — appropriate only after clinical risk assessment or if high pre-test probability; as an <em>initial</em> test in undifferentiated dyspnoea it is premature, higher radiation/contrast risk, and may miss alternative diagnoses found on CXR.<br/>• <strong>B. Echocardiogram</strong> — useful for suspected acute heart failure, pericardial tamponade, or to look for RV strain in massive PE, but it is not the routine first investigation in a stable dyspnoeic patient.<br/>• <strong>C. Creatine kinase</strong> — CK is for myopathy/rhabdomyolysis or some cardiac workups but is not helpful in the immediate evaluation of dyspnoea.<br/>• <strong>D. Lower limb venous Doppler</strong> — may support a PE diagnosis if DVT is found, but it does not evaluate primary thoracic causes of dyspnoea and is not the first test in this presentation.","<strong>Initial ED bundle for undifferentiated dyspnoea (quick checklist):</strong> ABCs and continuous monitoring; pulse oximetry ± arterial/venous blood gas if needed; ECG; <mark>portable CXR</mark>; basic labs (FBC, U&amp;Es, CRP, troponin if chest pain/ischemia suspected); consider D-dimer guided by pre-test probability; bedside lung ultrasound if skilled operator available (can rapidly detect pneumothorax, B-lines in pulmonary oedema, consolidation, effusion).","<strong>Exam takeaway:</strong> When the stem asks for the <em>most appropriate initial investigation</em> for acute breathlessness without a definite diagnosis, choose the <strong>Chest X-ray</strong> first, then escalate testing according to the evolving differential."]},{id:"EM-2473",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 45 year old man is brought to the Emergency Department by ambulance following an intentional overdose of propranolol. He is drowsy and pale, and initial observations reveal a heart rate of 45 beats per minute and a blood pressure of 80/50 mmHg. The man reports feeling lightheaded, and examination shows cold peripheries with delayed capillary refill time. He was commenced on intravenous fluids en route. ECG shows sinus bradycardia without evidence of heart block. Which of the following is the most appropriate antidote?",options:[{key:"A",text:"Atropine"},{key:"B",text:"Calcium chloride"},{key:"C",text:"Glucagon"},{key:"D",text:"Insulin and glucose"},{key:"E",text:"Sodium bicarbonate"}],correct:"C",explanation_plabable:["Glucagon is the most appropriate antidote for beta-blocker overdose, as it increases heart rate and myocardial contractility through a mechanism independent of beta-adrenergic receptors.","Atropine is commonly used for bradycardia as it blocks vagal activity at the sinoatrial (SA) node, which can increase heart rate. It can be used first line here, but it is NOT considered an antidote."],explanation_detail:["Why glucagon: Propranolol blocks β1 receptors, reducing chronotropy/inotropy and causing hypotension and bradycardia. Glucagon activates its own receptors, increasing cAMP via a β-independent pathway to restore heart rate and contractility—hence the specific antidote.","Dosing (adult exam level): IV bolus 5–10 mg (or 50–150 micrograms/kg), repeat if needed; then infusion 2–5 mg/h titrated to effect. Monitor for nausea/vomiting, hyperglycaemia and hypokalaemia.","ED algorithm: ABCs, monitors, large-bore IV access; check glucose (β-blockers can cause hypoglycaemia). Consider activated charcoal if early and airway protected. If bradycardic/hypotensive: fluids → atropine (symptomatic, not antidote) → glucagon. If inadequate response, start high-dose insulin euglycaemia therapy (regular insulin 1 U/kg bolus, then 1–10 U/kg/h with dextrose; maintain K⁺ > 4). Add vasopressors as needed; consider lipid emulsion (lipophilic agents like propranolol), pacing, and ECMO for refractory shock.","Other options: Calcium chloride helps CCB toxicity more than β-blocker poisoning. Insulin/glucose is escalation therapy but not the specific antidote. Sodium bicarbonate is for QRS widening/ventricular arrhythmias (membrane-stabilising effect), not routine in isolated sinus bradycardia."]},{id:"CK-2900",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 12 year old comes into the Emergency Department with <strong>severe burns</strong> all over his body from a house fire. There is <strong>oropharyngeal swelling</strong> and <strong>soot in the mouth</strong>. He is in severe pain. <br/><br/>What is the <strong>SINGLE</strong> most appropriate management?",options:[{key:"A",text:"Refer to burn unit"},{key:"B",text:"Intravenous fluids"},{key:"C",text:"Intravenous antibiotic"},{key:"D",text:"Intravenous analgesia"},{key:"E",text:"Call a senior anaesthetist"}],correct:"E",explanation_plabable:["After major burns, If there is any evidence of impending airway obstruction (stridor, oropharyngeal swelling, call for senior ED help and a senior anaesthetist immediately. Urgent general anaesthesia and tracheal intubation may be life-saving.","Airway, breathing, and circulation — Always in this order","Smoke inhalation injury is a common cause of death in burn victims. Initial assessment may reveal no evidence of injury, but laryngeal oedema can develop suddenly and unexpectedly thus early intubation is warranted if there is evidence of inhalation injury.","Signs and symptoms of smoke inhalation injury","<ul class='list-disc ml-5'><li>Persistent cough</li><li>Stridor</li><li>Wheezing</li><li>Black sputum suggests excessive exposure to soot</li><li>Use of accessory muscles of respiration</li><li>Blistering or oedema of the oropharynx</li><li>Hypoxia or hypercapnia</li></ul>","Further reading:","<a class='underline text-purple-700' href='http://patient.info/doctor/inhalation-injury' target='_blank' rel='noreferrer'>http://patient.info/doctor/inhalation-injury</a>"],explanation_detail:["<strong>Why <mark>Call a senior anaesthetist</mark> is the best single step:</strong> The child has <em>oropharyngeal swelling</em> and <em>soot in the mouth</em> after an enclosed-space fire — classic red flags for <strong>impending airway obstruction</strong> from inhalational injury. Airway oedema can progress rapidly; attempts at late intubation may fail. Therefore, per ABC priorities and UK practice, <strong>early senior anaesthetic involvement for urgent RSI and tracheal intubation</strong> is potentially life-saving and supersedes fluids/analgesia/referral as the <em>immediate</em> step.","<strong>Key airway indicators for early intubation in burns/smoke inhalation:</strong> facial burns or singed nasal hairs; hoarseness/stridor; carbonaceous sputum or soot; oropharyngeal blisters/oedema; enclosed-space fire; progressive swelling; GCS reduction; hypoxia/hypercapnia. <em>Any of these in a child</em> should prompt <strong>senior airway help now</strong>.","<strong>Practical airway approach (ED):</strong> Prepare for <em>rapid sequence induction</em> with experienced anaesthetist; anticipate difficult view and choose a <strong>smaller ETT size</strong> due to swelling; have adjuncts/backup (video laryngoscope, bougie, supraglottic, front-of-neck access kit). Give <strong>100% oxygen</strong> via non-rebreather while setting up. Maintain cervical spine precautions if trauma suspected.","<strong>Concurrent priorities after calling anaesthetics (do not delay airway):</strong><br/>• <mark>High-flow O₂</mark> for potential carbon monoxide (CO) exposure; send co-oximetry if available. Consider <strong>hydroxocobalamin</strong> for suspected cyanide toxicity (soot + AMS + lactic acidosis).<br/>• Stop the burning process, remove constricting items, keep the child <strong>warm</strong> (hypothermia worsens outcomes). Cover burns with clean dry film/dressings; <em>no ice</em>.<br/>• Establish two IV lines (or IO) after airway is secure; draw labs (FBC, U&amp;Es, VBG/ABG with co-oximetry, lactate, carboxyhaemoglobin).","<strong>Fluids — when and how (children):</strong> After the airway is secured, calculate TBSA (Lund &amp; Browder chart). For children, start formal IV fluid resuscitation when <strong>TBSA ≥ 10%</strong> (adults ≥ 15%) or if there are signs of shock. Use a burn formula (e.g., Parkland <em>4 mL × weight(kg) × %TBSA</em> over 24 h) <em>plus paediatric maintenance</em>. Give half in the first 8 h from time of burn. Titrate to <strong>urine output ≈ 1 mL/kg/h</strong>; avoid over-resuscitation (risk of oedema/compartment syndrome).","<strong>Pain & wound care:</strong> Give <em>intravenous</em> analgesia (e.g., morphine titrated) once airway/ventilation are secured; consider ketamine if haemodynamically unstable and airway protected. Cover wounds with film; cleanse/debride later in specialised care. Check <strong>tetanus</strong> status.","<strong>When to involve the burns centre (children):</strong> <mark>All suspected inhalational injuries</mark>; ≥5% TBSA; any full-thickness burn; burns to face, hands, feet, genitalia, perineum or major joints; circumferential limb/torso burns; electrical/chemical burns; safeguarding concerns. Initiate early discussion even while stabilising.","<strong>Why the other options are not the single best next step:</strong><br/>• <strong>Refer to burn unit (A)</strong> — necessary, but <em>not</em> before the airway is secured; deterioration may occur en route.<br/>• <strong>IV fluids (B)</strong> — important after the airway; starting them <em>before</em> addressing impeding obstruction risks losing the airway.<br/>• <strong>IV antibiotic (C)</strong> — not indicated routinely in acute thermal burns without infection.<br/>• <strong>IV analgesia (D)</strong> — appropriate, but analgesia must not precede management of a threatened airway; opioids can depress respiration.","<strong>Exam takeaways:</strong> (1) In burns from a house fire with <mark>soot/oropharyngeal swelling/stridor</mark> → <strong>call senior anaesthetist; intubate early</strong>. (2) Give 100% O₂ and consider CO/cyanide. (3) Warm, cover, then fluids using paediatric thresholds/formulae. (4) Early burns-centre involvement and safeguarding assessment."]},{id:"EM-0241",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 4 year old girl is brought to the Emergency Department after pulling a kettle of boiling water onto herself. She has sustained a <strong>3% total body surface area</strong> burn across her chest. The affected area is red, blistered, and very painful. She is distressed, crying, and unable to tolerate assessment due to pain. She is haemodynamically stable. <strong>She does not have an IV line.</strong> <br/><br/>What is the most appropriate pain management?",options:[{key:"A",text:"Intranasal diamorphine"},{key:"B",text:"IV morphine"},{key:"C",text:"Rectal diclofenac"},{key:"D",text:"Oral paracetamol"},{key:"E",text:"Buccal midazolam"}],correct:"A",explanation_plabable:["This child has a superficial partial-thickness burn, as indicated by blistering, redness, and significant pain. She is highly distressed and unable to tolerate assessment, making intranasal diamorphine the most appropriate choice for rapid, effective pain relief. Intranasal diamorphine has a fast onset of action, is less invasive than IV opioids, and is well tolerated in young children.","IV morphine is also suitable but in this case, it is less ideal. While effective, it requires IV access, which may be difficult to achieve quickly in a distressed, crying child.","Oral paracetamol is insufficient here as the scenario describes a superficial partial-thickness burn with severe pain.","Further Reading:","https://www.nn.nhs.scot/cobis/wp-content/uploads/sites/9/2024/02/NSD610-006.15-Pa...","https://www.evelinalondon.nhs.uk/resources/our-services/hospital/south-thames-ret..."],explanation_detail:["<strong>Why <mark>Intranasal diamorphine</mark> is best here:</strong> The child has a <em>small TBSA (3%) superficial partial-thickness</em> scald but is <strong>very distressed</strong> and <strong>has no IV access</strong>. Intranasal (IN) opioid provides <mark>rapid, titratable analgesia</mark> without cannulation, which is ideal for painful burns in young children.","<strong>How to use it (ED practice, UK):</strong> Typical IN diamorphine dose <strong>0.1 mg/kg</strong> (max commonly 5 mg), delivered via mucosal atomiser, onset ~<em>5–10 min</em>. Reassess after 10 minutes; repeat small doses if needed. If diamorphine is unavailable, many EDs use <strong>IN fentanyl 1.5–2 micrograms/kg</strong> (max per local policy) with similar onset.","<strong>Why the other options are not first choice in this stem:</strong><br/>• <strong>IV morphine</strong>—effective, but requires cannulation; securing IV access in a crying 4-year-old with a painful burn <em>delays</em> timely analgesia.<br/>• <strong>Rectal diclofenac</strong>—NSAID route/absorption is unreliable in acute severe burn pain and provides <em>insufficient</em> relief as monotherapy; also avoid NSAIDs if dehydration/AKI risk.<br/>• <strong>Oral paracetamol</strong>—useful adjunct, but onset is slower and inadequate alone for severe partial-thickness burn pain.<br/>• <strong>Buccal midazolam</strong>—a sedative/anticonvulsant, <em>not an analgesic</em>; may worsen airway/respiratory status without treating pain.","<strong>Immediate burn care alongside analgesia:</strong> Cool the burn with <em>cool running water</em> for 20 minutes (if within ~3 hours), remove clothing/jewellery, avoid ice/creams. Cover with <strong>cling film</strong>/non-adherent dressing; keep child <strong>warm</strong> to prevent hypothermia. Check <strong>tetanus</strong> status.","<strong>Escalation/adjuncts:</strong> Add oral paracetamol and (if no contraindication) ibuprofen once the child can tolerate PO. If ongoing severe pain or wound care required, proceed to <em>IV opioids</em> once access is obtained or consider <strong>ketamine procedural sedation</strong> via a senior-led pathway.","<strong>When to involve a burns service:</strong> Children with ≥5% TBSA, any <em>full-thickness</em> burn, burns to face/hands/feet/genitals/perineum/major joints, circumferential burns, chemical/electrical/inhalational injury, suspicion of non-accidental injury, or concerns about pain control / dressing tolerance.","<strong>Exam takeaways:</strong> (1) Severe pain + no IV → choose a <mark>rapid intranasal opioid</mark>. (2) Paracetamol/NSAIDs are <em>adjuncts</em>, not primary therapy here. (3) Midazolam is <em>not</em> an analgesic."]},{id:"NE-1352",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 5 year old boy with a febrile convulsion lasting eight minutes. He has been given intravenous lorazepam to control his seizures. What is the SINGLE most likely side effect of intravenous lorazepam that is potentially life-threatening?",options:[{key:"A",text:"Amnesia"},{key:"B",text:"Anaphylactic shock"},{key:"C",text:"Respiratory depression"},{key:"D",text:"Bronchospasm"},{key:"E",text:"Cardiac arrhythmia"}],correct:"C",explanation_plabable:["Lorazepam is a benzodiazepine. Respiratory depression is a known effect of benzodiazepine overdose. Amnesia can occur as well, but it will not be life-threatening.","Side effects of benzodiazepines include:","<ul class='list-disc ml-5'><li>Sedation</li><li>Cognitive impairment</li><li>Respiratory depression</li><li>Hypotension</li><li>Anterograde amnesia</li></ul>"],explanation_detail:["<strong>Why <mark>Respiratory depression</mark> is the most likely life-threatening effect:</strong> Lorazepam is a <em>benzodiazepine</em> that enhances GABA<sub>A</sub>-mediated inhibition. At therapeutic/especially repeated doses it can <strong>reduce ventilatory drive</strong> and <strong>decrease upper-airway tone</strong>, causing hypoventilation/obstruction. In children treated for seizures, this is the key danger to anticipate and monitor for.","<strong>Paediatric status/febrile seizure dosing (APLS-style):</strong> IV lorazepam <strong>0.1 mg/kg</strong> (max 4 mg) may be repeated once after 5–10 min (max cumulative 0.2 mg/kg). If no IV access, use buccal midazolam. <em>Risk of respiratory depression increases with repeated benzodiazepine doses</em> or co-administration of other CNS depressants.","<strong>Monitoring & management after benzodiazepine:</strong> Continuous SpO₂ and cardiorespiratory monitoring; consider capnography if available. Have airway equipment and bag-valve-mask ready; provide high-flow oxygen and support ventilation if needed. Treat hypotension with fluids. <strong>Avoid routine flumazenil</strong> in seizure patients (can precipitate seizures, particularly with mixed overdoses or chronic benzodiazepine use).","<strong>Why the other options are less appropriate:</strong><br/>• <strong>Amnesia (A)</strong> — common (anterograde) but usually not dangerous.<br/>• <strong>Anaphylactic shock (B)</strong> — extremely rare with lorazepam.<br/>• <strong>Bronchospasm (D)</strong> — not a typical benzodiazepine effect.<br/>• <strong>Cardiac arrhythmia (E)</strong> — uncommon; benzodiazepines are generally cardio-stable.","<strong>Next steps if seizures persist (&gt;5–10 min after two benzos):</strong> Escalate to second-line anti-seizure therapy (e.g., IV levetiracetam or phenytoin/fosphenytoin per local protocol) while maintaining airway/ventilation.","<strong>Exam takeaways:</strong> After giving lorazepam to a child for seizures, the <mark>danger you must watch for is respiratory depression</mark>. Prepare for airway support; avoid flumazenil in seizure contexts; escalate antiepileptic therapy if seizures continue."]},{id:"EM-3780",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 65 year old woman presented to the Emergency Department. She has developed a productive cough over the last 3 days and started feeling short of breath a few hours ago. She has not passed urine for the past 8 hours and feels unwell. She is tired with generalised body aches. On examination, her heart rate is <strong>135 beats/minute</strong>, blood pressure is <strong>86/60 mmHg</strong>, respiratory rate is <strong>22 breaths/minute</strong>, and body temperature is <strong>38.9°C</strong>.<br/><br/>Which of the following is the <strong>SINGLE</strong> most appropriate management plan?",options:[{key:"A",text:"Perform a lumbar puncture"},{key:"B",text:"Admission with oral amoxicillin"},{key:"C",text:"Admission with oral co-amoxiclav"},{key:"D",text:"Home treatment with oral amoxicillin and follow up with GP"},{key:"E",text:"Admission and in-patient management"}],correct:"E",explanation_plabable:["The question tests one's ability to recognise the features of sepsis.","Sepsis is a life-threatening organ dysfunction caused by a dysregulated host response to infection. In this case, the patient's source of infection is most likely a lower respiratory tract infection.","The patient is grossly unwell and meets a few of the red flags of sepsis. It is important to be familiar with the red flags as 1 or more warrants the completion of the 'sepsis six' within 1 hour. Therefore, the most appropriate step would be admitting the patient for further management.","As part of sepsis 6, intravenous antibiotics are given (not oral). You can scratch off all options with oral antibiotics as the answer.","Discharging the patient is inappropriate as she will deteriorate.","There is no indication for a lumbar puncture as she does not elicit the features of meningitis or meningococcal sepsis."],explanation_detail:["<strong>Why <mark>Admission and in-patient management</mark> is correct:</strong> She is hypotensive (<strong>86/60</strong>), tachycardic (<strong>135</strong>), febrile (<strong>38.9°C</strong>) with new breathlessness and reduced urine output. These findings meet <em>high-risk/red-flag</em> criteria for suspected <strong>sepsis</strong> from a likely <em>lower respiratory tract infection</em>. She requires urgent hospital admission for immediate resuscitation and sepsis care.","<strong>Sepsis Six — complete within 1 hour:</strong> <ul class='list-disc ml-5'><li>Give <strong>high-flow oxygen</strong> to maintain SpO₂ targets.</li><li><strong>Take blood cultures</strong> (and other cultures) <em>before</em> antibiotics.</li><li><strong>Give IV broad-spectrum antibiotics</strong> (not oral) per local pneumonia/sepsis guidelines (e.g., IV co-amoxiclav ± macrolide, or piperacillin-tazobactam if severe/penicillin allergy alternatives as per policy).</li><li><strong>Give IV fluids</strong> — crystalloid bolus (e.g., 500 mL) and reassess; repeat as needed if no fluid overload; aim MAP ≥65 mmHg.</li><li><strong>Measure lactate</strong> (VBG/ABG) and send sepsis bloods (FBC, U&amp;Es, CRP).</li><li><strong>Monitor urine output</strong> (catheterise if appropriate).</li></ul>","<strong>Further ED work-up:</strong> ECG, <strong>chest X-ray</strong>, sputum culture if possible, viral swabs as indicated. Early senior review; consider escalation to critical care if persistent hypotension after fluids or lactate ≥4 mmol/L.","<strong>Why other options are wrong:</strong><br/>• <strong>A. Lumbar puncture</strong> — no meningitic features; unsafe in an unstable patient.<br/>• <strong>B/C. Admission with <em>oral</em> antibiotics</strong> — oral therapy is inadequate in suspected sepsis; IV antibiotics are required within 1 hour.<br/>• <strong>D. Home with oral antibiotics</strong> — unsafe given hypotension/tachycardia and likely deterioration.","<strong>Exam takeaways:</strong> Recognise red flags (hypotension, tachycardia, fever, altered urine output). In suspected sepsis: <mark>Admit, start the Sepsis Six, and give IV antibiotics</mark>—do not discharge or use oral agents."]},{id:"EM-0308",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 38 year old man presents to the Emergency Department visibly distressed, reporting a sudden and overwhelming episode of chest pain, palpitations, and shortness of breath that started about 30 minutes ago. He experienced noticeable tremors in his hands and felt excessively warm and sweaty. His father had a myocardial infarction at the age of 61. He has a heart rate of 102 beats/minute, blood pressure of 120/75 mmHg, respiratory rate of 25 breaths/minute and an oxygen saturation of 98%. An electrocardiogram (ECG) shows no evidence of ischaemia, and blood tests reveal a negative troponin. Which is the most likely diagnosis?",options:[{key:"A",text:"Pulmonary embolism"},{key:"B",text:"Acute coronary syndrome"},{key:"C",text:"Costochondritis"},{key:"D",text:"Panic attack"},{key:"E",text:"Gastro-oesophageal reflux disease"}],correct:"D",explanation_plabable:["The most likely diagnosis for this man is a panic attack. The sudden onset of symptoms, the negative troponin, and the absence of ischaemic changes on ECG are consistent with this diagnosis.","His father's myocardial infarction at age 61, while relevant for long-term cardiovascular risk, does not necessarily increase his immediate risk significantly at his current age.",`In the context of evaluating a young individual's risk for cardiovascular diseases, a family history of premature cardiovascular events can be significant. A family history of myocardial infarction or other cardiovascular events in a first-degree relative at a young age (for instance, before age 55 for men and before age 65 for women) would increase an individual's risk. The age of 61 in the stem is NOT considered "premature" for an MI.`,"Costochondritis is incorrect. While it can cause chest pain, it does not usually cause palpitations or shortness of breath."],explanation_detail:["<strong>Why panic attack fits best:</strong> Sudden onset of chest pain, palpitations, dyspnoea, tremor, diaphoresis, and a sense of overwhelming distress are classic <em>panic attack</em> features. Objective data are reassuring: normal BP/SpO₂, sinus tachycardia only, <strong>ECG without ischaemia</strong>, and <strong>negative troponin</strong> shortly after symptom onset.","<strong>Risk context:</strong> A family history of MI in a first-degree relative is considered <em>premature</em> if <strong>&lt;55 years (men)</strong> or <strong>&lt;65 years (women)</strong>. The father’s MI at 61 is <em>not</em> premature for a male relative; it does not meaningfully elevate short-term ACS probability in a 38-year-old with otherwise low-risk presentation.","<strong>Ruling out the distractors:</strong><br/>• <strong>Pulmonary embolism</strong> usually has pleuritic pain, risk factors, hypoxaemia, or clear PE signs; normal SpO₂ 98% and a benign ECG make PE less likely (though always consider if risk factors exist).<br/>• <strong>Acute coronary syndrome</strong> classically has pressure-like chest pain ± radiation, dynamic ECG changes, and rising troponin; here ECG/troponin are negative and symptoms are highly autonomic/anxious.<br/>• <strong>Costochondritis</strong> causes localized, reproducible chest wall tenderness without palpitations/dyspnoea and lacks autonomic surge.<br/>• <strong>GORD</strong> gives burning retrosternal pain related to meals/lying; it does not cause tremor, tachypnoea, or marked autonomic symptoms.","<strong>ED approach when panic suspected (after life-threatening causes screened):</strong> Provide calm reassurance, breathing coaching (slow diaphragmatic breathing), consider a brief-acting anxiolytic if severe and safe (e.g., low-dose benzodiazepine), and arrange follow-up for CBT/psychological support. Safety-net for recurrent/worsening chest pain, syncope, or new risk features.","<strong>Exam tip:</strong> When a young patient has abrupt chest pain with prominent autonomic symptoms, normal ECG and negative troponin, pick <mark>Panic attack</mark> over ACS/PE—unless the stem adds red flags or high-risk features."]},{id:"EM-4310",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 70 year old male presents with a 2 day history of productive cough and shortness of breath. He complains of chills and rigors. He is ill-looking. He has a temperature of <strong>38.5°C</strong>, respiratory rate of <strong>26 breaths/minute</strong>, and a pulse rate of <strong>125 beats/min</strong>. His blood pressure is <strong>88/45 mmHg</strong> and oxygen saturation is <strong>90% on room air</strong>. On auscultation, bronchial breath sounds are heard in the periphery. He is given a fluid challenge of 1 L normal saline. His blood pressure post fluid challenge is <strong>90/40 mmHg</strong>.<br/><br/>What is the <strong>SINGLE best term</strong> to use in his condition?",options:[{key:"A",text:"Sepsis"},{key:"B",text:"Severe sepsis"},{key:"C",text:"Septic shock"},{key:"D",text:"Systemic inflammatory response syndrome (SIRS)"},{key:"E",text:"Infection"}],correct:"C",explanation_plabable:["Although, infection, sepsis and SIRS are correct terms to use, the best term, in this case, is septic shock.","Septic shock is defined as severe sepsis with persistently low blood pressure which has failed to respond to the administration of intravenous fluids."],explanation_detail:["<strong>Why <mark>Septic shock</mark> is the best term here:</strong> The patient has suspected infection (productive cough, fever, bronchial breath sounds) with <strong>hypotension</strong> that <em>persists after a fluid challenge</em> (88/45 → 90/40 mmHg after 1 L). Fluid-refractory hypotension in the context of sepsis = <strong>septic shock</strong> in exam terminology.","<strong>Definitions you should know (exam + Sepsis-3 context):</strong><br/>• <strong>Infection</strong> — suspected/confirmed microbial cause.<br/>• <strong>SIRS</strong> — physiological response criteria (legacy term; no longer used to define sepsis).<br/>• <strong>Sepsis</strong> — life-threatening organ dysfunction from a dysregulated host response to infection (often inferred by hypotension, hypoxia, altered mentation, oliguria).<br/>• <strong>Severe sepsis</strong> — legacy term (sepsis + organ dysfunction).<br/>• <strong>Septic shock</strong> — sepsis with <em>persistent hypotension despite adequate fluids</em> (and, in Sepsis-3, need for vasopressors to keep MAP ≥65 mmHg with lactate &gt;2 mmol/L). On exams that still use older labels, the key trigger is <mark>fluid-refractory hypotension</mark>.","<strong>Immediate management priorities (Sepsis Six within 1 hour):</strong> <ul class='list-disc ml-5'><li>Give <strong>high-flow oxygen</strong> to target saturations.</li><li><strong>Take blood cultures</strong> before antibiotics (do not delay therapy).</li><li><strong>Start IV broad-spectrum antibiotics</strong> promptly as per local policy for severe CAP/HCAP.</li><li><strong>Give IV crystalloids</strong> (e.g., 30 mL/kg cumulative or repeated boluses with reassessment).</li><li><strong>Measure lactate</strong> (VBG/ABG) and send sepsis labs.</li><li><strong>Monitor urine output</strong> (consider catheterisation).</li></ul> If hypotension persists after fluids, begin <strong>vasopressors (noradrenaline)</strong> and consider ICU; arrange early senior/critical-care review and source control.","<strong>Why the other options are not the single best term:</strong><br/>• <strong>Infection</strong> and <strong>Sepsis</strong> are true but <em>not specific enough</em> for persistent hypotension.<br/>• <strong>Severe sepsis</strong> (legacy) implies organ dysfunction, but the stem emphasises <mark>fluid-refractory hypotension</mark>, which upgrades to <strong>septic shock</strong>.<br/>• <strong>SIRS</strong> is outdated and nonspecific.","<strong>Exam takeaways:</strong> In a hypotensive, febrile patient whose BP remains low after fluids, choose <strong>Septic shock</strong> and initiate the full sepsis bundle with early vasopressors and critical-care involvement."]},{id:"RM-0453",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 54 year old smoker is seen in the Emergency Department with extensive wheeze and breathlessness. He is known to have COPD. On auscultation, he has widespread wheezing throughout his chest. He has a temperature of <strong>36.7°C</strong>, heart rate of <strong>115 beats/minute</strong>, blood pressure of <strong>130/80 mmHg</strong>, respiratory rate of <strong>28 breaths/minute</strong> and an oxygen saturation of <strong>85%</strong>. He is started on <strong>24% oxygen</strong> by Venturi face mask. What is the most appropriate next step in management?",options:[{key:"A",text:"Oral amoxicillin"},{key:"B",text:"Intravenous co-amoxiclav"},{key:"C",text:"Intubation"},{key:"D",text:"Intravenous aminophylline"},{key:"E",text:"Salbutamol nebulizers"}],correct:"E",explanation_plabable:["This question is testing your knowledge on the management of acute exacerbation of COPD.","Salbutamol nebulisers, ipratropium nebulisers, oral/IV corticosteroids, and oxygen are usually the first-line medical therapy.","Oral antibiotics should ONLY be given if there is purulent sputum or clinical signs of pneumonia. While it is common practice for all patients with an exacerbation of COPD to receive antibiotics in the hospital, it is not according to NICE guidelines and for the purpose of this exam, antibiotics should not be administered to manage acute exacerbation COPD unless we suspect pneumonia."],explanation_detail:["<strong>Why <mark>Salbutamol nebulizers</mark> are the next step:</strong> He has an acute exacerbation of COPD (AECOPD) with hypoxaemia (SpO₂ 85%). Controlled oxygen has already been started via 24% Venturi (appropriate target <strong>88–92%</strong>). The next immediate therapy is a <strong>short-acting bronchodilator</strong> delivered by nebuliser—<em>salbutamol</em>—often given <em>with</em> ipratropium.","<strong>Initial AECOPD bundle (NICE/BTS style):</strong><ul class='list-disc ml-5'><li><strong>Controlled O₂</strong> to 88–92% (Venturi 24–28%); obtain ABG if saturations are low or patient is acidotic/drowsy.</li><li><strong>Nebulised bronchodilators:</strong> salbutamol 2.5–5 mg via air-driven nebuliser, repeat 4-hourly (or more frequently early); add <strong>ipratropium</strong> 500 micrograms 4-6-hourly.</li><li><strong>Systemic corticosteroid:</strong> oral <strong>prednisolone 30–40 mg daily for 5 days</strong> (or IV hydrocortisone if unable to take PO).</li><li><strong>Antibiotics</strong> only if there is <em>increased sputum purulence/volume</em> or clinical/radiographic pneumonia (fever, focal consolidation).</li><li><strong>Escalation:</strong> consider <strong>NIV (BiPAP)</strong> if pH &lt; 7.35 with PaCO₂ &gt; 6 kPa and respiratory acidosis despite optimal medical therapy; ICU/intubation if NIV fails or there’s impending arrest.</li></ul>","<strong>Why the other options are not first:</strong><br/>• <strong>A. Oral amoxicillin</strong> — not indicated without purulent sputum or pneumonia; antibiotics are not routine for all AECOPD.<br/>• <strong>B. IV co-amoxiclav</strong> — same rationale; IV reserved for severe pneumonia/sepsis or inability to take PO.<br/>• <strong>C. Intubation</strong> — premature; use medical therapy ± NIV first unless arrest/impending failure (coma, peri-arrest, refractory hypoxaemia).<br/>• <strong>D. IV aminophylline</strong> — <em>not</em> first-line; consider only if poor response to maximal nebulised β₂-agonist + antimuscarinic and after checking for contraindications/toxicity; monitor levels and interactions.","<strong>Practical notes:</strong> Use air-driven nebulisers (to avoid excessive O₂ delivery in CO₂ retainers) or adjust FiO₂ if O₂-driven. Reassess RR, SpO₂, work of breathing, and ABG after starting therapy. Provide venous thromboembolism prophylaxis if admitted, smoking cessation support, and inhaler technique/plan on discharge.","<strong>Exam takeaway:</strong> In AECOPD on controlled oxygen, the immediate next step is <mark>nebulised bronchodilator therapy (salbutamol ± ipratropium)</mark>; steroids follow early; antibiotics only with evidence of bacterial infection."]},{id:"CT-3120",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 32 year old woman presents to the Emergency Department with a sudden onset of <strong>high fever, vomiting, diarrhoea, and a diffuse rash</strong>. She reports feeling generally unwell for the past 24 hours. On examination, her temperature is <strong>39.5°C</strong>, heart rate is <strong>120 beats per minute</strong>, blood pressure is <strong>90/60 mmHg</strong>, and she appears <strong>confused</strong>. There is a widespread erythematous rash, including <strong>desquamation on the palms and soles</strong>. Her menstrual period began three days ago, and she has been using tampons. Laboratory tests reveal <strong>leukocytosis</strong>. What is the most likely diagnosis?",options:[{key:"A",text:"Meningococcal septicaemia"},{key:"B",text:"Dengue fever"},{key:"C",text:"Staphylococcal scalded skin syndrome"},{key:"D",text:"Systemic lupus erythematosus"},{key:"E",text:"Toxic shock syndrome"}],correct:"E",explanation_plabable:["Toxic shock syndrome (TSS) is a severe condition typically associated with tampon use in menstruating women, though it can also occur in men, children, and postmenopausal women. It is characterised by high fever, hypotension, multi-organ involvement, and a diffuse erythematous rash with subsequent desquamation.","The management of suspected TSS involves immediate hospital admission, removal of the source of infection (e.g., tampon), and aggressive supportive care, including fluids and antibiotics targeting Staphylococcus aureus and Streptococcus pyogenes."],explanation_detail:["<strong>Why <mark>Toxic shock syndrome (TSS)</mark> is most likely:</strong> The stem links <em>tampon use</em> with <strong>high fever</strong>, <strong>hypotension</strong>, <strong>GI upset</strong> (vomiting/diarrhoea), <strong>confusion</strong>, and a <mark>diffuse erythematous rash with desquamation of palms/soles</mark> — the classic toxin-mediated picture.","<strong>Pathophysiology & organisms:</strong> Classically due to <em>Staphylococcus aureus</em> producing TSST-1; a similar syndrome occurs with <em>Streptococcus pyogenes</em> (invasive GAS). Superantigen toxins trigger massive cytokine release → shock and multi-organ dysfunction.","<strong>Diagnostic pointers (Severe TSS pattern):</strong><ul class='list-disc ml-5'><li>Fever ≥38.9°C</li><li>Hypotension (SBP ≤90 mmHg)</li><li>Diffuse macular erythroderma → <em>desquamation</em> 1–2 weeks later</li><li>Involvement of ≥3 organ systems (GI, renal, hepatic, muscular, mucous membranes, CNS, haematologic)</li><li>Leukocytosis common; cultures may be negative in staphylococcal TSS</li></ul>","<strong>Immediate management (ED):</strong><ul class='list-disc ml-5'><li><mark>Source control</mark>: <strong>remove the tampon</strong>; inspect/drain any wounds or abscesses; send cultures.</li><li><strong>Aggressive fluids</strong> (balanced crystalloids) for shock; early vasopressors (noradrenaline) if fluid-refractory.</li><li><strong>Empiric antibiotics</strong>: cover staph and strep and <em>block toxin production</em>. A typical regimen: <strong>IV clindamycin</strong> (protein synthesis/toxin suppression) + <strong>anti-staphylococcal agent</strong> (e.g., flucloxacillin; use <strong>vancomycin</strong> if MRSA risk). If streptococcal TSS suspected, add <strong>benzylpenicillin</strong> + clindamycin.</li><li>Consider <strong>IVIG</strong> in severe refractory cases (to neutralise toxin).</li><li>Monitor and correct organ dysfunction (renal/hepatic, coagulopathy); manage electrolyte/acid–base issues; ICU referral early.</li></ul>","<strong>Why the other options are less likely:</strong><br/>• <strong>Meningococcal septicaemia</strong> → typically <em>petechial/purpuric</em> non-blanching rash, meningism; not classic desquamation and tampon link.<br/>• <strong>Dengue</strong> → travel history to endemic area, severe myalgia, thrombocytopenia/haemorrhagic features.<br/>• <strong>Staphylococcal scalded skin syndrome</strong> → tender erythema with <em>superficial</em> blistering/positive Nikolsky; usually children, <em>no shock</em> or multiorgan failure.<br/>• <strong>SLE</strong> → chronic autoimmune features; does not present with acute toxin-mediated shock and desquamating rash.","<strong>Exam takeaways:</strong> In a menstruating patient with shock, GI symptoms and <mark>diffuse erythroderma + desquamation</mark> after tampon use, choose <strong>Toxic shock syndrome</strong>. Treat with <em>source control</em>, <em>fluids/vasopressors</em>, and <em>clindamycin-based antibiotics</em>; consider <em>IVIG</em> if severe."]},{id:"EM-2570",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 32 year old man is found unconscious in a park late in the evening. Emergency services are called, and on arrival, paramedics note that the man is breathing but unresponsive. His pupils are markedly dilated. He is promptly transported to the hospital. In the Emergency Department, his vital signs are as follows: blood pressure <strong>110/70 mmHg</strong>, heart rate <strong>120 bpm</strong>, respiratory rate <strong>16 per minute</strong>, and oxygen saturation <strong>98% on room air</strong>. His temperature is <strong>37.2°C</strong>. He gains consciousness and is restless and agitated. His Glasgow Coma Scale score is 10. There is no evidence of head injury, trauma, or injection sites. A toxicology screen is performed, which reveals an <strong>ethanol level of 40 mmol/L</strong> and a <strong>salicylate level of 10 mg/dL</strong>. An ECG is performed shows sinus tachycardia with no abnormalities. Which substance is most likely to have been taken by this man?",options:[{key:"A",text:"Alcohol"},{key:"B",text:"Amphetamines"},{key:"C",text:"Amitriptyline"},{key:"D",text:"Morphine"},{key:"E",text:"Aspirin"}],correct:"B",explanation_plabable:["The clinical presentation of this man – agitation, dilated pupils and increased heart rate – is consistent with amphetamine use. Amphetamines typically cause sympathomimetic effects such as tachycardia, hypertension, and dilated pupils (mydriasis). The presence of ethanol can compound these effects.","To contextualise the ethanol level of 40 mmol/L, it's important to understand the typical reference ranges for blood ethanol levels and their associated effects:","<em>Legal Driving Limit in the UK:</em> The legal limit for driving in the UK is 80 mg/dL (17.4 mmol/L). A level of 40 mmol/L is more than double this limit.","<em>Levels and Effects:</em>","<ul class='list-disc ml-5'><li>20–100 mg/dL (4.3–21.7 mmol/L): This range can cause mild euphoria, decreased coordination, and impaired judgment.</li><li>100–200 mg/dL (21.7–43.4 mmol/L): At this level, individuals might experience increased impairment of motor coordination and judgment, mood swings, and possibly nausea or vomiting. → <em>This is where the patient's blood value sits</em></li><li>200–300 mg/dL (43.4–65.1 mmol/L): This range is associated with confusion, disorientation, and profound impairment of motor functions.</li><li>Over 300 mg/dL (65.1 mmol/L): Levels in this range can lead to stupor, unconsciousness, or even coma.</li></ul>","Let's again revisit why all the other options are less appropriate:","<strong>Alcohol:</strong> While the ethanol level is elevated, alcohol intoxication alone does not typically cause marked pupil dilation. The ethanol level of 40 mmol/L as well would not generally cause unconsciousness.","<strong>Amitriptyline:</strong> This tricyclic antidepressant can cause dilated pupils and altered mental status, but it typically leads to other signs like urinary retention, dry skin, and cardiac arrhythmias, which are not mentioned in the vignette. The ECG in this vignette is normal.","<strong>Morphine:</strong> An opioid like morphine would likely cause pinpoint pupils (miosis), respiratory depression.","<em>Aspirin:</em> Aspirin (acetylsalicylic acid) overdose could account for the salicylate level, but the clinical presentation of an aspirin overdose often includes tinnitus, hyperventilation due to respiratory alkalosis, and gastrointestinal symptoms, which are not prominent in this case. The value given (10 mg/dL) is not very significant. The therapeutic blood concentration for aspirin (salicylate) typically ranges from 10 to 30 mg/dL and toxic levels are above 30 mg/dL. Only at values of around 70 mg/dL would one expect to start becoming unconscious.","This question is very difficult to answer. One can expect some values of blood tests in the exam that need to be contextualised. We recommend remembering two values for ethanol and for salicylates:","<ul class='list-disc ml-5'><li>Ethanol level of &gt;65.1 mmol/L → Consider the aetiology of the unconscious patient to be alcohol intoxication</li><li>Salicylate level of &gt;70 mg/dL → Consider the aetiology of the unconscious patient to be aspirin intoxication</li></ul>","Lastly, remember to focus on the units too!"],explanation_detail:["<strong>Why <mark>Amphetamines</mark> fit best:</strong> The triad of <em>agitation/restlessness</em>, <strong>mydriasis</strong>, and <strong>sinus tachycardia</strong> with normal oxygenation and temperature in a young adult is classic for a <em>sympathomimetic toxidrome</em> (amphetamines, cocaine, MDMA). The ECG shows no QRS/QT abnormalities (argues against TCA toxicity), and miosis/respiratory depression that would suggest opioids is absent.","<strong>Interpreting the labs:</strong> The <em>ethanol 40 mmol/L ≈ 184 mg/dL</em> — intoxicated but not typically enough alone to cause coma in a tolerant adult; it can, however, <em>augment agitation</em> or cloud the picture. The salicylate <em>10 mg/dL</em> is low and not compatible with symptomatic salicylate poisoning.","<strong>ED management of suspected amphetamine/stimulant toxicity:</strong><ul class='list-disc ml-5'><li><mark>Support ABCs</mark>, place on continuous cardiac/SpO₂ monitoring; check glucose.</li><li><strong>Benzodiazepines</strong> are first-line for agitation, tachycardia, hypertension and to prevent hyperthermia (e.g., diazepam IV/lorazepam). Avoid antipsychotics that lower seizure threshold or impair thermoregulation if severe stimulant toxicity.</li><li><strong>Active cooling</strong> and IV fluids if hyperthermic; check CK and renal function for rhabdomyolysis risk.</li><li>Treat severe hypertension with titratable agents (e.g., <em>labetalol</em> or <em>nitroprusside</em>); avoid isolated beta-blockade in pure stimulant toxicity.</li><li>Consider screening for co-ingestants (ethanol present here), and observe until settled with normal vitals and mentation.</li></ul>","<strong>Why the other options don’t fit:</strong><br/>• <strong>Alcohol</strong> — usually causes ataxia, dysarthria, nystagmus; <em>not</em> marked mydriasis; level here unlikely to cause deep coma on its own.<br/>• <strong>Amitriptyline (TCA)</strong> — would more likely show anticholinergic features <em>plus</em> ECG changes (widened QRS, right axis, terminal R in aVR); absent here.<br/>• <strong>Morphine</strong> — causes <mark>miosis</mark>, hypoventilation, and ↓GCS; opposite to findings.<br/>• <strong>Aspirin</strong> — would give tinnitus, vomiting, <em>respiratory alkalosis progressing to metabolic acidosis</em>; not suggested by the story or numbers.","<strong>Exam takeaway:</strong> Young patient with agitation + tachycardia + dilated pupils and clean ECG → pick a <mark>sympathomimetic</mark> (here, <strong>Amphetamines</strong>). Treat with <strong>benzodiazepines</strong>, fluids, and cooling; look for complications (hyperthermia, rhabdomyolysis, dysrhythmia)."]},{id:"EM-2390",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 35 year old woman presents to the Emergency department with a history of asthma. She reports increasing difficulty in breathing over the past 6 hours. Upon arrival, she was given nebulised salbutamol, ipratropium bromide, intravenous corticosteroids and intravenous magnesium sulphate. On examination, she appears dyspnoeic and is using accessory muscles to breathe. Her respiratory rate is noted to be <strong>10 breaths per minute</strong>. Oxygen saturation on room air is <strong>88%</strong>. Auscultation of the chest reveals widespread wheezes.<br/><br/>pH 7.21 (7.35 – 7.45)<br/>PaO2: 7.8 kPa (10–14)<br/>PaCO2: 7.1 kPa (4.7–6.0)<br/>Bicarbonate 24 mmol/L (22–26)<br/><br/>Her peak expiratory flow rate is <strong>45%</strong> of her predicted normal value. What is the most appropriate <strong>immediate</strong> action?",options:[{key:"A",text:"Start intravenous antibiotics"},{key:"B",text:"Admit to the Intensive Care Unit"},{key:"C",text:"Administer intravenous morphine"},{key:"D",text:"Admit to the medical ward"},{key:"E",text:"Request a chest X-ray"}],correct:"B",explanation_plabable:["The patient’s clinical presentation suggests a severe asthma exacerbation, characterised by a significantly reduced respiratory rate, low oxygen saturation, hypercapnia, and poor peak expiratory flow rate. These signs indicate impending respiratory failure. The most appropriate immediate action is to admit the patient to the Intensive Care Unit for close monitoring and consideration for mechanical ventilation.","<em>In the context of this vignette, the patient with asthma exhibits a low respiratory rate (10 breaths per minute) because of respiratory muscle fatigue. In severe asthma attacks, there is often a significant increase in the work of breathing due to airway obstruction, bronchospasm, and inflammation. Over time, this can lead to respiratory muscle fatigue. When the respiratory muscles are exhausted, the patient may not be able to maintain a high respiratory rate, resulting in a lower respiratory rate.</em>"],explanation_detail:["<strong>ABG interpretation:</strong> pH 7.21 (acidaemia) with <strong>high PaCO₂ 7.1 kPa</strong> = <mark>hypercapnic respiratory failure</mark> (type 2). Low PaO₂ 7.8 kPa and SpO₂ 88% confirm significant hypoxaemia. In acute asthma, a <em>normal or high</em> PaCO₂ is a red flag for <strong>impending ventilatory failure</strong> due to exhaustion.","<strong>Severity:</strong> PEF 45% predicted suggests at least <em>acute severe</em> asthma; combined with hypercapnia, acidaemia, altered effort (RR 10 with accessory use) → treat as <strong>life-threatening / near-fatal asthma</strong>.","<strong>Immediate action = ICU admission:</strong> Needs continuous monitoring, senior review and readiness for <strong>mechanical ventilation</strong> if deterioration (worsening acidosis/CO₂, falling consciousness, refractory hypoxaemia). <em>NIV is generally not recommended in acute asthma</em>; proceed to intubation/ventilation if failing.","<strong>Ongoing ED/ICU management while arranging transfer:</strong><ul class='list-disc ml-5'><li><strong>High-flow oxygen</strong> to target SpO₂ 94–98% (titrate by ABG/VBG).</li><li><strong>Back-to-back nebulisers</strong> with salbutamol (2.5–5 mg) + ipratropium (500 μg) via oxygen/air as appropriate; consider continuous salbutamol.</li><li><strong>Systemic corticosteroid</strong> (e.g., prednisolone 40–50 mg PO or hydrocortisone 100 mg IV if unable to take PO).</li><li><strong>IV magnesium sulphate</strong> 2 g over 20 minutes has already been given; consider <em>IV salbutamol infusion</em> if poor response (specialist-led). <em>Aminophylline</em> is rarely used; seek senior advice.</li><li>Early arterial/venous gases and repeat after interventions; correct electrolytes (especially <strong>K⁺</strong>).</li></ul>","<strong>Why other options are wrong:</strong><br/>• <strong>IV antibiotics (A)</strong> — no evidence of bacterial infection; antibiotics don’t treat bronchospasm.<br/>• <strong>IV morphine (C)</strong> — contraindicated; depresses respiration and worsens CO₂ retention.<br/>• <strong>Medical ward (D)</strong> — inadequate level of care for impending respiratory failure.<br/>• <strong>Chest X-ray (E)</strong> — may be done later (rule out pneumothorax, infection) but <em>not</em> the immediate life-saving step.","<strong>Intubation triggers (know for exams):</strong> rising PaCO₂ or worsening acidaemia, exhaustion/confusion, silent chest/poor air entry, refractory hypoxaemia, peri-arrest. Use RSI with experienced operator (ketamine often preferred), then controlled ventilation with permissive hypercapnia and careful dynamic hyperinflation management.","<strong>Key exam takeaway:</strong> In acute asthma with <mark>hypercapnia + acidaemia</mark> despite maximal therapy → <strong>ICU now</strong> and prepare for ventilation."]},{id:"EN-1327",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 67 year old man presents to A&amp;E with generalised weakness and malaise for the past week. He has a history of chronic kidney disease.<br/><br/><strong>Investigations:</strong><br/>Sodium 137 mmol/L (135–145)<br/>Potassium <strong>6.8 mmol/L</strong> (3.5–5)<br/>Urea 28 mmol/L (2.0–7)<br/>Creatinine <strong>680 µmol/L</strong> (70–150)<br/>eGFR <strong>8 mL/min</strong> (&gt;90)<br/><br/>An ECG reveals <em>peaked T waves</em>, a <em>widened QRS</em> complex, and a <em>prolonged PR</em> interval. What is the most appropriate <strong>initial</strong> treatment for this patient?",options:[{key:"A",text:"Administering intravenous furosemide"},{key:"B",text:"Initiating intravenous fluids"},{key:"C",text:"Initiating insulin and dextrose infusion"},{key:"D",text:"Administering intravenous calcium chloride"},{key:"E",text:"Immediate haemodialysis"}],correct:"D",explanation_plabable:["His blood results show severe hyperkalaemia. He has ECG changes which are consistent with hyperkalaemia","Protecting the heart from the effects of hyperkalaemia, which can lead to fatal arrhythmias is the first action. This is done with calcium (either gluconate or chloride).","Following that, we should act with shifting potassium from the extracellular fluid to the intracellular compartment, typically with insulin and dextrose.","Then we should think about removing the potassium from the body altogether, often using haemodialysis in patients with renal failure.","Given the patient's symptoms, laboratory values, and especially the ECG changes, the immediate threat is the effect of hyperkalemia on cardiac myocytes. Calcium stabilizes the myocardial cell membranes and decreases the risk of a life-threatening arrhythmia. It works rapidly, within minutes, but does not lower the serum potassium level; it just mitigates its effects on the heart."],explanation_detail:["<strong>Why calcium <em>first</em>:</strong> The patient has <mark>severe hyperkalaemia (K⁺ 6.8)</mark> plus <strong>ECG changes</strong> (peaked T, wide QRS, prolonged PR) and advanced CKD. The immediate risk is <em>malignant arrhythmia</em>. Give IV <strong>calcium</strong> to <em>stabilise the myocardium</em> within minutes.","<strong>Which calcium?</strong> Use <em>10 mL of 10% calcium chloride</em> (via central line if possible) or <em>30 mL of 10% calcium gluconate</em> (peripheral OK). Chloride contains ~3× more elemental Ca and has a stronger effect but is more irritant peripherally. <em>Repeat</em> every 5–10 min if ECG changes persist; continuous cardiac monitoring.","<strong>Then shift K⁺ intracellularly:</strong> Start <strong>insulin + dextrose</strong> (e.g., 10 units soluble insulin IV with 25 g dextrose), reassess glucose at 15–30 min and hourly; consider <strong>nebulised salbutamol 10–20 mg</strong>. Give <strong>IV sodium bicarbonate</strong> if there is significant <em>metabolic acidosis</em>.","<strong>Remove K⁺ from the body:</strong> In ESRD/oliguric patients or refractory hyperkalaemia, arrange <strong>urgent haemodialysis</strong>. Other options include <em>loop diuretics</em> (if making urine), and potassium binders (e.g., sodium zirconium cyclosilicate or patiromer) as adjuncts—these are <em>not</em> immediate fixes.","<strong>Why the other options are not the <em>initial</em> step:</strong><br/>• <strong>A. IV furosemide</strong> — only helps if the patient has urine output and acts slowly; does not stabilise myocardium.<br/>• <strong>B. IV fluids</strong> — may be needed for volume depletion but won’t protect the heart.<br/>• <strong>C. Insulin + dextrose</strong> — crucial second step to <em>shift</em> K⁺, but you must <em>first</em> give calcium when ECG changes are present.<br/>• <strong>E. Immediate haemodialysis</strong> — likely required soon given eGFR 8 mL/min, but arranging dialysis takes time; <strong>calcium now</strong> prevents arrest while definitive therapy is organised.","<strong>ED checklist:</strong> Cardiac monitoring, large-bore IV access, repeat ECG after calcium, frequent K⁺/glucose checks, review meds (stop ACEi/ARB, K⁺-sparing diuretics), consider causes (AKI on CKD, tissue breakdown), and consult nephrology early.","<strong>Exam takeaway:</strong> Hyperkalaemia + ECG changes → <mark>IV calcium immediately</mark> to stabilise; then <em>shift</em> K⁺ (insulin/dextrose ± salbutamol ± bicarbonate), then <em>remove</em> K⁺ (dialysis/diuretics/binders)."]},{id:"CA-2220",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 68 year old man has sudden onset of shortness of breath and chest discomfort. He reports that the symptoms started while he was at rest. He had a knee replacement surgery 10 days ago. On examination, he appears anxious, diaphoretic, and tachypnoeic with a respiratory rate of <strong>28 breaths per minute</strong>. An ECG is done and is seen below:",image:"/ecg-q19.png",options:[{key:"A",text:"Acute myocardial infarction"},{key:"B",text:"Pulmonary embolism"},{key:"C",text:"Chronic obstructive pulmonary disease exacerbation"},{key:"D",text:"Pericarditis"},{key:"E",text:"Aortic dissection"}],correct:"B",explanation_plabable:["He has a recent knee replacement surgery (10 days ago), which is a significant risk factor for venous thromboembolism (VTE) due to immobility and potential deep vein thrombosis (DVT).","The specific findings on the electrocardiogram (ECG) of <strong>S1Q3T3</strong> pattern are characteristic of PE.","<div class='my-3'><img src='/ecg-q19a.png' alt='Annotated ECG highlighting S1Q3T3 pattern' class='rounded-md border max-w-full' /></div>","This pattern can help raise suspicion for PE, particularly in the appropriate clinical context.","<em>S1:</em> Refers to a deep S wave in lead I.<br/><em>Q3:</em> Refers to a Q wave in lead III.<br/><em>T3:</em> This is a T wave inversion in lead III.","The S1Q3T3 pattern is seen in about 10% of patients with pulmonary embolism. It has a low sensitivity for PE (meaning it is not present in the majority of PE cases). Its specificity is also not high enough to use it as a definitive marker for PE, as it can be observed in other conditions such as right heart strain from other causes. Therefore, it is important to use additional diagnostic methods when PE is suspected such as a computed tomography pulmonary angiography (CTPA).","Lastly, remember that the most common rhythm observed on an electrocardiogram (ECG) in patients with pulmonary embolism (PE) is <strong>sinus tachycardia</strong>. It is more commonly seen than the S1Q3T3 pattern, which many may incorrectly assume to be the most frequent ECG manifestation of PE.","<em>RBBB can also occur due to the increased strain or acute pressure on the right heart which is seen on this ECG too.</em>"],explanation_detail:["<strong>Why PE is most likely:</strong> Sudden dyspnoea and chest discomfort at rest, recent <em>major lower-limb surgery</em> (knee replacement 10 days ago), tachypnoea and anxiety are classic for PE. The ECG shows right-heart strain pattern (S1Q3T3 ± RBBB) which, while insensitive, fits the picture.","<strong>Risk framework:</strong> Recent surgery/immobility is a major Wells factor. Haemodynamic stability determines the pathway (massive vs submassive vs low-risk).","<strong>ECG in PE (exam pearls):</strong> <em>Sinus tachycardia</em> most common. Right-axis deviation, incomplete/complete RBBB, S1Q3T3, T-inversions V1–V4 and III/aVF can occur with acute RV strain.","<strong>Next steps:</strong> If stable, assess pre-test probability (Wells/Geneva). If low/intermediate → D-dimer then CTPA if positive. If high probability → <strong>CTPA</strong> directly (or V/Q if CTPA contraindicated). Start anticoagulation when suspicion is high and imaging not immediately available, unless contraindicated.","<strong>Management snapshot:</strong> Anticoagulation (DOAC/LMWH per local policy). Consider thrombolysis for <em>massive</em> PE (shock) or carefully selected submassive PE with RV dysfunction and clinical deterioration. Address oxygenation, analgesia, and precipitating factors; arrange early follow-up and PE education.","<strong>Exam takeaway:</strong> S1Q3T3 + recent surgery + sudden dyspnoea → think <mark>Pulmonary embolism</mark>; use CTPA for confirmation and treat promptly."]},{id:"NE-0111",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 35 year old woman presents to the Emergency Department with a 2-day history of vomiting and diarrhoea. She reports feeling weak, dizzy, and increasingly breathless. On examination, she appears mildly dehydrated, her respiratory rate is <strong>24 breaths/min</strong>, and her oxygen saturation is <strong>96% on room air</strong>. Arterial blood gas (ABG) analysis reveals the following:<br/><br/>pH <strong>7.32</strong> (7.35 – 7.45)<br/>PaO₂: <strong>12 kPa</strong> (10–14)<br/>PaCO₂: <strong>4.2 kPa</strong> (4.7–6.0)<br/>Bicarbonate <strong>18 mmol/L</strong> (22–26)<br/><br/>Which of the following is the most likely diagnosis based on the patient’s arterial blood gas results?",options:[{key:"A",text:"Metabolic acidosis with respiratory compensation"},{key:"B",text:"Metabolic alkalosis with compensation"},{key:"C",text:"Mixed respiratory and metabolic acidosis"},{key:"D",text:"Respiratory acidosis"},{key:"E",text:"Respiratory alkalosis"}],correct:"A",explanation_plabable:["Metabolic acidosis with partial respiratory compensation is the answer here.","<ul class='list-disc ml-5'><li><strong>pH: 7.32</strong>, which is below the normal range, indicating acidosis.</li><li><strong>Bicarbonate: 18 mmol/L</strong>, which is below the normal range, suggesting metabolic acidosis.</li><li><strong>PaCO2: 4.2 kPa</strong>, which is slightly lower than the normal range, suggesting a compensatory respiratory alkalosis (hyperventilation to reduce CO2).</li></ul>"],explanation_detail:["<strong>Stepwise read:</strong> (1) pH low → <em>acidaemia</em>. (2) HCO₃⁻ low (18) → primary <strong>metabolic acidosis</strong>. (3) PaCO₂ low (4.2 kPa ≈ 31.5 mmHg) → appropriate respiratory compensation (hyperventilation).","<strong>Winter’s formula</strong> (expected PaCO₂ in mmHg) = 1.5 × HCO₃⁻ + 8 ± 2 → 1.5×18 + 8 = 35 ± 2 mmHg (≈ 4.7–4.9 kPa). Observed ≈ 31.5 mmHg (4.2 kPa) is close and compatible with <em>compensation</em> rather than a second primary disorder.","<strong>Likely cause here:</strong> diarrhoea → loss of bicarbonate from the gut → <em>non–anion gap (hyperchloraemic) metabolic acidosis</em>. The raised RR in the stem supports compensatory respiratory alkalosis.","<strong>Management pearls:</strong> treat the cause and volume depletion (oral/IV rehydration with appropriate electrolytes), monitor U&amp;Es/ABG, consider bicarbonate only in severe acidaemia or specific indications per local guidance.","<strong>Exam tips:</strong> Low pH + low HCO₃⁻ with low PaCO₂ → think <mark>metabolic acidosis with respiratory compensation</mark>. Use Winter’s formula to check for mixed disorders."]},{id:"CA-1101",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 56 year old patient is brought in by his wife and friends to the Emergency Department unconscious. His wife reports that he suddenly lost consciousness in the car with no movement or response. He is not breathing, and you cannot feel his pulse. CPR starts immediately and the ECG monitor records the picture as shown below:<br/><br/>What is the most appropriate medication to give?",image:"/ecg-q21.png",options:[{key:"A",text:"Atropine"},{key:"B",text:"Ephedrine"},{key:"C",text:"Amiodarone"},{key:"D",text:"Adenosine"},{key:"E",text:"Epinephrine"}],correct:"E",explanation_plabable:["NICE guidelines recommend using epinephrine (adrenaline) as soon as possible in case of non-shockable rhythms such as asystole without delaying initiation or continuation of CPR.","The following sequence should be followed:","<ul class='list-disc ml-5'><li>CPR should be started with a 30:2 ratio of compressions to rescue breaths</li><li>Secure IV access</li><li>Administer adrenaline 1 mg intravenously</li><li>Continue CPR until the airway is secured</li><li>Recheck after 2 minutes for a pulse;</li></ul>","→ If still no pulse:","<ul class='list-disc ml-5'><li>Continue CPR</li><li>Recheck rhythm after 2 minutes</li><li>Repeat adrenaline injection every alternate rhythm check (if still no pulse)</li></ul>","Here is one of our diagrams which can be found on our Emergency Medicine Gems","<div class='my-3'><img src='/ALS.png' alt='ALS algorithm for pulseless non-shockable rhythms' class='rounded-md border max-w-full' /></div>"],explanation_detail:["<strong>Rhythm:</strong> Flat trace/asystole = <em>non-shockable</em>. Defibrillation is not indicated.","<strong>Drug & timing:</strong> Give <strong>epinephrine 1 mg IV/IO</strong> as soon as IV/IO access is obtained; continue high-quality CPR and give further epinephrine <strong>every 3–5 minutes</strong> (i.e., every alternate rhythm check). Secure airway when feasible.","<strong>Why the others are wrong:</strong><br/>• <strong>Atropine</strong> is no longer recommended in cardiac arrest due to asystole/PEA.<br/>• <strong>Ephedrine</strong> is for hypotension in anaesthesia, not cardiac arrest.<br/>• <strong>Amiodarone</strong> is for <em>shockable</em> rhythms (VF/pulseless VT) after defibrillation attempts.<br/>• <strong>Adenosine</strong> treats stable narrow-complex tachycardias and has no role in pulseless arrest.","<strong>Don’t forget Hs & Ts:</strong> hypoxia, hypovolaemia, hypo/hyperkalaemia & metabolic, hypothermia, tension pneumothorax, tamponade, toxins, thrombosis (coronary/pulmonary). Treat reversible causes while CPR continues."]},{id:"EN-1201",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 10 year old girl is brought to the Emergency Department by her parents approximately 2 hours after ingesting 10 paracetamol tablets. Her parents report that she had been experiencing bullying at school and had been increasingly withdrawn over the past month. On examination, the girl appears asymptomatic with stable vital signs, and a blood paracetamol level drawn on arrival is within the safe therapeutic range. Psychosocial assessment reveals she felt overwhelmed and took the tablets impulsively without understanding the potential consequences fully. Which of the following is the most appropriate next step in the management of this patient?",options:[{key:"A",text:"Refer to the psychiatric liaison team"},{key:"B",text:"Refer to a psychologist"},{key:"C",text:"Discharge with parental supervision"},{key:"D",text:"Admit to a psychiatric ward"},{key:"E",text:"Start antidepressants"}],correct:"A",explanation_plabable:["This scenario indicates a case of acute stress response and impulsive behaviour, possibly linked to underlying psychological distress or a mood disorder. The ingestion of paracetamol, although not currently posing a toxicological risk as indicated by the safe blood levels, signifies a serious cry for help and necessitates further assessment for underlying psychiatric conditions or psychosocial issues. Referral to a psychiatric liaison is appropriate to ensure comprehensive assessment and formulation of a management plan, which may include outpatient follow-up with mental health services as needed.","A psychiatric liaison service provides specialised mental health assessment and treatment to patients who are being treated in the hospital setting but have concurrent mental health needs. This service acts as a bridge between psychiatry and other medical specialities, ensuring that the psychological aspects of a patient's care are addressed. In A&E, the psychiatric liaison team member, who in most cases is a psychiatric liaison nurse, would take initial referrals. These nurses are specifically trained in mental health. They work as the initial triage and determine the urgency of the mental health concern. They decide whether the patient needs immediate psychiatric intervention, can be referred to community services, requires admission to a psychiatric unit or can be safely discharged.","Option B is incorrect. Psychologists do not work in A&E. If a referral for a psychologist is required, it will come from the psychiatric liaison team or the patient’s GP.","Option C is incorrect. It is recommended for any patient with an intentional overdose to first speak to a psychiatric liaison before discharge."],explanation_detail:["<strong>Why the liaison team first?</strong> Intentional ingestion—even with a <em>non-toxic paracetamol level</em>—is a <mark>red flag for self-harm</mark>. NICE self-harm guidance advocates a <strong>same-day psychosocial assessment</strong> by a trained mental-health professional before discharge. Liaison psychiatry in the ED coordinates risk assessment, safety planning, and appropriate follow-up (e.g., CAMHS).","<strong>Priorities in ED (child/young person):</strong><ul class='list-disc ml-5'><li><strong>Safeguarding</strong>: assess for bullying, abuse, neglect; involve paediatrics and the hospital safeguarding team early.</li><li><strong>Capacity & consent</strong>: under 16 → involve parents/guardians; document Gillick competence if applicable.</li><li><strong>Toxicology</strong>: timing/amount cross-checked; repeat levels if indicated by timing; provide <em>paracetamol overdose education</em> even when non-toxic.</li><li><strong>Psychosocial assessment</strong>: mood, anxiety, impulsivity, intent/lethality, protective factors, access to means, social supports.</li><li><strong>Safety plan</strong>: remove medicines/sharps at home, crisis numbers, follow-up with CAMHS/school counselling, anti-bullying plan.</li></ul>","<strong>Why other options are inappropriate now:</strong><br/>• <strong>Refer to a psychologist</strong>—route is via liaison/CAMHS; psychologists typically are not the initial ED pathway.<br/>• <strong>Discharge with parental supervision</strong>—unsafe until a full psychosocial assessment and safety plan are completed.<br/>• <strong>Admit to a psychiatric ward</strong>—reserved for high acute risk, psychosis, or inability to maintain safety; not automatically required here.<br/>• <strong>Start antidepressants</strong>—not started from ED for an impulsive ingestion; requires comprehensive assessment, diagnosis, and CAMHS follow-up.","<strong>Exam takeaway:</strong> In children/teens with <em>intentional overdose</em> but medically stable, the next step is <mark>ED psychiatric liaison assessment</mark> with safeguarding and CAMHS follow-up, not automatic discharge or immediate medications."]},{id:"EM-0303",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 25 year old woman has been feeling anxious and nervous for the last few months. She also complains of several episodes of palpitations and tremors in the past few weeks. Her symptoms develop <strong>rapidly</strong> and last for a <strong>few minutes</strong>. She mentions that taking alcohol initially helped her relieve her symptoms but now this effect is wearing off and she has palpitations and tremors even after drinking alcohol. What is the <strong>SINGLE</strong> most likely diagnosis?",options:[{key:"A",text:"Panic attacks"},{key:"B",text:"Depression"},{key:"C",text:"Obsessive–compulsive disorder (OCD)"},{key:"D",text:"Alcohol addiction"},{key:"E",text:"Generalised Anxiety Disorder (GAD)"}],correct:"A",explanation_plabable:["There is a fine line between Generalised Anxiety Disorder (GAD) and Panic attacks. They both can present similarly. However, in this question, her symptoms develop rapidly and only last for a few minutes. This is the key phrase that you should look out for that tells you this is Panic attacks rather than GAD."],explanation_detail:["<strong>Why this is panic attacks:</strong> A panic attack is a <em>sudden surge of intense fear</em> that <strong>peaks within minutes</strong> and is accompanied by autonomic symptoms such as palpitations, tremor, sweating, chest tightness, dyspnoea, derealisation, or fear of dying/losing control. The stem emphasises <mark>abrupt onset</mark> and <mark>brief duration (minutes)</mark>—classic for panic attacks.","<strong>How it differs from GAD:</strong> <em>Generalised Anxiety Disorder</em> is characterised by <strong>excessive, persistent worry for ≥6 months</strong> about multiple domains, with symptoms like fatigue, restlessness, poor concentration, irritability and muscle tension. GAD is more chronic and baseline; panic attacks are <em>paroxysmal</em>.","<strong>Panic disorder vs isolated attacks:</strong> Panic <em>disorder</em> requires recurrent unexpected attacks plus ≥1 month of persistent concern/behaviour change (avoidance). In ED stems, the immediate label is often “panic attacks” unless that persistence/avoidance criterion is provided.","<strong>Alcohol note:</strong> Some patients self-medicate with alcohol; rebound anxiety, tremor and palpitations can occur as the effect wears off and with withdrawal. This does <em>not</em> change the underlying diagnosis here.","<strong>ED approach:</strong> Rule out medical mimics (hypoglycaemia, thyrotoxicosis, arrhythmia, PE when risk factors, stimulant use). If benign work-up and typical history: reassurance, breathing coaching, short-acting benzodiazepine can be considered for severe acute distress (avoid routine use). Safety-net and arrange GP/primary care follow-up.","<strong>Long-term management (primary care/psych):</strong> First-line is <strong>CBT</strong>; pharmacotherapy with <strong>SSRIs/SNRIs</strong> (start low, go slow), consider propranolol for performance anxiety, and advise limiting caffeine/alcohol. Encourage sleep hygiene and graded exposure if avoidance behaviours develop.","<strong>Exam tips:</strong> <ul class='list-disc ml-5'><li><strong>Rapid onset + short duration</strong> → choose <mark>panic attacks</mark>.</li><li><strong>Persistent daily worry for months</strong> → choose <mark>GAD</mark>.</li><li>Don’t confuse alcohol self-medication with a primary alcohol-use diagnosis unless dependence features are provided (tolerance, loss of control, withdrawal pattern, continuing use despite harm).</li></ul>"]},{id:"CT-0220",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 78 year old woman presents to the Emergency Department with severe epigastric pain and vomiting for the past 2 days. The pain is referred to her right shoulder. Generalised rigidity of the abdomen is noted when examining. She denies chest pain. She has a temperature of <strong>37.2°C</strong>, a respiratory rate of <strong>22 breaths/minute</strong> and a pulse of <strong>102 beats/minute</strong>. Her medical history is significant for rheumatoid arthritis. Which of the following is the <strong>SINGLE</strong> most appropriate initial investigation?",options:[{key:"A",text:"Ultrasound abdomen"},{key:"B",text:"Pelvic X-ray"},{key:"C",text:"Colonoscopy"},{key:"D",text:"Erect chest X-ray"},{key:"E",text:"Upper gastrointestinal endoscopy"}],correct:"D",explanation_plabable:["The history of rheumatoid arthritis tells you that she is more than likely to be taking NSAIDS to manage with the pain. This is a risk factor for peptic ulcer which if perforates gives the signs and symptoms that she is describing.","Perforation of a peptic ulcer causes an acute abdomen with epigastric pain that may progress to generalised rigidity. Shoulder tip pain is seen in perforation.","A diagnosis is made by taking an erect abdominal/chest X-ray. Air under the diaphragm gives the diagnosis of a perforation.","Further reading:","http://patient.info/doctor/peptic-ulcer-disease","https://www.nice.org.uk/guidance/cg141/chapter/1-Guidance","https://pathways.nice.org.uk/pathways/acute-upper-gastrointestinal-bleeding"],explanation_detail:["<strong>Why erect chest X-ray first?</strong> Suspected <mark>perforated peptic ulcer</mark>—elderly patient, NSAID risk (rheumatoid arthritis), sudden severe epigastric pain, <em>generalised rigidity</em>, and <strong>right shoulder tip pain</strong> from diaphragmatic irritation via the phrenic nerve. The quickest, widely available test that can immediately confirm perforation is an <strong>erect CXR</strong> showing <em>free sub-diaphragmatic air</em>. (If the patient cannot stand, a left lateral decubitus abdominal film or CT is alternative.)","<strong>Initial ED management bundle:</strong> ABCs, keep <em>NPO</em>, large-bore IV access, <strong>IV fluids</strong>, broad-spectrum <strong>IV antibiotics</strong>, <strong>IV PPI</strong>, analgesia, bloods (FBC/U&amp;Es/LFTs/CRP/lactate), group & save/crossmatch, urgent <strong>surgical</strong> review. CT abdomen with contrast often follows for operative planning if CXR is equivocal.","<strong>Why other options are wrong now:</strong><br/>• <strong>Ultrasound abdomen</strong>—good for biliary pathology/AAA bedside, but insensitive for free intraperitoneal air.<br/>• <strong>Pelvic X-ray</strong>—no diagnostic value here.<br/>• <strong>Colonoscopy</strong>—contraindicated in suspected perforation; insufflation risks worsening free air.<br/>• <strong>Upper GI endoscopy</strong>—not the initial investigation when perforation is suspected (risk of further perforation and usually unnecessary to make the diagnosis).","<strong>Exam takeaway:</strong> Elderly on NSAIDs + acute epigastric pain with peritonism and shoulder tip pain → think <mark>perforated PUD</mark>; order an <strong>erect CXR</strong> to look for air under diaphragm and start resus + surgical referral."]},{id:"EM-0932",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 71 year old woman is admitted to the hospital with confusion and weakness. On examination, her blood pressure is <strong>90/55 mmHg</strong>. She has a history of diabetes insipidus and is currently on desmopressin. Over the past few days, she has had reduced oral intake. Her heart rate is <strong>110</strong> beats per minute, and skin turgor is poor.<br/><br/><strong>Investigations:</strong><br/>Sodium <strong>158 mmol/L</strong> (135–145)<br/>Potassium <strong>3.9 mmol/L</strong> (3.5–5)<br/><br/>Which of the following is the most appropriate <strong>initial</strong> management?",options:[{key:"A",text:"5% dextrose infusion"},{key:"B",text:"0.45% normal saline"},{key:"C",text:"0.9% normal saline"},{key:"D",text:"Hypertonic saline"},{key:"E",text:"Hydrocortisone"}],correct:"C",explanation_plabable:["The patient presents with signs of hypernatraemia and hypotension, likely due to hypovolaemia. The initial management focuses on stabilising her blood pressure and correcting the hypernatraemia. 0.9% normal saline is suitable for both expanding the intravascular volume and gradually lowering the serum sodium.","Option B, which is 0.45% normal saline, is a hypotonic solution. In the context of this patient's clinical presentation with severe hypernatraemia and signs of hypovolaemia, using a hypotonic solution like 0.45% normal saline could lower the sodium levels too quickly. Rapid correction of hypernatraemia can lead to serious neurological complications, including cerebral oedema and central pontine myelinolysis. 0.9% normal saline provides a safer initial approach by stabilising blood pressure and gradually correcting the sodium imbalance."],explanation_detail:["<strong>What’s going on?</strong> This is <mark>hypovolaemic hypernatraemia</mark> (Na⁺ 158) from reduced intake ± osmotic water loss (history of diabetes insipidus). She is clinically dehydrated and hypotensive (90/55) with tachycardia.","<strong>First step:</strong> In hypernatraemia with <em>hypovolaemia/haemodynamic instability</em>, restore intravascular volume with <strong>0.9% NaCl</strong>. Once perfusion is stabilised, switch to a <em>hypotonic</em> fluid (e.g., 5% dextrose or 0.45% saline) to replace free water <em>slowly</em>.","<strong>Correction targets:</strong> For chronic/unknown-duration hypernatraemia, lower Na⁺ by ≤ <strong>10–12 mmol/L per 24 h</strong> (≈0.5 mmol/L/h) to avoid cerebral oedema. Check U&amp;Es/Na⁺ every 2–4 h initially and adjust rate.","<strong>Role of desmopressin:</strong> After resuscitation, review DI control and continue/adjust desmopressin if central DI suspected; closely monitor urine output/osmolality and sodium trend.","<strong>Why the other options are wrong initially:</strong><br/>• <strong>5% dextrose</strong>—hypotonic; gives free water and may drop Na⁺ too quickly before circulation is restored.<br/>• <strong>0.45% saline</strong>—also hypotonic, same risk for rapid fall in Na⁺ at the outset.<br/>• <strong>Hypertonic saline</strong>—would <em>raise</em> Na⁺ further; used for <em>hyponatraemia</em>/raised ICP, not here.<br/>• <strong>Hydrocortisone</strong>—for adrenal crisis/shock with suspected adrenal insufficiency; the stem points to hypovolaemic hypernatraemia instead.","<strong>Exam takeaway:</strong> Hypernatraemia + hypotension/dehydration → <mark>volume first with 0.9% saline</mark>, then carefully correct free-water deficit to safe targets."]},{id:"EM-1331",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 64 year old man with a history of Alzheimer’s disease and poorly controlled type 2 diabetes mellitus presents to the Emergency Department with a three-day history of pain and redness affecting his left foot. His carer mentions that the man has become increasingly confused over the past week and has been complaining of pain in the affected foot.",image:"/burn-foot.png",options:[{key:"A",text:"Burn"},{key:"B",text:"Diabetic foot"},{key:"C",text:"Eczema"},{key:"D",text:"Necrotising fasciitis"},{key:"E",text:"Pressure ulcer"}],correct:"A",explanation_plabable:["The most likely diagnosis is burn. The clinical history indicates a three-day history of pain, redness with an image showing a raw exposed dermis.","The patient’s Alzheimer’s and diabetic status may have contributed to delayed recognition and treatment of this injury."],explanation_detail:["<strong>Why burn?</strong> The photo shows large areas of <em>denuded, pink ‘raw’ dermis</em> with sloughing—typical of a <strong>partial-thickness (superficial–deep) burn</strong>. The history is acute (days) and painful.","<strong>Why not the others?</strong><br/>• <strong>Diabetic foot</strong>: classically neuropathic/ischemic ulcers at pressure points with surrounding callus; often <em>painless</em> due to neuropathy.<br/>• <strong>Eczema</strong>: pruritic, chronic eczematous patches/lichenification, not large sheets of exposed dermis.<br/>• <strong>Necrotising fasciitis</strong>: rapidly progressive severe systemic toxicity, <em>pain out of proportion</em>, crepitus, dusky skin/bullae—emergency debridement.<br/>• <strong>Pressure ulcer</strong>: over bony prominences from prolonged pressure, not this appearance/distribution.","<strong>Initial ED management (adult):</strong> Analgesia; gently cleanse/irrigate; remove loose non-viable tissue; apply non-adherent dressing; check tetanus status. Assess <strong>TBSA</strong> and depth; consider burn service referral criteria (e.g., >3% TBSA partial-thickness in extremes of age, functional areas, circumferential burns, suspected inhalation/chemical/electrical). In diabetics, have a <em>low threshold</em> to review for superadded infection and optimise glucose/perfusion.","<strong>Follow-up:</strong> Early wound review (24–48 h), elevation, strict glucose control, safety-net for infection (increasing pain, spreading erythema, fever)."]},{id:"CU-2830",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 9 month old child aspirated a foreign object which was removed at the hospital. The child is now fine. His parents would like to know what they should do should this occur again. What is the SINGLE most appropriate advice to give them?",options:[{key:"A",text:"Heimlich maneuver"},{key:"B",text:"Turn the infant into a supine position and give chest thrust"},{key:"C",text:"Turn the infant into a prone position and give five sharp blows with heel of hand to the middle of the back"},{key:"D",text:"Place a clenched fist between the umbilicus and xiphisternum and give abdominal thrusts"},{key:"E",text:"Turn infant into recovery position and open infant’s mouth"}],correct:"C",explanation_plabable:["Choking and Foreign Body Airway Obstruction (FBAO) in Infants","","For infants :","<ul class='list-disc ml-5'><li>In a seated position, support the infant in a head-downwards, prone position to let gravity aid removal of the foreign body</li><li>Deliver up to five sharp blows with the heel of your hand to the middle of the back (between the shoulder blades)</li><li>After five unsuccessful back blows, use chest thrusts: turn the infant into a supine position and deliver five chest thrusts. These are similar to chest compressions for CPR, but sharper in nature and delivered at a slower rate.</li></ul>","Reference:","http://patient.info/doctor/choking-and-foreign-body-airway-obstruction-fbao","http://awesomema.com/what-to-do-when-your-child-is-choking/"],explanation_detail:["<strong>Why option C?</strong> For <em>infants &lt; 1 year</em> with suspected severe FBAO (ineffective cough/cry, silent cough, cyanosis): place the infant <strong>prone, head-down</strong> along your forearm or thigh and give <strong>up to 5 back blows</strong> with the <em>heel of the hand</em> between the scapulae. This uses gravity + percussion to dislodge the object.","<strong>If still obstructed</strong>: turn supine and perform <strong>up to 5 chest thrusts</strong>—on the lower half of the sternum, just below the nipple line, depth similar to compressions but <em>slower and sharper</em>. Alternate 5 back blows and 5 chest thrusts while you <em>call for help/EMS</em>.","<strong>Do NOT</strong> perform <em>abdominal (Heimlich) thrusts</em> in infants because of risk of abdominal organ injury and ineffectiveness in this age group. Avoid blind finger sweeps (may push the object deeper).","<strong>If the infant becomes unresponsive</strong>: start <strong>CPR</strong> (30:2 for a single rescuer; 15:2 if two trained rescuers), check the mouth for a visible object <em>before</em> each set of breaths, and remove only if you can see it. Continue until the airway clears or help arrives.","<strong>Recognising severity</strong>: Effective cough/cry with good air entry → encourage coughing and observe. Ineffective cough, stridor/silence, cyanosis, decreased responsiveness → treat as severe FBAO (algorithm above).","<strong>Parent advice essentials</strong>: keep small objects away, supervise feeds, cut food appropriately, and seek infant first-aid training. After any choking episode—even if resolved—have the child reviewed for residual airway oedema/aspiration."]},{id:"PE-2190",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 22 year old man presents to the Emergency Department with coughing and dyspnoea. He is a known asthmatic and usually uses salbutamol occasionally. His respiratory rate is <strong>30 breaths/minute</strong>, heart rate is <strong>110 beats/minute</strong>, and oxygen saturation is <strong>93%</strong>. He is given oxygen <strong>100%</strong> by face mask. What is the <strong>SINGLE</strong> most appropriate initial management?",options:[{key:"A",text:"Intravenous salbutamol"},{key:"B",text:"Intravenous corticosteroids"},{key:"C",text:"Nebulised salbutamol"},{key:"D",text:"Reduce oxygen"},{key:"E",text:"Intravenous antibiotics"}],correct:"C",explanation_plabable:["The next most important management is salbutamol nebulizers to reverse his obstructive airways. Steroids should follow shortly after."],explanation_detail:["<strong>Why nebulised salbutamol now?</strong> This is an <em>acute asthma exacerbation</em> with tachypnoea (RR 30), tachycardia (HR 110) and SpO₂ 93%. First-line bronchodilation is a <strong>short-acting β₂-agonist</strong> (salbutamol) delivered by <strong>nebuliser</strong>—often repeated or continuous early. Add ipratropium if moderate–severe.","<strong>Oxygen:</strong> Maintain saturations 94–98%. Starting with high-flow oxygen is acceptable initially; titrate to target once monitored. Do <em>not</em> reduce oxygen before stabilisation.","<strong>Steroids:</strong> Give <strong>oral prednisolone 40–50 mg</strong> (or IV hydrocortisone if unable to take PO) soon after bronchodilator therapy—onset is hours, so it’s the next step, not the immediate fix.","<strong>Why the other options are wrong:</strong><br/>• <strong>IV salbutamol</strong> — reserved for refractory cases after maximal nebulised therapy; more adverse effects.<br/>• <strong>IV corticosteroids</strong> — route isn’t needed if the patient can take oral; and steroids are adjuncts, not the immediate bronchodilator.<br/>• <strong>Reduce oxygen</strong> — inappropriate during acute hypoxaemia; keep target 94–98%.<br/>• <strong>IV antibiotics</strong> — no evidence of bacterial infection; antibiotics are not routine in asthma exacerbations.","<strong>ED bundle:</strong> O₂ to target 94–98%, <strong>nebulised salbutamol</strong> (± ipratropium), <strong>steroids</strong>, consider <strong>MgSO₄ IV</strong> if poor response, monitor with peak flow/ABG if severe, and safety-net/observe."]},{id:"EM-1036",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 75 year old man has sudden-onset shortness of breath and pleuritic chest pain. He underwent a transurethral resection of the prostate (TURP) three days ago for benign prostatic hyperplasia. On examination, he has a pulse of <strong>110 beats per minute</strong>, respiratory rate of <strong>24 breaths per minute</strong>, and oxygen saturation of <strong>94% on room air</strong>. His blood pressure is <strong>130/80 mmHg</strong>. Chest auscultation reveals clear lung fields with no added sounds. What is the most appropriate investigation?",options:[{key:"A",text:"CT pulmonary angiography (CTPA)"},{key:"B",text:"Chest X-ray"},{key:"C",text:"D-dimer"},{key:"D",text:"Lower limb ultrasound"},{key:"E",text:"Ventilation-perfusion (V/Q) scan"}],correct:"A",explanation_plabable:["The most appropriate next investigation is CT pulmonary angiography (CTPA), as the patient has a high clinical suspicion for pulmonary embolism (PE) following recent surgery.","A chest X-ray may be performed to rule out other causes but is not diagnostic for PE.","While a D-dimer is useful in low-risk patients, it is not appropriate in this case due to his high pre-test probability based on the Wells score","A lower limb ultrasound may confirm deep vein thrombosis (DVT) but does not exclude PE.","A ventilation-perfusion (V/Q) scan is an alternative when CTPA is contraindicated, such as in renal impairment or contrast allergy."],explanation_detail:["<strong>Why CTPA?</strong> Post-operative patient (TURP 3 days ago) with sudden pleuritic pain, tachycardia, tachypnoea and borderline hypoxia → <strong>high pre-test probability</strong> of PE. In high probability, go straight to <mark>CT pulmonary angiography</mark> unless contraindicated.","<strong>What about the other tests?</strong><br/>• <strong>CXR</strong> rules out alternative diagnoses (e.g., pneumothorax, pneumonia) but cannot confirm/deny PE.<br/>• <strong>D-dimer</strong> is only for <em>low</em> clinical probability; using it here delays definitive imaging and can be misleading.<br/>• <strong>Leg ultrasound</strong> may detect DVT, but a negative scan does not exclude PE and a positive scan still leaves the extent/management questions.<br/>• <strong>V/Q scan</strong> is reserved for when CTPA can’t be done (contrast allergy, significant renal impairment, pregnancy depending on local protocols) and requires a normal CXR for best accuracy.","<strong>Management preview (after confirmation):</strong> Initiate anticoagulation (DOAC/LMWH per local policy) unless contraindicated; consider thrombolysis if haemodynamically unstable (massive PE); address risk factors and plan duration of therapy."]},{id:"EM-0045",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Anaphylaxis after peanut ingestion",stem:"A 35-year-old man with a known peanut allergy presents to A&E 20 minutes after unknowingly eating a cupcake containing nuts. He is acutely breathless with a hoarse voice and difficulty swallowing. Examination reveals widespread wheeze and stridor, with swelling of the lips and tongue. <br/><br/><strong>Observations:</strong> HR <strong>110 bpm</strong>, BP <strong>88/59 mmHg</strong>, RR <strong>26/min</strong>, SpO₂ <strong>91%</strong> on air, Temp <strong>36.6°C</strong>. Intravenous access has been established. What is the SINGLE most appropriate immediate treatment?",options:[{key:"A",text:"Intramuscular adrenaline 0.5 ml 1 in 1,000"},{key:"B",text:"Intravenous adrenaline 0.5 ml 1 in 1,000"},{key:"C",text:"Intravenous hydrocortisone"},{key:"D",text:"Intramuscular adrenaline 0.3 ml 1 in 1,000"},{key:"E",text:"Intramuscular adrenaline 0.5 ml 1 in 10,000"}],correct:"A",explanation_plabable:["Even though IV access has been established, the best treatment to resolve his hypersensitivity reaction is STILL intramuscular adrenaline.","Intravenous adrenaline can be dangerous and should only be used in certain specialist settings with someone very skilled and experienced its used.","Further reading:","https://www.resus.org.uk/anaphylaxis/emergency-treatment-of-anaphylactic-reactions/"],explanation_detail:["<strong>Why the answer is correct:</strong> This is life‑threatening anaphylaxis (airway oedema, bronchospasm and hypotension). First‑line treatment is <strong>IM adrenaline 0.5 mg (0.5 ml of 1:1,000)</strong> into the anterolateral thigh; repeat every 5 minutes if there is inadequate response. Adrenaline reverses vasodilatation and capillary leak (α₁), relieves bronchospasm (β₂), and reduces further mediator release.","<strong>Why the other options are wrong:</strong> B) IV adrenaline bolus risks arrhythmias and severe hypertension; it is reserved for specialist settings using titrated infusions. C) Hydrocortisone has delayed onset and is an adjunct only. D) 0.3 ml is an adult under‑dose and may fail to correct shock/airway swelling. E) 1 in 10,000 is the cardiac arrest concentration and is inappropriate for IM use in anaphylaxis.","<strong>Management/algorithm:</strong> <ul><li>Call for help; lie patient <em>flat with legs raised</em>; give high‑flow oxygen.</li><li>IM adrenaline 0.5 mg (1:1,000) to the thigh; repeat every 5 min as needed.</li><li>Establish IV access; give rapid 0.9% saline bolus 500–1000 ml for hypotension; reassess and repeat if required.</li><li>Adjuncts <em>after adrenaline</em>: chlorphenamine and hydrocortisone; consider nebulised bronchodilator for persistent wheeze.</li><li>Prepare for airway support and early anaesthetics/ICU involvement if stridor or refractory shock.</li><li>Observe for biphasic reaction; provide adrenaline auto‑injector training, clear documentation of the trigger, and allergy clinic referral prior to discharge.</li></ul>","<strong>Exam takeaway:</strong> In adult anaphylaxis, the immediate life‑saving step is <strong>IM adrenaline 0.5 mg (1:1,000)</strong> in the anterolateral thigh; IV adrenaline is for specialists only."]},{id:"EM-1792",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"TCA overdose with widened QRS and acidosis",stem:"A 34-year-old man with a 3-year history of depression attends the Emergency Department after deliberate ingestion of a significant amount of amitriptyline tablets a few hours ago. He is agitated and confused with mydriasis and feels very thirsty. He had a single brief convulsion which he recovered from. An ECG shows sinus tachycardia with <strong>widened QRS complexes</strong>. <br/><br/><strong>Observations:</strong> HR <strong>130 bpm</strong>, BP <strong>80/40 mmHg</strong> despite fluid resuscitation, RR <strong>20/min</strong>, Temp <strong>39.1°C</strong>. <br/><br/><strong>Arterial blood gas:</strong><br/>PaO₂: <strong>8.5 kPa</strong> (&gt;10 kPa)<br/>PaCO₂: <strong>4.3 kPa</strong> (4.7–6 kPa)<br/>pH: <strong>7.22</strong> (7.35–7.45)<br/>HCO₃⁻: <strong>16 mmol/L</strong> (22–26 mmol/L)<br/><br/>What is the most appropriate management?",options:[{key:"A",text:"Lorazepam"},{key:"B",text:"Sodium bicarbonate"},{key:"C",text:"Flumazenil"},{key:"D",text:"Clozapine"},{key:"E",text:"Activated charcoal and nasogastric tube suction"}],correct:"B",explanation_plabable:["Tricyclic antidepressants (TCA) are very toxic by ingestion. It is important to monitor and treat as fatal cardiac arrhythmias may occur soon after ingestion. Cardiac complications include prolonged QRS complexes and tachyarrhythmias.","Most arrhythmias occur within a few hours of an overdose and should be managed by correcting hypoxia and acidosis. Sodium bicarbonate is given to reverse the acidosis which improves cardiac rhythm. It is considered in TCA overdose patients where there is severe metabolic acidosis, the QRS is greater than 120 ms or if they are hypotensive despite fluid resuscitation.","Lorazepam is not part of the management of tricyclic antidepressant overdose unless his convulsions are frequent or prolonged.","Activated charcoal and nasogastric tube suction should only be considered within the first hour of tricyclic antidepressant overdose.","Plabable take-home point - always consider sodium bicarbonate infusion in TCA overdose if there is a QRS of greater than 120 ms or hypotension unresponsive to fluids (even if the patient is not acidotic) - this is because we are aiming for a pH of 7.5 to 7.55"],explanation_detail:["<strong>Why the answer is correct:</strong> Amitriptyline overdose causes anticholinergic features, CNS toxicity and sodium-channel blockade in the His–Purkinje system and myocardium, producing QRS widening, ventricular arrhythmias and hypotension. IV sodium bicarbonate provides a sodium load and alkalinises serum to displace TCA from Na⁺ channels, narrowing the QRS and improving blood pressure. In TCA toxicity, give sodium bicarbonate when there is significant metabolic acidosis, <strong>QRS >120 ms</strong>, ventricular arrhythmia, or hypotension despite fluids; target a pH of 7.5–7.55.","<strong>Why the other options are wrong:</strong> A) Lorazepam is for recurrent or prolonged seizures but does not treat QRS widening or shock. C) Flumazenil is contraindicated in mixed/unknown overdoses and seizure‑prone ingestions; it offers no benefit here. D) Clozapine is an antipsychotic and inappropriate. E) Activated charcoal/NG suction is only useful within 1 hour of ingestion and risks aspiration in an agitated patient; the priority is cardiac stabilisation with bicarbonate.","<strong>Management/algorithm:</strong> <ul><li>ABCDE, high‑flow O₂, IV access; treat hypoxia and correct temperature.</li><li>Bolus <strong>IV sodium bicarbonate</strong> (e.g., 50–100 mmol; 1–2 mL/kg of 8.4%) and repeat/titrate to narrow QRS and achieve pH 7.5–7.55; consider infusion.</li><li>Fluids for hypotension; if refractory, start vasopressor (e.g., noradrenaline).</li><li>Seizures: benzodiazepines. Avoid phenytoin and class Ia/Ic antiarrhythmics; consider magnesium for TdP.</li><li>Charcoal only if presentation ≤1 hour and airway protected.</li><li>Continuous ECG monitoring for at least 12–24 h; involve toxicology/ICU early.</li></ul>","<strong>Exam takeaway:</strong> In TCA overdose, a <strong>widened QRS or hypotension</strong> is an indication for <strong>IV sodium bicarbonate</strong> with an alkalinisation target pH of 7.5–7.55; avoid flumazenil and sodium‑channel–blocking antiarrhythmics."]},{id:"EN-1319",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Hyperkalaemia on ABG — next step",stem:"A 60-year-old man presents to the Emergency Department complaining of feeling exhausted and unwell since earlier in the day. Over the past hour he has felt his heart racing. He has type 2 diabetes mellitus (10 years) on metformin, and ramipril was added 5 years ago for hypertension. An urgent ABG has been performed.<br/><br/><strong>ABG / labs:</strong><br/>pH: <strong>7.33</strong> (7.35–7.45)<br/>pCO₂: <strong>5.0 kPa</strong> (4.7–6.0)<br/>pO₂: <strong>12 kPa</strong> (12–14)<br/>Sodium: <strong>138 mmol/L</strong> (135–145)<br/>Potassium: <strong>6.8 mmol/L</strong> (3.5–5.0)<br/><br/>Which of the following is the most appropriate next step in the management of this patient?",options:[{key:"A",text:"12 lead ECG"},{key:"B",text:"Chest X-ray"},{key:"C",text:"Renal function test"},{key:"D",text:"Venous blood gas analysis"},{key:"E",text:"Serum ramipril concentration"}],correct:"A",explanation_plabable:["The patient presents with nonspecific complaints. However, the patient's current medication - ACE inhibitors (prescribed for hypertension) should raise a red flag for a possible electrolyte imbalance, specifically hyperkalaemia. The arterial blood gas sample confirms this suspicion.","Severity of hyperkalaemia","• Mild → 5.5 - 5.9 mmol/L","• Moderate → 6.0 - 6.4 mmol/L","• Severe → ≥ 6.5 mmol/L","","Drug-induced hyperkalaemia (think of the following)","• Angiotensin-converting enzyme inhibitors","• Angiotensin receptor blockers","• Potassium-sparing agents","","Hyperkalaemia leads to hyperexcitability of the myocardium, which may precipitate ventricular fibrillation/cardiac arrest. Therefore, the most important subsequent step in the management of this patient is to obtain an ECG tracing as well as monitor the patient on a cardiac monitor.","","Further reading:","https://patient.info/doctor/hyperkalaemia-in-adults"],explanation_detail:["<strong>Why the answer is correct:</strong> A potassium of <strong>6.8 mmol/L</strong> is severe hyperkalaemia (≥6.5 mmol/L) and carries a high risk of malignant arrhythmias. The immediate next step is to obtain a <strong>12‑lead ECG</strong> and commence continuous cardiac monitoring to detect life‑threatening changes (peaked T waves, PR prolongation, QRS widening, sine‑wave pattern, VT/VF).","<strong>Why the other options are wrong:</strong> B) Chest X‑ray will not address imminent arrhythmic risk. C) Renal function is relevant but should not delay ECG/monitoring and emergent treatment. D) A venous gas adds little after an ABG has confirmed hyperkalaemia. E) Serum ramipril concentration is not clinically useful and would not change acute management.","<strong>Management/algorithm:</strong> <ul><li>Immediate ECG and continuous monitoring; stop offending drugs (ACEi/ARBs, K‑sparing diuretics).</li><li>If ECG changes or K⁺ ≥6.5 mmol/L, give <strong>IV calcium (e.g., 10 mL 10% calcium gluconate)</strong> to stabilise myocardium; repeat if no ECG improvement.</li><li>Shift potassium intracellularly: <strong>IV insulin (10 units soluble) with 25 g glucose</strong>; consider nebulised salbutamol 10–20 mg; consider IV sodium bicarbonate if severe acidaemia.</li><li>Remove potassium: loop diuretics and/or potassium binders; urgent renal referral for dialysis if refractory or in renal failure.</li><li>Recheck potassium and glucose at 1 hour; continue monitoring until stable.</li></ul>","<strong>Exam takeaway:</strong> Suspected hyperkalaemia (especially ≥6.5 mmol/L) → <strong>ECG and cardiac monitoring first</strong>; treat urgently if there are ECG changes or severe elevation."]},{id:"EN-1202",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Paracetamol and alcohol ingestion — next step",stem:"A 29-year-old woman presents to the Emergency Department 2 hours after ingesting twelve paracetamol tablets with an unspecified amount of alcohol following acute personal stress. She feels remorseful and now denies any current suicidal ideation. She is alert, cooperative and haemodynamically stable. Examination is unremarkable, and initial blood tests including liver function tests are within normal limits. Which of the following is the most appropriate next step in management?",options:[{key:"A",text:"Refer to psychiatric liaison"},{key:"B",text:"Refer to a psychologist"},{key:"C",text:"Discharge with follow-up in primary care"},{key:"D",text:"Admit to a psychiatric ward"},{key:"E",text:"Schedule an outpatient liver function test in one week"}],correct:"A",explanation_plabable:["This patient has engaged in a potentially harmful act by ingesting a significant quantity of paracetamol and alcohol, indicating acute distress or a possible underlying mental health condition. Referral to a psychiatric liaison is indicated to assess her mental health needs thoroughly. This would usually be a psychiatric nurse who is trained to accept mental health referrals from A&E. They would be able to determine whether this patient requires inpatient treatment, close follow-up in the community, or can be safely discharged."],explanation_detail:["<strong>Why the answer is correct:</strong> Any patient presenting after self-harm or an overdose requires a comprehensive psychosocial assessment by <em>liaison psychiatry</em> before discharge, regardless of currently denying suicidal ideation. The assessment addresses suicide risk, precipitating factors, safeguarding, and safety planning, and coordinates appropriate follow‑up (crisis team/CMHT).","<strong>Why the other options are wrong:</strong> B) A psychologist referral is not an acute ED pathway and does not replace urgent risk assessment. C) Discharging with GP follow‑up alone is unsafe after an overdose without a formal mental health assessment. D) Psychiatric admission is reserved for patients with ongoing intent, high risk, psychosis, or inability to ensure safety; this cooperative, stable patient does not automatically require admission. E) Scheduling delayed LFTs misses the immediate priority of psychosocial assessment (and does not guide acute risk); early LFTs may be normal and paracetamol management depends on timed levels and NAC criteria, not a routine one‑week LFT check.","<strong>Management/algorithm:</strong> <ul><li>Medically assess and treat overdose as indicated (time a paracetamol level at ≥4 h post-ingestion; start NAC if above nomogram or per local protocol).</li><li>Place on appropriate observations; address alcohol intoxication and safeguarding.</li><li>Request <strong>liaison psychiatry</strong> for psychosocial and suicide risk assessment, safety planning, and follow‑up arrangements.</li><li>Only consider psychiatric admission if high/ongoing risk or inability to maintain safety in the community.</li><li>Document capacity, risk, and discharge plan; provide crisis contacts.</li></ul>","<strong>Exam takeaway:</strong> After overdose/self-harm, medical stabilisation plus <strong>mandatory liaison psychiatry assessment</strong> precede discharge—even if the patient currently denies suicidal thoughts."]},{id:"PY-1010",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Paracetamol overdose — when to take the level",stem:"A 14-year-old girl is brought to the Emergency Department having taken an <em>unknown amount</em> of paracetamol approximately <strong>2 hours</strong> ago. She has no prior psychiatric history and is currently well, alert and haemodynamically stable. When should you obtain a plasma paracetamol concentration following her presentation?",options:[{key:"A",text:"Immediately"},{key:"B",text:"In 2 hours' time"},{key:"C",text:"In 4 hours' time"},{key:"D",text:"In 8 hours' time"},{key:"E",text:"In 22 hours' time"}],correct:"B",explanation_plabable:["If one takes an unknown amount of paracetamol, we admit.","Serum paracetamol concentration levels are attained at 4 hours post ingestion if consumed >150mg/kg (or an unknown amount)."],explanation_detail:["<strong>Why the answer is correct:</strong> Paracetamol levels are interpreted on the Rumack–Matthew nomogram only when taken at <strong>≥ 4 hours post-ingestion</strong>. She presented 2 hours after ingestion, so the appropriate plan is to obtain the level <strong>in 2 hours</strong> (i.e., at the 4-hour mark). Earlier samples may underestimate absorption and are not interpretable.","<strong>Why the other options are wrong:</strong> A) An immediate level (<4 h) cannot be interpreted and risks false reassurance. C) Waiting 4 more hours (to 6 h post-ingestion) delays decision-making unnecessarily. D) 8 hours would further delay care; if ≥ 8 h since ingestion and toxicity suspected, start NAC while awaiting the result. E) 22 hours is inappropriate for initial risk assessment; late levels are used to guide completion of treatment.","<strong>Management/algorithm:</strong> <ul><li>Admit for observation/risk assessment when the amount is unknown.</li><li>Take first level at <strong>4 h</strong> post-ingestion (draw at 2 h from now); plot on nomogram and manage per local threshold (e.g., treatment line / 150 mg/kg).</li><li>If presentation is <strong>>8 h</strong> after ingestion or uncertain timing with high suspicion, commence <strong>N-acetylcysteine (NAC)</strong> immediately while awaiting levels.</li><li>Consider activated charcoal if within 1 h of a potentially toxic dose and airway protected.</li><li>Ensure psychosocial assessment before discharge and provide safety planning.</li></ul>","<strong>Exam takeaway:</strong> For acute paracetamol overdose, draw the first paracetamol level at <strong>4 hours post-ingestion</strong>; if the patient presents at 2 hours, take it <strong>in 2 hours' time</strong>."]},{id:"EM-1560",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Minor head injury in a child — next step",stem:"An 11-year-old boy fell from his bicycle earlier today and struck his head on a lamppost. He lost consciousness for a few seconds and on arrival cannot remember the event or riding the bicycle; his mother confirms the amnesia has persisted for <strong>more than 5 minutes</strong>. He was not wearing a helmet. Examination shows a small frontal scalp swelling with no lacerations or bleeding. Neurological examination is normal and his Glasgow Coma Scale is <strong>15/15</strong>. What is the SINGLE most appropriate management?",options:[{key:"A",text:"CT head within 1 hour"},{key:"B",text:"MRI head within 6 hours"},{key:"C",text:"Observe for a minimum of 4 hours post head injury"},{key:"D",text:"Observe for a minimum of 24 hours post head injury"},{key:"E",text:"Prescribe pain relief and discharge"}],correct:"C",explanation_plabable:["There is ONE risk factor present from the injury which is amnesia lasting more than 5 minutes. With only ONE risk factor present, children need to be observed for a minimum of 4 hours post head injury. If the GCS drops less than 15 OR if there is further vomiting OR further episodes of abnormal drowsiness, he would require a CT scan within the hour.","If he had more than ONE risk factor, for example, if he had a loss of consciousness for more than 5 minutes AND amnesia lasting more than 5 minutes, then he would be a candidate for a CT scan within the hour.","A good summary of risk factors and action plans can be found on NICE CKS here:","https://www.nice.org.uk/guidance/cg176/resources/imaging-algorithm-pdf-498950893"],explanation_detail:["<strong>Why the answer is correct:</strong> NICE head injury guidance for children (<16 years) recommends <strong>observation for at least 4 hours</strong> when there is a single intermediate‑risk factor (e.g., amnesia >5 minutes) and GCS 15 with a normal examination. During observation, if GCS falls <15, vomiting recurs, or abnormal drowsiness develops, perform a CT head within 1 hour.","<strong>Why the other options are wrong:</strong> A) CT within 1 hour is indicated when there are <em>two or more</em> intermediate‑risk factors or high‑risk features (e.g., suspected skull fracture, focal deficit, seizure, GCS <14). With only one risk factor, immediate CT is not required. B) MRI is not used acutely for minor head injury. D) 24‑hour observation is unnecessary if the child remains well after the recommended 4‑hour period. E) Immediate discharge is unsafe because a period of ED observation is mandated with any risk factor.","<strong>Management/algorithm:</strong> <ul><li>Observe in ED for ≥4 hours with neuro‑obs (GCS, HR, RR, BP, SpO₂, pain, behaviour).</li><li>CT head within 1 hour if deterioration: GCS <15, further vomiting, or increasing drowsiness; also if a second risk factor emerges.</li><li>If remains well after observation: discharge with head‑injury advice, responsible adult supervision, and return precautions.</li><li>Consider safeguarding and helmet/road safety counselling.</li></ul>","<strong>Exam takeaway:</strong> Child with minor head injury and a <strong>single</strong> risk factor (e.g., amnesia >5 min, GCS 15) → <strong>observe for ≥4 hours</strong>; escalate to CT only if additional risk factors or deterioration occur."]},{id:"EM-0590",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Unresponsive trauma patient — first action",stem:"A 24-year-old man is brought to the Emergency Department after being punched while under police custody. He is now <strong>cyanosed</strong> and <strong>unresponsive</strong>. On assessment there are <strong>absent breath sounds</strong>. What is the SINGLE most appropriate initial action?",options:[{key:"A",text:"IV fluids"},{key:"B",text:"Clear airway"},{key:"C",text:"Turn patient and put in recovery position"},{key:"D",text:"Give 100% oxygen"},{key:"E",text:"Analgesia"}],correct:"B",explanation_plabable:["In this question, the examiners want you to know the basics of life-threatening emergencies. ABC - airway, breathing, circulation should always be addressed first.","You would turn the patient in a recovery position if the patient has decreased level of responsiveness, breathing and does not meet the criteria for rescue breaths or CPR. This patient here is not breathing or responsive."],explanation_detail:["<strong>Why the answer is correct:</strong> In an unresponsive, apnoeic trauma patient the immediate priority is the <strong>airway</strong>. Open and clear the airway (suction, remove visible obstruction) while maintaining cervical spine alignment; perform a jaw thrust (or head‑tilt–chin‑lift if no concern for C‑spine). Only after an airway is established can effective ventilation and oxygenation occur.","<strong>Why the other options are wrong:</strong> A) IV fluids address circulation but will not treat apnoea; airway/ventilation must precede circulation. C) Recovery position is for patients who are breathing spontaneously and do not need rescue breaths or CPR; inappropriate in an apnoeic patient. D) Administering oxygen is ineffective if the airway is obstructed; ventilate with a bag‑valve mask <em>after</em> opening the airway. E) Analgesia is irrelevant in an unresponsive apnoeic patient and may depress respiration.","<strong>Management/algorithm:</strong> <ul><li>Shout for help; apply basic monitoring.</li><li>Open/clear airway with jaw thrust and suction; insert an oropharyngeal airway if tolerated while maintaining C‑spine.</li><li>Assess breathing: if not breathing normally, deliver <strong>bag‑valve‑mask ventilation with 100% oxygen</strong>; check for signs of life and pulse, and start CPR per ALS if pulseless.</li><li>Escalate to advanced airway (e.g., intubation) and definitive trauma management as required.</li></ul>","<strong>Exam takeaway:</strong> In any collapsed patient, follow <strong>ABC</strong>—<em>open/clear the airway first</em>; oxygen and fluids are useless until the airway is patent and the patient is ventilated."]},{id:"EM-1253",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Coughing, cyanosis and urticaria after food exposure",stem:"An 8-year-old boy is rushed into A&E coughing, cyanosed and with an urticarial rash. His mother reports that he began to cough shortly after eating a cookie at a garden party. What is the SINGLE most likely diagnosis?",options:[{key:"A",text:"Aspiration of food"},{key:"B",text:"Allergic reaction"},{key:"C",text:"Diffuse oesophageal spasm"},{key:"D",text:"Tracheoesophageal fistula"},{key:"E",text:"Achalasia"}],correct:"B",explanation_plabable:["This boy is having anaphylaxis which is a type of allergic reaction.","","The other options are far less likely:","","Aspiration of food → Although this makes sense and many will choose this, aspiration of food will not account for the urticarial rash seen on this boy.","","Diffuse oesophageal spasm → Usually presents with intermittent chest pain and dysphagia. The pain can simulate that of a myocardial infarction, but it bears no relationship with exertion. There is no relationship with eating, ruling out odynophagia. The pain can be precipitated by drinking cold liquids.","","Tracheoesophageal fistula → Is suggested in a newborn by copious salivation associated with choking, coughing, vomiting, and cyanosis coincident with the onset of feeding.","","Achalasia → Presents with slowly progressive dysphagia. Initially worse for liquids than solids. Frequent regurgitation of undigested food is common in late disease. Secondary recurrent respiratory infections can occur due to aspiration. Achalasia cannot present suddenly like in this scenario."],explanation_detail:["<strong>Why the answer is correct:</strong> Sudden respiratory symptoms after food exposure with an urticarial rash are classic for an <strong>allergic reaction</strong> (anaphylaxis if airway/breathing/circulation involvement). Food triggers are common in children; coughing and cyanosis indicate respiratory involvement, and the cutaneous features (urticaria) rule against simple aspiration.","<strong>Why the other options are wrong:</strong> Aspiration does not cause urticaria. Diffuse oesophageal spasm causes intermittent chest pain/dysphagia unrelated to exertion or meals and is precipitated by cold drinks. Tracheoesophageal fistula typically presents in the neonatal period with choking/cyanosis with feeds. Achalasia causes chronic, progressive dysphagia and regurgitation—not an acute presentation immediately after a cookie.","<strong>Management/algorithm:</strong> <ul><li>Assess <strong>ABC</strong>; if anaphylaxis, give <strong>IM adrenaline 1:1000</strong> (6–12 years: 0.3 mg), call for help, lie flat with legs raised, give high‑flow oxygen.</li><li>Establish IV access and give fluid bolus if hypotensive.</li><li>Adjuncts after adrenaline: chlorphenamine and hydrocortisone; consider nebulised bronchodilator for wheeze.</li><li>Observe for biphasic reactions and provide allergy advice and referral on discharge.</li></ul>","<strong>Exam takeaway:</strong> Food exposure + acute cough/respiratory compromise + urticaria = <strong>allergic reaction/anaphylaxis</strong>, not aspiration or chronic oesophageal pathology."]},{id:"EM-4315",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Sepsis with lactic acidosis — immediate next step",stem:"A 46-year-old man presents to the Emergency Department with breathlessness and fever after several days of cough. He feels very short of breath on exertion. <br/><br/><strong>Observations:</strong> Temp <strong>40.3°C</strong>, HR <strong>120 bpm</strong>, BP <strong>110/80 mmHg</strong>, RR <strong>26/min</strong>, SpO₂ <strong>96%</strong> on <strong>15 L</strong> oxygen via non-rebreathe mask. Intravenous Hartmann's solution has been started. <br/><br/><strong>ABG:</strong><br/>pH: <strong>7.21</strong> (7.35–7.45)<br/>PaO₂: <strong>11 kPa</strong> (10–14)<br/>PaCO₂: <strong>3.5 kPa</strong> (4.7–6.0)<br/>Bicarbonate: <strong>17 mmol/L</strong> (22–26)<br/>Lactate: <strong>9 mmol/L</strong> (2–4)<br/>Base excess: <strong>−4 mmol/L</strong> (± 2)<br/><br/>What is the SINGLE most appropriate management?",options:[{key:"A",text:"Intravenous antibiotics"},{key:"B",text:"High flow oxygen"},{key:"C",text:"Intravenous sodium bicarbonate"},{key:"D",text:"Intravenous sodium chloride"},{key:"E",text:"Intermittent positive-pressure ventilation (IPPV)"}],correct:"A",explanation_plabable:["This question tests your knowledge of sepsis 6.","","Sepsis Six → Take 3, Give 3","","Take 3","• Blood cultures","• FBC, urea and electrolytes, clotting, lactate","• Start monitoring urine output","","Give 3","• High flow oxygen","• Intravenous fluid challenge","• Intravenous antibiotics","","As he is saturating fine on 15 litres of oxygen and intravenous fluids have been started, the next item to give is intravenous antibiotics.","","His arterial blood gas shows evidence of metabolic acidosis, likely from increased acid load due to sepsis. The pH is < 7.35, bicarbonates are low, base excess is < -2 and lactate is high. There is some compensatory hypocarbia which is the reason that the pCO2 is low. It is more important to treat the cause of metabolic acidosis first rather than administer sodium bicarbonate."],explanation_detail:["<strong>Why the answer is correct:</strong> This man meets criteria for sepsis with raised lactate (9 mmol/L) and metabolic acidosis. Two elements of the Sepsis Six bundle have already been started (oxygen and IV fluids), so the next immediate action is to <strong>administer IV broad‑spectrum antibiotics within 1 hour</strong> of recognising sepsis. Early antibiotics reduce mortality and target the source (likely pneumonia).","<strong>Why the other options are wrong:</strong> B) High‑flow oxygen is already being delivered. C) Sodium bicarbonate does not treat the cause of lactic acidosis and is not routinely indicated; priority is source control and perfusion. D) Additional sodium chloride beyond guided fluid resuscitation is not the next step once fluids are running. E) IPPV is reserved for ventilatory failure; his PaO₂ is acceptable on supplemental oxygen and the problem is sepsis with lactic acidosis, not primary ventilatory failure.","<strong>Management/algorithm:</strong> <ul><li>Implement <strong>Sepsis Six</strong> within 1 hour: <em>Take</em> blood cultures, bloods (FBC/U&E/coag/lactate), and start urine output monitoring; <em>Give</em> high‑flow oxygen, IV fluid bolus (e.g., crystalloid 500 mL–1 L then reassess), and <strong>IV antibiotics</strong>.</li><li>Repeat lactate, review for source (e.g., CXR, cultures), and escalate to critical care if persistent hypotension/lactate ≥4 despite fluids.</li><li>Aim to treat metabolic acidosis by restoring perfusion and treating infection rather than with bicarbonate.</li></ul>","<strong>Exam takeaway:</strong> In a septic patient already on oxygen and fluids, the next lifesaving step is <strong>IV antibiotics within the first hour</strong>; treat the cause of acidaemia rather than giving bicarbonate."]},{id:"EM-0561",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Panic-driven hyperventilation — immediate intervention",stem:"A 22-year-old man is rushed into the Emergency Department describing recurrent episodes of fearfulness with palpitations, peri-oral tingling and cramping of the hands. Each episode lasts 5–10 minutes. He worries he is having a heart attack. An ECG shows <em>sinus tachycardia</em>. His respiratory rate is <strong>34/min</strong>; he is otherwise haemodynamically stable. What is the SINGLE most appropriate immediate intervention?",options:[{key:"A",text:"High flow oxygen"},{key:"B",text:"Intravenous sedation"},{key:"C",text:"Rebreath into a paper bag"},{key:"D",text:"Alprazolam"},{key:"E",text:"Refer to cardiac team urgently"}],correct:"C",explanation_plabable:["Hyperventilation is an abnormally increased pulmonary ventilation. Patients with hyperventilation syndrome may feel that they are not able to breathe sufficient air. In reality their oxygenation in the arterial blood is within normal limits. Due to the rapid breathing, carbon dioxide levels fall which results in respiratory alkalosis","","The complaint is usually of a paroxysmal nature rather than continuous. Patient may report breathlessness, followed by paraesthesia and/or tetany in fingers, distal limbs, mouth. Some patients report chest pain. Palpitations, wheezing and sweating are also seen. This may be accompanied by a panic attack. If this becomes more severe, arterial hypocapnia may trigger cerebral vessel vasoconstriction leading to dizziness, faintness, headaches and lose consciousness. After losing consciousness, breathing and blood gases return to normal which restores cerebral blood flow. The patient would shortly recover after that.","","Management includes rebreathing into the paper bag to terminate the attack. Other methods include deliberately slowing down the breathing rate.","","Medications can also be used. Benzodiazepines can be used in the acute situation if severe. Use only occasionally, as there is the potential for sedation and dependence. Propranolol may be of value if asthma has been excluded.","","Further reading:","http://www.gpnotebook.co.uk/simplepage.cfm?ID=798621724&linkID=18810&cook=yes","https://patient.info/doctor/hyperventilation"],explanation_detail:["<strong>Why the answer is correct:</strong> The presentation is classic for <em>hyperventilation syndrome</em> during a panic attack: tachypnoea, paraesthesiae and carpopedal spasm from respiratory alkalosis. The quickest way to terminate the episode in exam settings is to <strong>rebreath into a paper bag</strong> (or coach slow breathing), increasing inspired CO₂ and reversing alkalosis.","<strong>Why the other options are wrong:</strong> A) High‑flow oxygen does not treat alkalosis and may worsen symptoms by lowering drive to slow breathing. B) IV sedation is unnecessary and potentially harmful in a stable patient. D) Alprazolam is not first‑line for an acute episode in ED due to dependence and sedation risks. E) Urgent cardiology referral is inappropriate with a normal ECG (sinus tachycardia) and a clear functional diagnosis.","<strong>Management/algorithm:</strong> <ul><li>Reassure, coach slow diaphragmatic breathing (e.g., 4–6 breaths/min) or brief paper‑bag rebreathing if appropriate.</li><li>Exclude red flags: hypoxia, asthma attack, PE, metabolic causes; check sats and consider ABG if unclear.</li><li>If severe/distressing and not settling, consider a short‑acting benzodiazepine in the acute setting.</li><li>Arrange follow‑up for anxiety management (CBT, SSRIs) and trigger avoidance/education.</li></ul>","<strong>Exam takeaway:</strong> Hyperventilation with tingling and carpopedal spasm from respiratory alkalosis → <strong>rebreath into a paper bag / coached slow breathing</strong> as the immediate step once serious causes are excluded."]},{id:"EN-0653",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Unconscious hypoglycaemia — no IV access",stem:"A 47-year-old man with type 2 diabetes is found <strong>unconscious</strong> on the floor by his partner. Paramedics report capillary blood glucose <strong>1.2 mmol/L</strong>. He takes insulin, metformin and linagliptin; no other medical problems are known. He is profusely sweating and then develops a <strong>generalised seizure</strong>. He currently has <strong>no intravenous access</strong>. What is the SINGLE most appropriate management?",options:[{key:"A",text:"Administer intramuscular glucagon 1 mg"},{key:"B",text:"Administer 4 g of oral glucose gel"},{key:"C",text:"Administer 75 mL of 20% glucose intravenously"},{key:"D",text:"Administer Actrapid 10 units subcutaneously"},{key:"E",text:"Administer subcutaneous 0.9% normal saline"}],correct:"A",explanation_plabable:["He is hypoglycaemic. As he is unconscious, either IM glucagon or obtaining intravenous access to deliver intravenous glucose is an option. In this particular case, it is less appropriate to insert an intravenous line since he is having a seizure which would make it difficult.","","A side note: Even if the patient is not experiencing seizures, we (Plabable) recommend picking intramuscular glucagon for any hypoglycaemic unconscious patient who does not have intravenous access.","","The dose to give for intramuscular glucagon is 1 mg.","","Oral glucose gel should never be used in the unconscious patient."],explanation_detail:["<strong>Why the answer is correct:</strong> This patient has severe hypoglycaemia with loss of consciousness and seizure activity. Without IV access, the fastest, safest reversal is <strong>IM glucagon 1 mg</strong>, which promotes hepatic glycogenolysis and gluconeogenesis. IV dextrose is first‑line when a cannula is in situ, but attempting cannulation during a seizure risks delay and injury.","<strong>Why the other options are wrong:</strong> B) Oral glucose gel is <em>contraindicated</em> in an unconscious patient due to aspiration risk. C) IV 20% glucose would be appropriate if IV access were available; it is not feasible immediately here. D) Insulin would worsen hypoglycaemia. E) Subcutaneous saline has no role in treating hypoglycaemia.","<strong>Management/algorithm:</strong> <ul><li>ABCDE; secure airway during seizure; check capillary glucose.</li><li>If conscious and able to swallow: give 15–20 g rapid‑acting carbohydrate orally; recheck glucose in 10–15 min.</li><li>If <strong>unconscious/no IV access</strong>: give <strong>IM glucagon 1 mg</strong> (child dose weight‑adjusted); once alert, give long‑acting carbohydrate snack/meal.</li><li>If <strong>IV access</strong>: give <strong>IV dextrose</strong> (e.g., 10% 150 mL or 20% 75 mL) and repeat as needed; consider continuous 10% dextrose infusion for sulfonylurea‑related or recurrent episodes with octreotide where indicated.</li><li>Identify the cause (missed meal, excess insulin, renal impairment, alcohol) and observe with repeat glucose checks; safety‑net prior to discharge.</li></ul>","<strong>Exam takeaway:</strong> Unconscious hypoglycaemia <strong>without IV access</strong> → give <strong>IM glucagon 1 mg</strong>; do not give oral glucose to an unconscious patient; switch to IV dextrose once access is obtained."]},{id:"EM-3111",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Road traffic accident — first ABC step",stem:"A 34-year-old man was involved in a road traffic accident. He was the driver and reportedly wore a seatbelt. At the scene he was initially alert and oriented but complained of chest pain. On arrival to the Emergency Department he has a Glasgow Coma Scale (GCS) of <strong>14</strong> (E4, V5, M5). Over the next 25 minutes his GCS deteriorates to <strong>10</strong> (E3, V3, M4). His respiratory rate increases from <strong>23</strong> to <strong>35/min</strong>. On examination there is superficial bruising across the chest, likely from the seatbelt, with no obvious deformities. He appears anxious and is using accessory muscles. <br/><br/><strong>Observations:</strong> HR <strong>110 bpm</strong>, BP <strong>110/80 mmHg</strong>. His oxygen saturation drops from <strong>95%</strong> to <strong>88%</strong>. Which is the most important immediate action?",options:[{key:"A",text:"Assess for spinal cord injury"},{key:"B",text:"Perform a needle thoracocentesis"},{key:"C",text:"Administer 100% oxygen"},{key:"D",text:"Request a portable X-ray"},{key:"E",text:"Administer intravenous analgesia"}],correct:"C",explanation_plabable:["Administering 100% oxygen would help combat the hypoxia. In the initial management of trauma patients, the basic ABCs (Airway, Breathing, Circulation) are followed.","","There are several differential diagnoses that can explain his symptoms. Traumatic brain injury, pulmonary contusion, pneumothorax, hypovolemic shock, and fat embolism are some potential differentials. In any case, oxygen should be administered first.","","One would not do a needle thoracocentesis unless there were clinical features of a tension pneumothorax like a deviated trachea."],explanation_detail:["<strong>Why the answer is correct:</strong> This trauma patient is acutely hypoxic (SpO₂ falling to 88%) and tachypnoeic with deteriorating consciousness. Following <strong>ABC</strong>, the immediate intervention is to improve oxygenation with <strong>high‑concentration oxygen</strong> (e.g., non‑rebreathe mask). Treating hypoxia prevents secondary brain injury and buys time to identify causes (lung injury, pneumothorax, aspiration, shock).","<strong>Why the other options are wrong:</strong> A) A focused spinal assessment is important but does not treat life‑threatening hypoxia. B) Needle thoracocentesis is indicated when there are signs of <em>tension</em> pneumothorax (e.g., tracheal deviation, severe respiratory distress with hypotension) — not simply hypoxia without those signs. D) A portable X‑ray helps identify injuries but must not delay immediate oxygenation. E) Analgesia is supportive but not the priority in a decompensating, hypoxic patient.","<strong>Management/algorithm:</strong> <ul><li>Deliver 15 L oxygen via non‑rebreathe mask while maintaining C‑spine precautions.</li><li>Reassess ABCs; obtain IV access, send bloods, and begin trauma evaluation (eFAST/CXR) once the patient is oxygenated.</li><li>If clinical features of tension pneumothorax appear, perform immediate decompression followed by chest drain.</li><li>Continue monitoring; treat underlying causes (e.g., pulmonary contusion, haemothorax, pneumothorax, shock) and escalate to trauma/critical care.</li></ul>","<strong>Exam takeaway:</strong> In trauma with new hypoxia, follow <strong>ABC</strong> — give <strong>100% oxygen first</strong>; imaging and procedures come after stabilising airway and breathing."]},{id:"CG-0010",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Found outdoors in winter — next step",stem:"A 78-year-old man is brought to the Emergency Department after being found unresponsive in his garden during a cold winter evening. Paramedics report he was lying in the snow; the ambient temperature was around <strong>−5°C</strong>. On arrival his <strong>core temperature is 30°C</strong>. He is stuporous, barely responsive to stimuli, and shivering. Breathing is slow and the pulse is weak but regular. Initial measures have included airway protection, removal of wet clothing, passive external rewarming, and intravenous access. What is the most appropriate next step in management?",options:[{key:"A",text:"Administer heated intravenous fluids"},{key:"B",text:"Continue passive external rewarming only"},{key:"C",text:"Start broad-spectrum antibiotics"},{key:"D",text:"Transfer to a general ward for observation"},{key:"E",text:"Administer intramuscular corticosteroids"}],correct:"A",explanation_plabable:["This patient requires aggressive treatment. Heated intravenous fluids will help raise the core temperature from the inside, which is essential in treating severe hypothermia."],explanation_detail:["<strong>Why the answer is correct:</strong> A core temperature of <strong>30°C</strong> with reduced consciousness indicates at least moderate hypothermia requiring <em>active internal rewarming</em>. Warmed IV crystalloid (e.g., 0.9% saline warmed to 38–42°C) augments core temperature, treats cold‑induced hypovolaemia, and supports perfusion. Passive measures alone are insufficient at this temperature and physiology.","<strong>Why the other options are wrong:</strong> B) Passive external rewarming alone (blankets, warm environment) is inadequate for core temp 28–32°C with depressed mental status. C) Antibiotics may be needed if sepsis is suspected but will not correct hypothermia and are not the immediate step. D) He requires resuscitation bay/ICU‑level monitoring and active rewarming, not routine ward observation. E) Corticosteroids have no role in primary hypothermia management.","<strong>Management/algorithm:</strong> <ul><li>Handle gently; continuous ECG and core temperature monitoring; avoid unnecessary movement (risk of arrhythmias/afterdrop).</li><li>Active internal rewarming: <strong>warmed IV fluids</strong> 38–42°C; warmed humidified oxygen; consider bladder, gastric, or peritoneal lavage if refractory/severe.</li><li>Active external rewarming: forced‑air warming device after wet clothes removed.</li><li>Defibrillation and drugs may be less effective at &lt;30°C; focus on rewarming. Treat hypoglycaemia and electrolyte disturbances.</li><li>Search for precipitating causes (exposure, intoxication, infection) once stabilised.</li></ul>","<strong>Exam takeaway:</strong> Core temp ~30°C with reduced responsiveness = escalate from passive to <strong>active internal rewarming</strong> — start <strong>warmed IV fluids</strong> (and other warming measures) urgently."]},{id:"CS-1505",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Agitation, rhinorrhoea and mydriasis — withdrawal cause",stem:"A 34-year-old man presents to the Emergency Department with agitation, severe muscle cramps and intense anxiety. He reports <strong>insomnia for the past 24 hours</strong>. He has persistent <strong>rhinorrhoea</strong> and <strong>lacrimation</strong>, is <strong>diaphoretic</strong> and has <strong>dilated pupils</strong>. <br/><br/><strong>Observations:</strong> HR <strong>112 bpm</strong>, BP <strong>138/86 mmHg</strong>, RR <strong>22/min</strong>, Temp <strong>37.3°C</strong>, SpO₂ <strong>98%</strong> on air. The team suspects these symptoms are due to drug withdrawal. Which drug withdrawal is the most likely cause of his symptoms?",options:[{key:"A",text:"Alcohol"},{key:"B",text:"Benzodiazepines"},{key:"C",text:"Codeine"},{key:"D",text:"Heroin"},{key:"E",text:"Cannabis"}],correct:"D",explanation_plabable:["Heroin withdrawal is the most likely cause of the patient's symptoms. Heroin is a short-acting opioid, and when a person abruptly stops using it, withdrawal symptoms can appear within 6-12 hours after the last dose, peaking at around 1-3 days. Typical signs of heroin withdrawal include agitation, anxiety, muscle cramps, sweating, dilated pupils (mydriasis), insomnia, rhinorrhoea and lacrimation, all of which match the presentation in this case.","","The tip here is to look for rhinorrhoea and lacrimation. These two features in the exam are highly suggestive of heroin withdrawal.","","The other options are incorrect:","","Benzodiazepine, codeine, and alcohol withdrawal are not typically associated with pupillary dilatation as a prominent feature."],explanation_detail:["<strong>Why the answer is correct:</strong> The triad of <strong>rhinorrhoea</strong>, <strong>lacrimation</strong> and <strong>mydriasis</strong> with diaphoresis, anxiety and cramps strongly indicates <strong>opioid withdrawal</strong>. With onset around 6–12 hours and intense symptoms, the most likely culprit is short‑acting heroin. Other classic signs include yawning, piloerection, abdominal cramps, vomiting and diarrhoea.","<strong>Why the other options are wrong:</strong> A) Alcohol withdrawal usually presents 6–24 h after last drink with tremor, agitation, autonomic hyperactivity and, later, seizures or delirium tremens—rhinorrhoea/lacrimation with marked mydriasis are not typical. B) Benzodiazepine withdrawal causes anxiety, insomnia and tremor, sometimes seizures, but not the autonomic features seen here. C) Codeine is an opioid, but dependence on short‑acting heroin classically produces the abrupt, severe syndrome described; codeine withdrawal is typically milder and less likely in exam settings. E) Cannabis withdrawal is generally mild (irritability, insomnia, reduced appetite) without pronounced autonomic features or mydriasis.","<strong>Management/algorithm:</strong> <ul><li>Assess ABC; exclude alternative causes (sepsis, thyrotoxicosis, stimulant intoxication).</li><li>Symptomatic relief: antiemetics, antidiarrhoeals, NSAIDs; consider <strong>clonidine/lofexidine</strong> for autonomic symptoms.</li><li>Initiate <strong>opioid substitution therapy</strong> (e.g., <em>buprenorphine</em> induction guided by the Clinical Opiate Withdrawal Scale; methadone alternative) and refer to addiction services.</li><li>Provide psychosocial support, harm‑reduction advice (take‑home naloxone for overdose prevention), and arrange follow‑up.</li></ul>","<strong>Exam takeaway:</strong> Acute agitation with <strong>rhinorrhoea + lacrimation + mydriasis</strong> after cessation of an opioid → think <strong>heroin withdrawal</strong> (short‑acting opioid; onset 6–12 h, peaks 1–3 days)."]},{id:"EM-4200",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Head injury on warfarin — first action",stem:"A 65-year-old man is brought to the Emergency Department after a fall with a head injury. He was found <strong>unconscious</strong> at home and brought in by family. He takes <strong>warfarin</strong> for atrial fibrillation. On arrival he is confused with a <strong>GCS of 13</strong>. His oxygen saturation is <strong>82% on room air</strong>. Which of the following is the most appropriate next action?",options:[{key:"A",text:"Administer intravenous fluid"},{key:"B",text:"Administer prothrombin complex concentrate (PCC)"},{key:"C",text:"Administer oxygen"},{key:"D",text:"Neck immobilisation"},{key:"E",text:"Surgical evacuation of the haematoma"}],correct:"C",explanation_plabable:["This patient is hypoxic. Going back to your basics (ABCDE), you would like to be sure that he is on oxygen. Providing supplemental oxygen helps increase oxygen saturation and improves tissue perfusion, thereby reducing the risk of further brain injury (if there is a haematoma and oedema) and promoting optimal recovery. It is used as part of the overall management strategy, but of course, he would need to undergo a CT scan of his head to look for any intracranial bleeding and have further management after.","","The other options are incorrect.","","PCC is a blood product that contains clotting factors. It can be given in major bleeds in patients taking warfarin; however, there is no evidence of a major bleed. He may or may not have an intracranial bleed, but this has yet to be confirmed.","","There is no concern about a cervical spine injury, so there is no need to immobilise the neck.","","Intravenous fluids may be necessary for resuscitation to maintain his blood pressure, but his blood pressure is not mentioned.","","Surgical evacuation of the haematoma may be required in cases of significant intracranial bleeding causing mass effect or neurological deterioration, but it is not the initial intervention for hypoxia."],explanation_detail:["<strong>Why the answer is correct:</strong> The patient is profoundly hypoxic (SpO₂ 82% on air). Following <strong>ABCDE</strong>, the immediate life‑saving action is to restore oxygenation with high‑concentration oxygen (e.g., non‑rebreathe mask) while assessing airway and breathing. Early oxygenation reduces secondary brain injury risk in head trauma, especially in anticoagulated patients who may have intracranial bleeding.","<strong>Why the other options are wrong:</strong> A) IV fluids are for shock; hypotension is not stated and does not address hypoxia. B) PCC reverses warfarin in major/life‑threatening bleeding or before urgent neurosurgery; bleeding is not yet confirmed and oxygenation takes priority. D) No signs of cervical spine injury are given; immobilisation must not delay oxygenation. E) Surgical evacuation is considered once a space‑occupying haematoma is confirmed and after initial resuscitation; it is not the first step for hypoxia.","<strong>Management/algorithm:</strong> <ul><li>Give 15 L oxygen via non‑rebreathe mask; reassess airway, breathing and circulation.</li><li>Urgent CT head/neck per NICE head injury guidance; reverse anticoagulation if ICH confirmed or strongly suspected with clinical deterioration.</li><li>Maintain normotension and normoglycaemia; avoid hypoxia/hypotension (both worsen outcomes).</li><li>Early neurosurgical discussion if ICH or mass effect; monitor GCS and vital signs closely.</li></ul>","<strong>Exam takeaway:</strong> In head‑injured, hypoxic patients — <strong>oxygen first</strong> (ABC before specific interventions like PCC or surgery)."]},{id:"CB-2788",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Sharp chest pain with SOB — ECG diagnosis",stem:"A 34-year-old man presents to the Emergency Department with sudden-onset shortness of breath and central chest pain that began 3 hours ago. The chest pain is sharp. His breathlessness has gradually worsened over the last hour. On examination he is uncomfortable but alert and oriented. <br/><br/><strong>Observations:</strong> RR <strong>24/min</strong>, SpO₂ <strong>98%</strong> on air, HR <strong>110 bpm</strong>, BP <strong>126/84 mmHg</strong>. An ECG is performed and shown below.",image:"/pericarditis_widespread_st_elevation.jpg",options:[{key:"A",text:"Pleurisy"},{key:"B",text:"Myocardial infarction"},{key:"C",text:"Pericarditis"},{key:"D",text:"Pulmonary embolism"},{key:"E",text:"Pneumothorax"}],correct:"C",explanation_plabable:["The ECG findings of widespread ST-segment elevation are characteristic of acute pericarditis, distinguishing it from acute coronary syndrome or pulmonary embolism.","","Reference:","Image by:","By James Heilman, MD - Own work, CC BY-SA 4.0,","https://commons.wikimedia.org/w/index.php?curid=49061305"],explanation_detail:["<strong>Why the answer is correct:</strong> The ECG shows <strong>widespread concave ST-segment elevation</strong> (diffuse across limb and precordial leads) with possible PR-segment depression — the classic pattern of <em>acute pericarditis</em>. Unlike STEMI, there is no territorial pattern or reciprocal ST-depression (except possibly in aVR/V1). The sharp pleuritic pain with tachycardia also fits.","<strong>Why the other options are wrong:</strong> A) Isolated pleurisy would not cause diffuse ST elevation. B) Acute myocardial infarction produces regional ST elevation with reciprocal depression corresponding to a single coronary territory, not diffuse changes. D) Pulmonary embolism shows sinus tachycardia, right heart strain (S1Q3T3), or T-wave inversion in V1–V3 rather than global ST elevation. E) Pneumothorax causes pleuritic pain and dyspnoea but ECG changes are non‑specific and not diffuse ST elevation.","<strong>Management/algorithm:</strong> <ul><li>Pain control: <strong>NSAID (e.g., ibuprofen)</strong> plus <strong>colchicine</strong> for 3 months if idiopathic/viral.</li><li>Investigations: troponin (to assess myopericarditis), inflammatory markers, echocardiography for effusion, CXR; screen for secondary causes (infection, autoimmune, uraemia).</li><li>Red flags needing admission/urgent echo: fever >38°C, large effusion/tamponade, immunosuppression, trauma, raised troponin/arrhythmias, anticoagulation, or failure to respond to NSAIDs in 1 week.</li><li>Advise rest and avoid anticoagulation unless otherwise indicated.</li></ul>","<strong>Exam takeaway:</strong> Diffuse concave ST elevation ± PR depression on ECG with pleuritic chest pain → <strong>acute pericarditis</strong>, not STEMI or PE."]},{id:"HC-0025",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Severe hyperkalaemia with ECG changes — next step",stem:"A 48-year-old man being evaluated for hypertensive retinopathy in the eye clinic is referred to the Emergency Department for insidious, progressive onset of nausea, drowsiness and palpitations. Apart from hypertension, he has no other significant past medical history. An ECG shows <strong>tall tented T waves</strong>, <strong>flattened P waves</strong> and <strong>widened QRS</strong>. <br/><br/><strong>Investigations:</strong><br/>Sodium: <strong>142 mmol/L</strong> (135–145)<br/>Potassium: <strong>7.1 mmol/L</strong> (3.5–5.5)<br/>Blood glucose: <strong>5.2 mmol/L</strong><br/><br/>IV calcium chloride has been given. Senior help is on the way. What is the SINGLE most appropriate <em>next</em> step in his management?",options:[{key:"A",text:"IV Actrapid insulin 10 units with 50 mL of 50% dextrose"},{key:"B",text:"IV Actrapid insulin 10 units with 50 mL of 5% dextrose"},{key:"C",text:"IV Actrapid insulin 50 units with 50 mL of 50% dextrose"},{key:"D",text:"IV Actrapid insulin 50 units with 50 mL of 5% dextrose"},{key:"E",text:"IV Actrapid insulin 10 units with 50 mL of 0.9% sodium chloride"}],correct:"A",explanation_plabable:["This patient who is likely on potentially long term antihypertensive therapy has now presented with severe hyperkalaemia (plasma K > 6.5 mmol/L and/or ECG changes). The initial urgent management includes IV calcium gluconate 10% to protect against myocardial excitability. If this is not available as in this case, then IV calcium chloride is a suitable alternative.","The next step in severe hyperkalaemia should aim at immediately relocating the potassium from the blood into the cells through the administration of IV short-acting insulin and dextrose according to bedside glucose levels.","Blood glucose in normal range (as in this question):","• 10 units of soluble, short-acting (Actrapid) insulin with 50 ml dextrose 50% given over 5 to 15 minutes","• Followed by 500 ml dextrose 10% over 12 hours","Blood glucose HIGH (more than 11.1 mmol/L in non-diabetics)","• 10 units of soluble, short-acting (Actrapid) insulin with 50 ml sodium chloride 0.9% given over 5 to 15 minutes","• Only once glucose levels normalise, give 500 ml dextrose 10% over 12 hours","Serum potassium is to be checked after each insulin infusion is completed until levels return to normal.","In the exam, they may give the options of different insulin brand names so it is worth familiarising yourself with this and remembering that Actrapid (soluble, short-acting insulin) is used for the treatment of hyperkalaemia.","Further reading:","https://bnf.nice.org.uk/treatment-summary/fluids-and-electrolytes.html","https://patient.info/doctor/hyperkalaemia-in-adults#nav-5"],explanation_detail:["<strong>Why the answer is correct:</strong> The patient has <strong>severe hyperkalaemia</strong> (K⁺ 7.1 mmol/L) with ECG changes. After membrane stabilisation with IV calcium, the next priority is to <em>shift K⁺ intracellularly</em>. With a <strong>normal bedside glucose (5.2 mmol/L)</strong>, give <strong>10 units IV Actrapid with 50 mL of 50% dextrose</strong> over 5–15 minutes, then start 10% dextrose infusion to avoid hypoglycaemia. This rapidly lowers serum potassium by driving K⁺ into cells via insulin‑stimulated Na⁺/K⁺‑ATPase.","<strong>Why the other options are wrong:</strong> B) 5% dextrose contains too little glucose to protect against insulin‑induced hypoglycaemia and is not the recommended bolus. C/D) 50 units is a dangerous overdose. E) Insulin with 0.9% saline is used when the blood glucose is already high (e.g., >11.1 mmol/L), not when it is normal as in this case.","<strong>Management/algorithm:</strong> <ul><li>ABCDE and cardiac monitoring; stop potassium‑raising drugs.</li><li>Stabilise myocardium: IV calcium gluconate 10% (or calcium chloride) — already given.</li><li>Shift K⁺ into cells: <strong>10 U Actrapid + 50 mL 50% dextrose</strong> over 5–15 min (if glucose normal/low) <em>or</em> Actrapid in 0.9% saline if glucose high; consider nebulised salbutamol and IV sodium bicarbonate if severe acidaemia.</li><li>Remove K⁺: potassium binders, loop diuretics, and <strong>urgent dialysis</strong> if refractory/renal failure.</li><li>Recheck K⁺ and glucose at 1 hour; continue monitoring to ensure sustained correction.</li></ul>","<strong>Exam takeaway:</strong> Severe hyperkalaemia after IV calcium → <strong>insulin + dextrose regimen</strong> tailored to bedside glucose (normal/low → 50 mL of 50% dextrose; high → 0.9% saline)."]},{id:"PY-1013",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Paracetamol overdose with uncertain timing — next step",stem:"An 18-year-old girl attends the Emergency Department following ingestion of more than several paracetamol tablets <strong>the day before</strong>. She cannot remember the exact time she took the tablets. She is extremely anxious but otherwise asymptomatic. She has no relevant past medical history. Weight <strong>55 kg</strong>. <br/><br/><strong>Observations:</strong> BP <strong>120/75 mmHg</strong>, HR <strong>105 bpm</strong>, SpO₂ <strong>99% on air</strong>. What is the SINGLE most appropriate next step?",options:[{key:"A",text:"Activated charcoal"},{key:"B",text:"Gastric lavage"},{key:"C",text:"N-acetylcysteine infusion"},{key:"D",text:"Discharge home"},{key:"E",text:"Psychiatric review"}],correct:"C",explanation_plabable:["N-acetylcysteine infusion should be started if there is doubt over the time of paracetamol ingestion, regardless of the plasma paracetamol concentration.","A common mistake seen is marking psychiatric review as an answer. One must remember, that paracetamol overdoses have to be medically cleared by the A&E doctor before the psych team would come to review them. Until she is given the correct treatment and her blood results have come back in addition to the medical team or the A&E team reviewing her and giving her the “all clear” can the psych team be involved.","The other options are incorrect:","Activated charcoal → should be considered if the overdose has been taken within 1 hour","Gastric lavage → Would always be the wrong answer when dealing with paracetamol poisoning. The British Poisons Centres only recommend the use of gastric lavage cases where medications have been ingested that activated charcoal would absorb poorly (eg iron, lithium) and for sustained-release formulations or enteric-coated tablets.","Discharge home → Only if ingestion of paracetamol is < 150mg/kg in a child/adult with no hepatic risk factors","Urgent liver function tests + clotting screen → often no change in these values acutely.","Psychiatric review → would be needed eventually but much later in the management"],explanation_detail:["<strong>Why the answer is correct:</strong> When the time of ingestion is unknown or presentation is >8 hours after ingestion, start <strong>N‑acetylcysteine (NAC)</strong> immediately rather than waiting for a level. NAC prevents and limits hepatic injury regardless of the measured concentration and is safe. Levels drawn at unknown times cannot be interpreted on the Rumack–Matthew nomogram.","<strong>Why the other options are wrong:</strong> A) Activated charcoal is only useful within ~1 hour of ingestion (longer for modified‑release or massive doses with expert advice). B) Gastric lavage is not recommended for paracetamol poisoning and carries aspiration risk. D) Discharge is unsafe without medical assessment/treatment and timed levels; unknown amount could exceed 150 mg/kg. E) Psychiatric review is essential <em>after</em> medical stabilisation and treatment, not before.","<strong>Management/algorithm:</strong> <ul><li>Start <strong>NAC infusion now</strong>; obtain paracetamol level, LFTs, U&E, INR and repeat as per protocol.</li><li>If timing later becomes clear and below treatment line with normal tests, NAC can be stopped per local policy.</li><li>Consider activated charcoal only if ingestion ≤1 hour and airway protected.</li><li>Monitor for nausea/anaphylactoid reactions to NAC; treat symptomatically and continue if possible.</li><li>Once medically stable, arrange <strong>liaison psychiatry</strong> assessment prior to discharge.</li></ul>","<strong>Exam takeaway:</strong> Paracetamol overdose with <strong>unknown timing</strong> → <strong>start NAC immediately</strong>; psychiatric review follows after medical clearance."]},{id:"EM-1152",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Road traffic accident with paradoxical respiration — first action",stem:"A 20-year-old man presents to A&E after severe injuries from a road traffic accident. He is breathless and has severe chest pain. <em>Paradoxical respiration</em> with shortness of breath is observed. <br/><br/><strong>Observations:</strong> SBP <strong>85 mmHg</strong>, RR <strong>25/min</strong>, SpO₂ <strong>88%</strong> on room air, HR <strong>110/min</strong>. What is the SINGLE most appropriate initial action?",options:[{key:"A",text:"Chest X-ray"},{key:"B",text:"Analgesia"},{key:"C",text:"High flow oxygen"},{key:"D",text:"Secure venous access"},{key:"E",text:"Refer to surgeon"}],correct:"C",explanation_plabable:["In this question, the examiners want you to know the basics of life-threatening emergencies. ABC - airway, breathing, circulation should always be addressed first.","","In reality, oxygen by mask, securing venous access and analgesia would all be done simultaneously. But for the purpose of this exam, we should know the steps according to NHS guidelines and British references. Thus, securing airways and giving oxygen would come before anything else.","","Remember ABC!"],explanation_detail:["<strong>Why the answer is correct:</strong> This polytrauma patient is hypoxic (SpO₂ 88%) with respiratory compromise (paradoxical breathing suggests flail chest). Following <strong>ABCDE</strong>, the first life‑saving action is to improve oxygenation with <strong>high‑flow oxygen</strong> (e.g., non‑rebreathe mask at 15 L/min) while you reassess airway and breathing. Early correction of hypoxia prevents secondary organ injury and buys time for definitive diagnosis/interventions.","<strong>Why the other options are wrong:</strong> A) Chest X‑ray helps identify rib fractures/haemothorax/pneumothorax but must not delay immediate oxygenation. B) Analgesia is important for ventilation but comes after stabilising airway/breathing. D) IV access is part of initial resuscitation but oxygenation/airway take priority when hypoxic. E) Surgical referral is appropriate after initial stabilisation and imaging; it is not the <em>first</em> step in a decompensating patient.","<strong>Management/algorithm:</strong> <ul><li>Deliver high‑flow oxygen and apply monitoring; maintain cervical spine precautions.</li><li>Assess for life‑threatening thoracic injuries (tension pneumothorax, open pneumothorax, massive haemothorax, flail chest) and treat immediately as indicated.</li><li>Establish IV access and begin fluid resuscitation if shocked; obtain ABG and trauma labs.</li><li>Analgesia (e.g., IV opioids); consider regional blocks if flail chest. Imaging (eFAST/CXR/CT) once stable.</li><li>Early senior/trauma team involvement; consider chest drain, non‑invasive ventilation or intubation if ventilation inadequate.</li></ul>","<strong>Exam takeaway:</strong> In trauma with hypoxia, follow <strong>ABC</strong>: oxygenation first — investigations and referrals follow once the patient is stabilised."]},{id:"EM-1895",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Sudden sharp chest pain with inter-arm BP difference",stem:"A 66-year-old man is brought to the Emergency Department complaining of severe substernal chest pain which started suddenly a few hours ago. The pain is described as <strong>sharp</strong>. There is no associated trauma. Past history: <strong>hypertension</strong>. His ECG shows <strong>ST elevation in two contiguous leads</strong>.<br/><br/><strong>Blood tests:</strong><br/>Troponin T: <strong>350 ng/L</strong> (&lt;12)<br/>D-dimer: <strong>1620 ng/mL</strong> (&lt;500)<br/><br/><strong>Examination:</strong> HR <strong>120 bpm</strong>; BP <strong>110/65 mmHg</strong> in the left arm and <strong>169/80 mmHg</strong> in the right arm; breath sounds normal bilaterally. What is the SINGLE most likely diagnosis?",options:[{key:"A",text:"Myocardial infarction"},{key:"B",text:"Thoracic aortic dissection"},{key:"C",text:"Pulmonary embolism"},{key:"D",text:"Myocardial ischaemia"},{key:"E",text:"Disseminated intravascular coagulation (DIC)"}],correct:"B",explanation_plabable:["The two top differentials, in this case, are acute aortic dissection and acute myocardial infarction. The chest pain from acute dissections is abrupt and is at its maximum from the time of onset. In comparison, the pain with acute myocardial infarctions occurs more slowly and gains intensity with time (usually a few hours). The pain from aortic dissection is typically described as a sharp or sometimes tearing or ripping is used. In contrast, the pain from a myocardial infarction is typically dull and crushing. Of course, clinically it is very difficult to differentiate the two purely based on the type of pain that the patient describes.","Troponins can be raised in aortic dissections and the fear with this fact is that junior doctors may be misled into thinking of the diagnosis of myocardial infarction only. Myocardial infarctions may develop due to an aortic aneurysm.","Aortic dissections can also raise a d-dimer level. D-dimers have low specificity so many conditions can raise it (e.g. malignancy, aortic dissections, sepsis, pregnancy, DVT, pulmonary embolism, etc).","There can also be a difference in blood pressure in limbs on the right side of the body compared with the left when a dissection occurs.","Hypertension is a risk factor for both aortic dissection and myocardial infarction, however, hypertension is probably the most common risk factor found in aortic dissection.","In a nutshell, an aortic dissection has all of the features in the stem and can result in a myocardial infarction. A myocardial infarction, on the other hand, has some of the features in the stem but CANNOT result in an aortic dissection."],explanation_detail:["<strong>Why the answer is correct:</strong> Sudden severe <em>sharp/tearing</em> chest pain, an inter‑arm blood pressure difference, and elevated D‑dimer strongly suggest <strong>thoracic aortic dissection</strong>. ST‑segment elevation and raised troponin may occur if the dissection involves the coronary ostia (classically right coronary → inferior changes), so a STEMI pattern does not exclude dissection. Treating as MI with thrombolysis/anticoagulation would be catastrophic.","<strong>Why the other options are wrong:</strong> A/D) Myocardial infarction/ischaemia usually presents with crushing pain and does not cause large inter‑arm BP differences; STEMI alone cannot explain the D‑dimer and pulse/BP asymmetry. C) Pulmonary embolism causes pleuritic pain, tachycardia and hypoxia; inter‑arm BP difference is atypical. E) DIC is a systemic coagulopathy with bleeding/consumption features, not isolated chest pain with asymmetric BPs.","<strong>Management/algorithm:</strong> <ul><li><strong>Do not anticoagulate</strong> until dissection is excluded.</li><li>Resuscitate with <strong>ABCDE</strong>; urgent <strong>CT aortography</strong> if stable (or bedside TTE/TOE if unstable).</li><li>Control pain and <strong>reduce shear stress</strong>: IV <em>labetalol</em> (or esmolol) to HR 60–80 bpm and SBP 100–120 mmHg; add vasodilator (e.g., GTN) after β‑blockade if further BP reduction needed.</li><li><strong>Type A</strong> (ascending) → emergency cardiothoracic surgery; <strong>Type B</strong> (descending) → medical management unless complications (malperfusion, rupture, refractory pain/HTN).</li><li>Monitor for complications (AR murmur, tamponade, stroke, AKI).</li></ul>","<strong>Exam takeaway:</strong> Inter‑arm BP difference + abrupt sharp/tearing pain ± diffuse ST changes or raised troponin → think <strong>aortic dissection</strong>; stabilise with BP/HR control and obtain urgent CT aortogram."]},{id:"EM-1990",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Chest trauma with dull percussion",stem:"A 21-year-old man is brought to the Emergency Department after a road traffic accident. He was stationary in his car when he was hit from the front by another car travelling at 70 miles/hour. He has chest pain and feels breathless. <br/><br/><strong>Observations:</strong> BP <strong>100/60 mmHg</strong>, HR <strong>110 beats/min</strong>, RR <strong>30/min</strong>, SpO₂ <strong>91%</strong> on air. On examination he is tender over the <strong>5th–7th left anterior ribs</strong>, has <strong>decreased breath sounds</strong> on the left, and <strong>dullness to percussion</strong> over the left chest. What is the SINGLE most likely diagnosis?",options:[{key:"A",text:"Haemothorax"},{key:"B",text:"Pulmonary oedema"},{key:"C",text:"Simple pneumothorax"},{key:"D",text:"Tension pneumothorax"},{key:"E",text:"Flail chest"}],correct:"A",explanation_plabable:["The presentation seen in haemothorax greatly resembles ones of traumatic pneumothorax with the exception of dullness on percussion over the affected lung (sometimes described as stony dullness).","An erect X-ray would show blunting of the hemidiaphragm similar to that of a pleural effusion.","Flail chest is incorrect. There would not be any dullness on percussion in the presentation of a flail chest. Commonly the flail segment moves in the opposite direction of the rest of the chest wall (paradoxical respiration)."],explanation_detail:["<strong>Why the answer is correct:</strong> Rib trauma with pleuritic pain, tachypnoea, <strong>reduced breath sounds</strong> and <strong>dull percussion</strong> classically indicates blood in the pleural space — a <strong>haemothorax</strong>. Pneumothorax causes <em>hyper‑resonance</em> rather than dullness. The localised rib tenderness (5th–7th left ribs) supports underlying pleural bleeding from rib fractures/intercostal vessels.","<strong>Why the other options are wrong:</strong> B) Pulmonary oedema presents with bilateral crackles and is not associated with unilateral dullness after trauma. C) Simple pneumothorax gives <em>hyper‑</em>resonant percussion with absent breath sounds; not dull. D) Tension pneumothorax also has hyper‑resonance with severe respiratory distress, hypotension and tracheal deviation. E) Flail chest produces paradoxical chest wall movement; percussion is typically normal, not dull.","<strong>Management/algorithm:</strong> <ul><li>ABCDE trauma approach with high‑flow O₂ and analgesia; IV access and bloods (group & save/cross‑match).</li><li>Confirm with <strong>eFAST/CXR</strong>. If significant/large haemothorax or respiratory compromise, perform <strong>tube thoracostomy</strong> (large‑bore chest drain).</li><li>Consider massive transfusion if shock; monitor output. <em>Thoracotomy</em> if immediate drain output &gt;1,500 mL or ongoing &gt;200 mL/hour for 2–4 hours.</li><li>Treat associated rib fractures; admit for observation and repeat imaging.</li></ul>","<strong>Exam takeaway:</strong> After blunt chest trauma, <strong>unilateral dullness + reduced breath sounds</strong> = think <strong>haemothorax</strong>; pneumothorax is hyper‑resonant. Manage with ABCDE, CXR/eFAST and chest drain if large/compromising."]},{id:"EM-1151",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Parents asking about infant CPR — most appropriate advice",stem:"Parents of an 11‑month‑old baby want to know the steps for CPR for their child as they have recently attended a funeral of their neighbours' child who died very suddenly after an episode of apnoea. They want to know what they can do if an event like this occurs. What is the SINGLE most appropriate advice in regards to CPR for their child?",options:[{key:"A",text:"Index and middle finger compression"},{key:"B",text:"Compression with heel of one hand"},{key:"C",text:"Compression with heel of two hands with fingers interlocked"},{key:"D",text:"Compression with rescue breaths 30:2"},{key:"E",text:"Give 2 rescue breaths before starting compression"}],correct:"A",explanation_plabable:["This is a rare scenario in the exam that you may encounter where both the answers are correct. Both A and D are appropriate advice to give to the parents of the child. The exam questions may have written them prior to publishing new guidelines and this may be overlooked by the organizers. When this occurs, the organizers for the exam will award marks for both answers when evaluating the papers. This is a very rare event but may still occur. Thus, do not spend too much time trying to decide which is the right or wrong option between the two.","","We have included this question to mimic how exams may be written and the process by which it will be marked.","","There are two options for chest compression for infants. Either index and middle finger of one hand or grip the chest in both hands in such a way that two thumbs can press on the lower third of the sternum.","","For health care provider and layperson","CPR should be started with the C:V ratio that is familiar and for most, this will be 30:2. The paediatric modifications to adult CPR should be taught to those who care for children but are unlikely to have to resuscitate them. The specific paediatric sequence incorporating the 15:2 ratio is primarily intended for those who have the potential to resuscitate children as part of their role.","","In the case above, the parents are unlikely to need to resuscitate their child and a CPR C:V ratio that is familiar which is 30:2 is appropriate.","","Note: that if you were a paediatrician you should be doing a C:V ratio of 15:2 as you potentially need to resuscitate children as part of your role."],explanation_detail:["<strong>Why the answer is correct:</strong> For infants (<1 year), a single rescuer can perform chest compressions with the <strong>index and middle fingers</strong> on the lower half of the sternum, depth about one‑third of the chest (≈4 cm) at 100–120/min. For laypeople, UK guidance allows a familiar <strong>30:2</strong> compression‑to‑ventilation ratio; healthcare providers who routinely resuscitate children use <strong>15:2</strong>. Thus, both the technique (A) and the 30:2 ratio (D) are acceptable advice for parents, but the compressions technique is the most direct answer to the stem.","<strong>Why the other options are wrong:</strong> B/C) Heel‑of‑hand techniques are adult/child (>1 year) methods and risk injury in infants. E) Paediatric BLS recommends <strong>5 initial rescue breaths</strong>, not 2, before starting compressions when a child is unresponsive and not breathing normally.","<strong>Management/algorithm:</strong> <ul><li>Check responsiveness, open airway, look–listen–feel; call for help.</li><li>Give <strong>5 rescue breaths</strong>; if no signs of life, start compressions at <strong>30:2</strong> for a lone rescuer (15:2 for healthcare professionals with two rescuers).</li><li>Compression technique: two fingers (lone rescuer) or two‑thumb encircling hands technique if two rescuers available; depth one‑third of chest, allow full recoil.</li><li>Continue CPR for ~1 minute before leaving to call EMS if alone.</li></ul>","<strong>Exam takeaway:</strong> Infant CPR: compress with <strong>two fingers</strong> (lone rescuer) and use a familiar <strong>30:2</strong> ratio for laypeople; professionals commonly use <strong>15:2</strong>."]},{id:"EM-1450",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"High-speed RTA with RUQ pain — best investigation",stem:"A 65-year-old man is involved in a high-speed road traffic accident and is brought to the ED resuscitation room by paramedics. He complains of severe right upper quadrant pain. On examination, there are no visible external injuries or external bleeding. He has normal breath sounds. The right upper quadrant is tender with some bruising. <br/><br/><strong>Observations:</strong> Temp <strong>36.7°C</strong>, HR <strong>110 beats/min</strong>, BP <strong>120/75 mmHg</strong>, RR <strong>25/min</strong>, SpO₂ <strong>97%</strong> on air. What is the SINGLE most appropriate investigation?",options:[{key:"A",text:"X-ray chest"},{key:"B",text:"X-ray abdomen"},{key:"C",text:"CT scan of the abdomen"},{key:"D",text:"Ultrasound of the abdomen"},{key:"E",text:"Ultrasound of the chest, abdomen and pelvis"}],correct:"C",explanation_plabable:["A CT scan plays a vital role in road traffic accidents involving blunt trauma to the abdomen in haemodynamically stable patients. It has a high specificity and sensitivity for liver injuries.","","An ultrasound in this situation would refer to a FAST (Focused Assessment with Sonography for Trauma) scan which would be done in a haemodynamically unstable patient. The purpose of this scan is to assess for hemopericardium and hemoperitoneum."],explanation_detail:["<strong>Why the answer is correct:</strong> This patient is <strong>haemodynamically stable</strong> after blunt abdominal trauma with focal RUQ tenderness and bruising, raising concern for <em>solid organ injury</em> (e.g., liver laceration). The investigation of choice is a <strong>contrast-enhanced CT abdomen</strong> (often as part of a trauma CT C/A/P), which accurately detects solid organ injury, active bleeding, and associated injuries, and guides operative vs non‑operative management.","<strong>Why the other options are wrong:</strong> A/B) Chest or abdominal X‑rays have low yield for solid organ injury and would not change immediate management in a stable patient. D) Single‑organ abdominal ultrasound is operator‑dependent and far less sensitive for grading hepatic injury. E) An ultrasound of chest/abdomen/pelvis is effectively an <strong>eFAST</strong> and is primarily indicated for <strong>unstable</strong> patients to rapidly identify free fluid or tamponade; in stable patients CT is preferred.","<strong>Management/algorithm:</strong> <ul><li>ABCDE with analgesia and monitoring.</li><li>Stable after blunt abdominal trauma → <strong>CT abdomen (± chest/pelvis) with IV contrast</strong>.</li><li>Unstable with suspected intra‑abdominal bleed → <strong>eFAST</strong>; if positive, proceed to emergency intervention (e.g., laparotomy/angioembolisation) while resuscitating.</li><li>Non‑operative management for low‑grade liver/splenic injuries with observation and repeat imaging as needed; involve trauma surgery/interventional radiology early.</li></ul>","<strong>Exam takeaway:</strong> Blunt abdominal trauma + haemodynamic <strong>stability</strong> → choose <strong>contrast CT abdomen</strong>, not FAST ultrasound, for diagnosing solid organ injury (e.g., liver)."]},{id:"CT-4731",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Agitated, sweating, hypertensive — which drug?",stem:"A 28-year-old man presents to the Emergency Department with a history of recreational drug use. He is agitated and sweating profusely. <br/><br/><strong>Observations:</strong> Temp <strong>39.6°C</strong>, BP <strong>172/90 mmHg</strong>, HR <strong>110 bpm</strong>, pupils <strong>dilated</strong>, SpO₂ <strong>—</strong>. Which substance overdose is most consistent with this clinical picture?",options:[{key:"A",text:"Lysergic acid diethylamide (LSD)"},{key:"B",text:"Heroin"},{key:"C",text:"Ketamine"},{key:"D",text:"Cocaine"},{key:"E",text:"Cannabis"}],correct:"D",explanation_plabable:["The clinical presentation in this patient, including hyperthermia, hypertension, tachycardia, and diaphoresis is highly suggestive of cocaine intoxication. Cocaine is a potent sympathomimetic drug that acts by blocking the reuptake of norepinephrine, dopamine, and serotonin in the central nervous system. This leads to increased sympathetic outflow, resulting in hypertension, tachycardia, and hyperthermia. With cocaine overdose, pupils typically dilate since it stimulates the sympathetic nervous system.","","LSD overdose can also result in tachycardia, hyperthermia, hypertension and seizures. Differentiating between cocaine overdose and LSD overdose can be challenging due to the overlapping symptoms of central nervous system stimulation. However, there are some characteristic features that may help in distinguishing the two:","• Cocaine overdose often leads to a more significant increase in blood pressure and heart rate","• Cocaine overdose is associated more with hyperthermia than LSD","• LSD overdose primarily presents with intense hallucinations, altered perception, and disorganised thoughts → it is the profound visual, auditory, and sensory hallucinations which are characteristic","","Heroin is a potent central nervous system depressant, leading to sedation, drowsiness, and a profound sense of relaxation. Overdose typically causes respiratory depression (even respiratory arrest). Another characteristic sign of heroin overdose is the presence of constricted pupils (miosis).","","Ketamine overdose can result in impaired coordination, muscle weakness, and difficulty with movements. Ketamine has analgesic properties and can provide pain relief even at sub-anaesthetic doses. It is taken illicitly as a sniffed powder. Small amounts can result in a state of profound dissociation and disconnectedness. Larger amounts can result in similar effects to LSD, with hallucinations associated with nausea.","","Cannabis is a psychoactive substance that primarily acts as a central nervous system depressant, leading to relaxation and sedation. Cannabis overdose is relatively rare, and the adverse effects are typically milder compared to other substances. The effects are mostly related to relaxation and impaired cognitive functioning and memory."],explanation_detail:["<strong>Why the answer is correct:</strong> Sympathomimetic toxidrome — <strong>hyperthermia</strong>, <strong>hypertension</strong>, <strong>tachycardia</strong>, agitation, and <strong>mydriasis</strong> — is classic for <strong>cocaine</strong> overdose. Cocaine blocks re‑uptake of noradrenaline, dopamine and serotonin, driving adrenergic excess. LSD and ketamine are more hallucinogenic/dissociative; opioids (heroin) cause miosis and respiratory depression; cannabis causes mild sedation and impaired cognition, not severe hyperadrenergia.","<strong>Why the other options are wrong:</strong> A) LSD may cause tachycardia and hyperthermia but typically features prominent hallucinations and altered perception rather than marked hypertension. B) Heroin overdose → pinpoint pupils, bradypnoea, coma. C) Ketamine → dissociation, ataxia; severe hypertension/hyperthermia less typical. E) Cannabis rarely causes life‑threatening hyperadrenergic states.","<strong>Management/algorithm:</strong> <ul><li>ABCDE and cooling (active external cooling if T ≥ 39°C); check glucose.</li><li><strong>Benzodiazepines</strong> (e.g., diazepam/lorazepam) are first‑line for agitation, hypertension and tachycardia by reducing sympathetic outflow.</li><li>Treat hypertension/tachycardia refractory to benzos with <strong>IV nitrates</strong> or <strong>phentolamine</strong>. Avoid <em>β‑blocker monotherapy</em> (risk of unopposed α‑stimulation).</li><li>Fluids; evaluate for complications: hyperthermia, rhabdomyolysis (CK), AKI, MI (ECG/troponin), arrhythmias, seizures.</li><li>If chest pain/ACS features, use aspirin and nitrates; avoid thrombolysis until aortic dissection excluded.</li></ul>","<strong>Exam takeaway:</strong> Agitated, diaphoretic patient with <strong>HTN + tachycardia + hyperthermia + dilated pupils</strong> → think <strong>cocaine</strong>; treat with benzodiazepines, cooling and supportive care; avoid β‑blocker monotherapy."]},{id:"EM-2450",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Toddler with sudden cough and breathlessness — best next investigation",stem:"A 3-year-old child presents to the Emergency Department with his mother. He was playing with small toys when he suddenly became breathless and started to cough. He remained conscious throughout and has continued to vocalise. He has been previously well. <br/><br/><strong>Observations:</strong> Afebrile; HR <strong>90/min</strong>; RR <strong>24/min</strong>; BP <strong>120/70 mmHg</strong>; SpO₂ <strong>96%</strong> on air. On examination there is a <strong>wheeze over the right chest</strong> with <strong>no stridor</strong> and <strong>no cyanosis</strong>. What is the SINGLE next most appropriate investigation?",options:[{key:"A",text:"Chest X-ray"},{key:"B",text:"Lateral X-ray of neck"},{key:"C",text:"Fluoroscopy"},{key:"D",text:"Nasendoscopy"},{key:"E",text:"CT scan of neck and chest"}],correct:"A",explanation_plabable:["This is a suspected case of lodged foreign body. A foreign body in a child can be aspirated or ingested.","","In case the foreign body has entered the respiratory system, the child can present with sudden onset of cough, breathlessness, stridor, wheezing or choking. Whereas, in cases of ingested foreign bodies which may enter the oesophagus or stomach, the child is usually asymptomatic.","","In this scenario, the child presented with a cough and breathlessness. The cough is effective, and the child is conscious. The child is also able to vocalise well, and a wheeze was heard over the right side of the chest. Hence, the child is suspected to have aspirated the foreign body. The child will be monitored, made comfortable, investigations will be done and the ENT team will be informed.","","Ideally, chest X-rays (which in a toddler would also include imaging of the neck) are the most important investigations in every patient suspected of having a foreign body aspiration.","","A nasendoscopy is a test which helps to examine the nasal passage, pharynx and larynx using an endoscope passed through the nose to the nasopharynx and oropharynx. The need for a nasendoscopy will be decided by the ENT team based on clinical findings and radiological investigations; however, a nasendoscopy would unlikely be of any benefit since the object is probably obstructing the right main bronchus (given the history of right-sided wheeze). A bronchoscopy would be a better option.","","There are a portion of objects which are radiolucent and would not be picked up on X-rays or CT scans. In those cases, if it is suspected to be in the bronchus, then a bronchoscopy would be done."],explanation_detail:["<strong>Why the answer is correct:</strong> Sudden cough and unilateral wheeze after playing with small objects strongly suggests <strong>foreign body aspiration</strong>. In a stable child, the first-line investigation is a <strong>chest X-ray</strong> (AP ± lateral; inspiratory/expiratory or decubitus views if possible) to look for air trapping (hyperinflation), atelectasis, or a radiopaque object; neck views are often included in toddlers.","<strong>Why the other options are wrong:</strong> B) Lateral neck X-ray is more useful for suspected <em>ingested</em> or upper airway objects; signs and exam localise to the right chest/bronchus. C) Fluoroscopy is not first-line in ED. D) Nasendoscopy visualises nasal/oropharyngeal–laryngeal structures and rarely helps when the foreign body is bronchial; rigid bronchoscopy is definitive. E) CT has higher radiation and is generally reserved when X-ray is non-diagnostic and suspicion persists—bronchoscopy is preferred for diagnosis and removal.","<strong>Management/algorithm:</strong> <ul><li>Assess <strong>ABC</strong>. If complete obstruction and child is conscious → age-appropriate back blows/chest thrusts; if unconscious → start CPR and attempt visualised removal.</li><li>If stable with suspected aspiration → <strong>CXR</strong> (± neck imaging). Avoid blind finger sweeps.</li><li>Persistent suspicion or abnormal imaging → <strong>rigid bronchoscopy</strong> for removal; involve ENT/paediatric respiratory.</li><li>Post-removal observation for airway oedema, infection; provide prevention advice to carers.</li></ul>","<strong>Exam takeaway:</strong> Stable child with suspected foreign body aspiration and unilateral wheeze → <strong>Chest X-ray first</strong>; bronchoscopy is definitive if suspicion remains or imaging is positive."]},{id:"CS-1501",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Agitated, diaphoretic young woman — which substance?",stem:"A 21-year-old woman presents to the Emergency Department appearing dishevelled and in distress. She requests analgesia for severe abdominal pain. She appears undernourished, agitated, constantly moving in her seat, and avoids sustained eye contact. She is <strong>diaphoretic</strong> with visible sweat despite a cool room, <strong>shivering</strong>, and complains of diffuse joint pain. <br/><br/><strong>Observations:</strong> BP <strong>150/90 mmHg</strong>, HR <strong>110 bpm</strong>, Temp <strong>37.8°C</strong>, RR <strong>22/min</strong>. What is the SINGLE most likely substance misuse indicated by her presentation?",options:[{key:"A",text:"Alcohol"},{key:"B",text:"Heroin"},{key:"C",text:"Cocaine"},{key:"D",text:"LSD"},{key:"E",text:"Ecstasy"}],correct:"B",explanation_plabable:["Agitation, abdominal cramp, sweating, shivering, and arthralgia are all features of heroin withdrawal. Heroin, an opioid, when misused, leads to physical dependence, and withdrawal symptoms can be severe and include many of the symptoms described.","","Cocaine misuse typically presents with increased alertness, euphoria, dilated pupils, and increased heart rate and blood pressure. While agitation and increased blood pressure could fit, the absence of euphoria, along with the presence of shivering and joint pain, makes cocaine less likely.","","The term “misuse” can manifest through two primary physiological states: intoxication and withdrawal. This makes this question even harder to answer as one has to think if it is an intoxication question or a withdrawal question.","","Heroin can be administered through various methods, with smoking being among the most common. However, its versatility allows for consumption in several other ways, including oral intake, snorting, and parenteral routes. Parenteral administration can be further divided into intravenous, intramuscular, and subcutaneous injections."],explanation_detail:["<strong>Why the answer is correct:</strong> The cluster of <em>autonomic</em> and <em>musculoskeletal</em> symptoms — agitation, diaphoresis, shivering, abdominal cramps and generalised aches — strongly suggests <strong>opioid withdrawal</strong>. Heroin (short‑acting) withdrawal typically begins 6–12 hours after last use, peaking at 1–3 days, with mydriasis, yawning, rhinorrhoea/lacrimation, piloerection, abdominal cramps, vomiting/diarrhoea, insomnia, tachycardia and mild hypertension. These match the vignette more than stimulant intoxication.","<strong>Why the other options are wrong:</strong> A) Alcohol withdrawal features tremor, anxiety, sweating and hypertension, but prominent abdominal cramping and shivering with opioid‑type aches are less typical; severe forms include seizures/DTs. C) Cocaine intoxication causes euphoria, severe agitation, hyperthermia, hypertension, chest pain and mydriasis rather than shivering/arthralgia from withdrawal. D) LSD (hallucinogen) → perceptual disturbances/hallucinations with variable vitals; not this picture. E) Ecstasy (MDMA) → empathogenic effects, bruxism, hyponatraemia risk, hyperthermia; again not classic for this case.","<strong>Management/algorithm:</strong> <ul><li>Assess ABC; exclude sepsis, pregnancy complications, or surgical abdomen if pain severe.</li><li>Symptomatic relief: antiemetics, antidiarrhoeals, NSAIDs; fluids and reassurance.</li><li>Consider <strong>clonidine/lofexidine</strong> for autonomic symptoms.</li><li>Initiate <strong>opioid substitution therapy</strong> when in moderate withdrawal (e.g., COWS ≥ 8–12): <em>buprenorphine</em> (first‑line) or methadone per local protocol; involve addiction services.</li><li>Harm reduction and safeguarding: screen for BBV, offer take‑home naloxone, arrange follow‑up/support.</li></ul>","<strong>Exam takeaway:</strong> Agitated, sweaty patient with crampy abdominal pain, shivering and diffuse aches → think <strong>heroin withdrawal</strong> rather than stimulant intoxication; manage supportively and start opioid substitution when appropriate."]},{id:"CT-1218",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Penetrating chest trauma with tracheal deviation — next step",stem:"A 22-year-old man attends the Emergency Department with a stab wound to the chest. He has left-sided pleuritic chest pain and dyspnoea. There is a single stab wound to the left chest just below the clavicle. His <strong>trachea deviates to the right</strong>. On auscultation, there are <strong>absent breath sounds on the left</strong>. <br/><br/><strong>Observations:</strong> HR <strong>122 bpm</strong>, BP <strong>95/55 mmHg</strong>, SpO₂ <strong>—</strong> (now on high‑flow oxygen). What is the most appropriate next step in his management?",options:[{key:"A",text:"Needle thoracocentesis"},{key:"B",text:"Chest drain"},{key:"C",text:"Intubate and ventilate"},{key:"D",text:"Tracheostomy"},{key:"E",text:"Pericardiocentesis"}],correct:"A",explanation_plabable:["In the exam, whenever you see the trachea being deviated in a certain direction, immediately consider pneumothorax. If the deviation is in the opposite direction of the trauma, consider tension pneumothorax.","","The diagnosis and management of tension pneumothorax are the same. Insertion of a large-bore needle into the 5th intercostal space near the mid-axillary line. If you hear an audible hiss it confirms the diagnosis and the patient will have relief of their symptoms. This procedure has converted the tension pneumothorax to a simple pneumothorax which will then need to be treated with chest drainage. This procedure is called “needle thoracocentesis”. Synonyms include “needle decompression”.","","Our PLABABLE team actually prefer the term “needle decompression” rather than “needle thoracocentesis” when used in tension pneumothorax.","","The previous method was to insert it in the 2nd intercostal space at the midclavicular line, however, the new ATLS guidelines (10th edition) show evidence that it is easier to reach the thoracic cavity when the 5th intercostal space is used.","","Tension pneumothorax is by necessity a clinical diagnosis. It is a life-threatening emergency and as such, there is no time for diagnostic investigations such as X-ray and arterial blood gases.","","The stab wound, in this case, created an opening with a flap (similar to a one-way valve) which allowed the one-way entry of air into the left pleural space. This build-up of air and subsequent pressure pushes the lung into the mediastinum and reduces venous return to the heart. This is the cause of neck vein distention (not present in this stem), hypotension, tachycardia etc.","","Traumatic chest injuries are a significant cause of mortality. The majority of chest injuries can be handled with simple procedures such as intubation, chest tubes, and pain control."],explanation_detail:["<strong>Why the answer is correct:</strong> Tracheal deviation away from the injured side, unilateral absent breath sounds and hypotension after penetrating chest trauma = <strong>tension pneumothorax</strong>. This is a clinical diagnosis requiring <strong>immediate needle decompression</strong> (large‑bore cannula in the 5th intercostal space, anterior to the mid‑axillary line) to relieve mediastinal shift and restore venous return; do not delay for imaging.","<strong>Why the other options are wrong:</strong> B) A chest drain is required <em>after</em> decompression to treat the resulting simple pneumothorax but is not the first, life‑saving step. C) Intubation and ventilation do not treat the obstructive shock and can worsen it if done before decompression. D) Tracheostomy is not indicated. E) Pericardiocentesis treats tamponade, not pneumothorax with tracheal deviation/hypotension.","<strong>Management/algorithm:</strong> <ul><li>High‑flow O₂ and <strong>needle decompression</strong> at 5th ICS AAL/MAL on the affected side; listen for hiss and clinical improvement.</li><li>Insert <strong>definitive intercostal chest drain</strong> (safe triangle) thereafter.</li><li>Continue ABC, analgesia, and monitor; obtain CXR post‑drain if stable.</li><li>Consider causes of traumatic arrest (HOT/LS: hypovolaemia, oxygenation, tension pneumothorax, tamponade).</li></ul>","<strong>Exam takeaway:</strong> Tension pneumothorax is a <strong>clinical</strong> diagnosis — treat first with <strong>needle decompression (5th ICS mid‑axillary line)</strong>, then insert a chest drain; do not wait for X‑ray/ABG."]},{id:"EN-0659",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Collapsed with low GCS and severe hypoglycaemia — next step",stem:"A 59-year-old man is found not fully conscious on the street and brought to A&E by paramedics. Bystanders report he was walking when he suddenly collapsed. On arrival he is confused but breathing. His Glasgow Coma Scale (GCS) is <strong>11/15</strong> with no signs of trauma. Capillary blood glucose is <strong>1.6 mmol/L</strong>. What is the most appropriate next step in management?",options:[{key:"A",text:"Buccal glucose gel"},{key:"B",text:"IM Glucagon"},{key:"C",text:"IV glucose"},{key:"D",text:"Oral glucose solution"},{key:"E",text:"Subcutaneous insulin"}],correct:"C",explanation_plabable:["The scenario does not explicitly mention an IV line has been inserted or not. This is crucial in deciding between IV or IM treatment and so this is a typical subpar question. You can expect questions of this nature in the exam where they do not represent real life.","","IM glucagon is the correct choice for a patient with impaired consciousness when IV access is not yet established or not readily available.","","IV glucose is the correct choice for a patient with impaired consciousness when IV access has been established.","","It is really up for debate if there is no mention of an IV line being inserted or quickly accessible. Paramedics are more than equipped to insert an intravenous line and so are A&E doctors. That said, the question lacks clarity, making it difficult to choose between IM glucagon and IV glucose without further details. Our Plabable recommendation is to select IV glucose, as it can reasonably be assumed that the patient in A&E would have an established IV line. IV glucose is preferred due to its rapid effectiveness in treating severe hypoglycaemia. We welcome and encourage any constructive debate on this topic in the comment section.","","Buccal or oral glucose is never a good option in patients with impaired consciousness as it requires the patient to be conscious and able to swallow safely. While buccal glucose is absorbed through the mucous membranes, it still requires the patient to have some level of cooperation and reflexes to prevent aspiration or choking. In a confused patient, there is a risk that the gel could obstruct the airway or trigger aspiration if it moves to the back of the throat.","","There is no specific, universally agreed GCS threshold in clinical guidelines for when buccal glucose gel should or should not be administered. Nonetheless, our Plabable team believe that for exam purposes, if the GCS is ≤ 12, oral or buccal glucose gel is unsafe."],explanation_detail:["<strong>Why the answer is correct:</strong> Severe hypoglycaemia with impaired consciousness should be treated immediately. If <strong>IV access is available</strong>, give <strong>IV dextrose</strong> (e.g., 10% 150 mL or 20% 75 mL) to rapidly restore plasma glucose. This acts faster and more reliably than IM glucagon and avoids delays in establishing airway/ventilation and neurological recovery.","<strong>Why the other options are wrong:</strong> B) <em>IM glucagon</em> is appropriate when IV access is unavailable; it relies on hepatic glycogen and may be ineffective in malnutrition, liver disease or alcohol excess. A/D) <em>Buccal/oral glucose</em> require a protected airway and cooperative swallowing—unsafe at GCS 11 with aspiration risk. E) <em>Insulin</em> would worsen hypoglycaemia and is contraindicated.","<strong>Management/algorithm:</strong> <ul><li>ABCDE; check capillary glucose in any altered mental state.</li><li>If IV access present: <strong>IV dextrose</strong> (10% 150 mL or 20% 75 mL). If no IV access: <strong>IM glucagon 1 mg</strong>; establish IV access as soon as possible.</li><li>Once awake and able to swallow: give <strong>long‑acting carbohydrate</strong> (e.g., meal/snack) and monitor for recurrence.</li><li>Identify and treat cause: medication dosing errors, missed meals, renal impairment, alcohol, sepsis; review diabetes regimen.</li><li>Document and safety‑net; consider observation if long‑acting insulin/sulfonylurea involved (octreotide for sulfonylurea‑induced hypoglycaemia).</li></ul>","<strong>Exam takeaway:</strong> Altered GCS + hypoglycaemia → <strong>IV dextrose if you have IV access</strong>; otherwise give <strong>IM glucagon</strong>. Avoid oral/buccal glucose in patients who are not fully conscious."]},{id:"EM-1035",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Post-op pleuritic chest pain — best investigation",stem:"A 64-year-old woman presents to the Emergency Department with sudden-onset pleuritic chest pain and shortness of breath. The symptoms began a few hours ago while she was sitting at home. Past history includes hypertension; she underwent a <strong>total hip replacement two weeks ago</strong>. <br/><br/><strong>Observations:</strong> RR <strong>24/min</strong>, SpO₂ <strong>92% on air</strong>, HR <strong>108 bpm</strong>, BP <strong>128/78 mmHg</strong>. Examination of the legs reveals <strong>mild swelling of the right calf</strong>. Which is the most appropriate investigation?",options:[{key:"A",text:"Chest X-ray"},{key:"B",text:"CT pulmonary angiography"},{key:"C",text:"D-dimer"},{key:"D",text:"ECG"},{key:"E",text:"Ventilation-perfusion scan"}],correct:"B",explanation_plabable:["The most appropriate investigation is CT pulmonary angiography (CTPA), as it is the gold standard imaging modality for diagnosing pulmonary embolism (PE) in haemodynamically stable patients. This woman has a recent history of surgery, tachycardia, and pleuritic chest pain, which are highly suggestive of PE.","","While a D-dimer test can be useful in low-risk cases, it is not appropriate in this situation due to the high clinical suspicion.","","A chest X-ray may be performed to rule out other causes but is not diagnostic for PE.","","An ECG can show changes such as sinus tachycardia or S1Q3T3 pattern but is not definitive.","","A ventilation-perfusion (V/Q) scan is an alternative in cases where CTPA is contraindicated, such as in those with severe renal impairment or contrast allergy."],explanation_detail:["<strong>Why the answer is correct:</strong> She is haemodynamically stable with multiple PE risk factors (recent hip arthroplasty, tachycardia, unilateral calf swelling) and pleuritic chest pain/hypoxaemia. For a <strong>moderate–high pre‑test probability</strong>, the investigation of choice is <strong>CT pulmonary angiography (CTPA)</strong>, which directly visualises filling defects in the pulmonary arteries and helps assess alternative diagnoses.","<strong>Why the other options are wrong:</strong> A) CXR can exclude other causes (e.g., pneumothorax, pneumonia) but is not diagnostic for PE. C) D‑dimer is useful only to <em>rule out</em> PE in low‑probability patients; after recent major surgery it is frequently positive and should not delay definitive imaging. D) ECG may show sinus tachycardia or S1Q3T3 but lacks sensitivity/specificity. E) V/Q scan is reserved when <strong>CTPA is contraindicated</strong> (e.g., severe renal failure, iodinated contrast allergy, or pregnancy with normal CXR) or when CT is unavailable.","<strong>Management/algorithm:</strong> <ul><li>Assess Wells/clinical probability; if high and no contraindication, <strong>start anticoagulation</strong> while arranging urgent CTPA.</li><li>If CTPA positive → continue anticoagulation (e.g., DOAC) and evaluate for provoking factors/length of therapy (typically ≥3 months).</li><li>If massive PE with haemodynamic instability → consider thrombolysis or embolectomy.</li><li>If CTPA contraindicated and CXR normal → consider V/Q scan; if both unavailable, manage per local pathways.</li></ul>","<strong>Exam takeaway:</strong> Stable patient with high suspicion for PE after recent surgery → <strong>CTPA</strong> is the next best investigation; D‑dimer is for low‑risk rule‑out only."]},{id:"EM-3954",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"COPD patient with sudden pleuritic pain — next step",stem:"A 50-year-old man presents to the Emergency Department with sudden-onset breathlessness and pleuritic chest pain that developed a few hours ago at rest. He has COPD with multiple admissions over the past year and denies trauma. He appears mildly distressed and uses accessory muscles. <br/><br/><strong>Observations:</strong> RR <strong>28/min</strong>, SpO₂ <strong>89% on air</strong>, HR <strong>104 bpm</strong>, BP <strong>120/66 mmHg</strong>. On auscultation there are <strong>reduced breath sounds</strong> and <strong>hyperresonance</strong> to percussion on the right. A chest X‑ray is shown.",image:"/right_large_secondary_pneumothorax.png",options:[{key:"A",text:"CT chest"},{key:"B",text:"Chest drain insertion"},{key:"C",text:"Needle aspiration"},{key:"D",text:"Non-invasive ventilation"},{key:"E",text:"Needle decompression"}],correct:"B",explanation_plabable:["The patient in this scenario has a secondary pneumothorax, which is pneumothorax occurring in someone with an underlying lung condition, such as chronic obstructive pulmonary disease (COPD).","The visceral pleural edge (sharp white line) can be seen on the right lung and there are no lung markings peripherally to this line. There is no mediastinal shift away from the left lung. This chest X-ray shows a right pneumothorax of more than 50% (approximately 2cm distance from lung margin and chest wall, at the level of the hilum). This would require a chest drain.","Plabable tip! it is hard to know if it is more than a 2cm distance from lung margin and chest wall, at the level of the hilum based on the image given in the MCQ. One quick way to estimate how much is 2 cm is looking at the distance between the posterior ribs. The average distance between the posterior ribs on a chest X-ray is approximately 2-3 cm. You can use this spacing as a rough guide."],explanation_detail:["<strong>Why the answer is correct:</strong> This is a <strong>secondary pneumothorax</strong> (underlying COPD). In adults with secondary pneumothorax, a visible rim >2 cm at the hilum level or significant breathlessness warrants <strong>intercostal chest drain insertion</strong> rather than simple aspiration. The film and symptoms indicate a large right pneumothorax without tension; a drain is the appropriate definitive treatment.","<strong>Why the other options are wrong:</strong> A) CT is not first‑line in a clear pneumothorax on CXR needing intervention. C) Needle aspiration is mainly for small primary pneumothoraces or selected 1–2 cm secondary cases; large secondary pneumothorax needs a drain. D) Non‑invasive ventilation is <em>contraindicated</em> in untreated pneumothorax due to risk of tension. E) Needle decompression is reserved for <strong>tension pneumothorax</strong> with haemodynamic compromise/tracheal deviation, which is not described here.","<strong>Management/algorithm:</strong> <ul><li>High‑flow oxygen, analgesia and monitoring.</li><li>Insert intercostal chest drain in the safe triangle; obtain post‑procedure CXR.</li><li>Address underlying COPD; consider admission, oxygen weaning and respiratory review.</li><li>If persistent air leak or failure of lung re‑expansion, involve thoracic surgery for VATS/pleurodesis.</li></ul>","<strong>Exam takeaway:</strong> In <strong>secondary</strong> pneumothorax (e.g., COPD) with a large rim or marked breathlessness → <strong>chest drain</strong> rather than needle aspiration; NIV is contraindicated until resolved."]},{id:"EM-1254",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Clinical Vignette",stem:"A 7-year-old girl becomes acutely unwell while visiting a friend's house. The friend's mother has been cooking a dessert containing mixed nuts. She is brought to the Emergency Department. On arrival she is conscious but anxious with inspiratory stridor, widespread erythematous urticaria, and periorbital swelling. Vitals: HR 132 bpm, BP 98/62 mmHg, RR 30/min with accessory muscle use, SpO₂ 95% on high-flow oxygen via non-rebreather, Temp 36.9°C. Intravenous access has not yet been obtained. What is the SINGLE most immediate management step?",options:[{key:"A",text:"Check airway patency and prepare for intubation"},{key:"B",text:"Administer 0.3 mL 1 in 1,000 epinephrine (adrenaline) intramuscularly"},{key:"C",text:"Administer 10 mg chlorpheniramine intramuscularly"},{key:"D",text:"Administer 50 mg hydrocortisone intramuscularly"},{key:"E",text:"Secure intravenous access"}],correct:"B",explanation_plabable:["This is a classic case of anaphylaxis. Administer 0.3 ml in 100U epinephrine intramuscularly would be the most immediate action as she is aged 6 to 12 years old. From the stem, we can see that she has already been assessed which means the emergency team has already gone through the assessments for Airways, Breathing and Circulation. As she is fully conscious, it is likely that her airway is patent and she does not need intubation."],explanation_detail:["<strong>Why the answer is correct:</strong> She meets criteria for anaphylaxis (sudden exposure to likely allergen + airway/respiratory compromise with stridor and widespread urticaria). The <em>first-line, time-critical</em> treatment in the UK is <strong>IM adrenaline (epinephrine) into the anterolateral thigh</strong>. For children aged 6–12 years the recommended dose is <strong>0.3 mg = 0.3 mL of 1 mg/mL (1:1,000)</strong>, repeat every 5 minutes if there is no improvement. Adrenaline rapidly reverses upper-airway oedema, bronchospasm and distributive shock by α1 (vasoconstriction ↓oedema), β1 (inotropy/chronotropy) and β2 (bronchodilation, mast-cell stabilisation) effects. Early IM adrenaline reduces the risk of cardiac arrest and biphasic reactions—<em>it should not be delayed for IV access, antihistamines or steroids</em>.","<strong>Why the other options are wrong:</strong> <ul><li><em>A Prepare for intubation:</em> Always consider airway risk, but immediate IM adrenaline often rapidly improves laryngeal oedema and may avert intubation; intubation attempts before adrenaline can precipitate deterioration.</li><li><em>C Chlorpheniramine IM:</em> Antihistamines help cutaneous symptoms only; they are <strong>not life-saving</strong> and must never precede adrenaline.</li><li><em>D Hydrocortisone IM:</em> Contemporary UK guidance advises <strong>against routine corticosteroids</strong> in the acute phase; consider only for refractory reactions or ongoing asthma/shock after adrenaline.</li><li><em>E Secure IV access:</em> Important for fluids/second-line therapies but must <strong>not delay</strong> immediate IM adrenaline.</li></ul>","<strong>Management/algorithm (NHS/UK practice – Resuscitation Council UK/NICE aligned):</strong> <ul><li><strong>0. Call for help & monitor:</strong> Activate emergency call, attach monitoring (ECG, SpO₂, NIBP), obtain focused ABCDE history.</li><li><strong>1. Immediate therapy:</strong> Give <strong>IM adrenaline</strong> into the mid anterolateral thigh (0.3 mg for 6–12 years; 0.15 mg for 6 months–6 years; 0.1 mg for <6 months; 0.5 mg for ≥12 years/≥50 kg). <em>Repeat every 5 minutes</em> if inadequate response.</li><li><strong>2. Position & oxygen:</strong> Lie flat with legs elevated (or sitting if severe dyspnoea), give high-flow oxygen 15 L/min via non-rebreather, remove allergen if present.</li><li><strong>3. IV access & fluids:</strong> After first adrenaline dose, obtain IV/IO access. If signs of shock (weak pulse, hypotension, delayed CRT), give <strong>20 mL/kg</strong> isotonic crystalloid bolus; reassess and repeat as needed.</li><li><strong>4. Adjuncts (after adrenaline):</strong> Consider <em>nebulised bronchodilator</em> for bronchospasm; <em>chlorphenamine</em> for itch/urticaria; <em>corticosteroid not routine</em>—consider only for refractory reactions or ongoing asthma/shock after senior review. If on β-blockers with poor response, consider <strong>glucagon</strong> IV under senior guidance.</li><li><strong>5. Refractory anaphylaxis:</strong> If poor response after two IM doses, seek senior/anaesthetic/ICU help; commence <strong>adrenaline infusion</strong> via pump with critical-care support; continue fluids and consider vasopressors per protocol.</li><li><strong>6. Investigations:</strong> If safe, send <strong>acute serum tryptase</strong> as soon as possible (ideally within 2 hours) and a convalescent sample (24 hours–7 days).</li><li><strong>7. Observation:</strong> Minimum <strong>6–12 hours</strong> observation depending on severity/risk factors (severe presentation, need for repeated adrenaline, asthma, remote location, late-night presentation → consider 12–24 hours) to monitor for biphasic reactions.</li><li><strong>8. Discharge & prevention:</strong> Provide two <strong>adrenaline auto-injectors</strong> with training, a written <strong>emergency action plan</strong>, education on trigger avoidance, and arrange <strong>urgent allergy clinic referral</strong> for specialist assessment and testing.</li></ul>","<strong>Pathophysiology (high-yield):</strong> IgE-mediated type I hypersensitivity: allergen cross-links IgE on mast cells/basophils → rapid release of histamine, tryptase, leukotrienes and prostaglandins. <em>α1</em> vasodilation and capillary leak cause distributive shock and airway oedema; <em>β2</em> effects of adrenaline counteract bronchospasm and inhibit further mediator release. Biphasic reactions are due to late-phase mediator synthesis hours later, underscoring the need for observation.","<strong>Exam takeaway:</strong> Anaphylaxis = suspected allergen + airway/respiratory and/or circulatory compromise. <strong>Give IM adrenaline in the thigh immediately and repeat every 5 minutes if needed.</strong> Antihistamines and steroids are <em>adjuncts</em> and must never delay adrenaline; observe, provide auto-injectors, and ensure allergy follow-up."]},{id:"EM-4911",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 33-year-old woman with homozygous sickle cell disease (HbSS) presents to the Emergency Department with severe lower back and limb pain typical of previous vaso-occlusive crises. She rates the pain 9/10. She was given <strong>oral morphine 30 mg</strong> two hours ago by ambulance crew with minimal relief. Vitals: Temp 37.8°C, BP 130/85 mmHg, HR 98 bpm, RR 18/min, SpO₂ 98% on air. She is afebrile to low-grade febrile, appears distressed, and intravenous access is available. What is the most appropriate <strong>next step</strong> in the management of her pain?",options:[{key:"A",text:"Intramuscular diclofenac"},{key:"B",text:"Intravenous morphine"},{key:"C",text:"Intramuscular pethidine"},{key:"D",text:"Intravenous ketamine"},{key:"E",text:"Oral ibuprofen"}],correct:"B",explanation_plabable:["Intravenous morphine is considered the most appropriate next step in managing severe pain in a sickle cell crisis when oral morphine has not provided sufficient relief. IV administration allows for rapid onset of action and more effective plasma concentration levels, providing more immediate and effective pain relief compared to oral routes. This is critical in managing severe pain in sickle cell crises.","Pethidine should be avoided in sickle cell crises due to its metabolites (e.g., norpethidine), which can cause seizures and central nervous system toxicity.","Ketamine could be used as an adjunct for pain relief in severe cases or when opioid response is inadequate; however, it is not generally the first line of treatment due to its psychotropic side effects.","Nonsteroidal anti-inflammatory drugs (NSAIDs) like ibuprofen or diclofenac are typically more effective for mild to moderate pain, but in sickle cell crisis, the pain is usually severe."],explanation_detail:["<strong>Why the answer is correct:</strong> She has a typical vaso-occlusive crisis with severe pain despite adequate-dose <em>oral</em> morphine. UK practice prioritises <strong>rapid, titratable IV opioid analgesia</strong> to achieve pain relief within 30 minutes of arrival. <strong>IV morphine</strong> (e.g., 0.05–0.1 mg/kg slow IV boluses every 5 minutes to effect, then transition to PCA) provides faster onset and more reliable plasma levels than oral routes. IM routes are avoided in sickle cell disease because absorption is unpredictable and injections are painful. Early, effective analgesia reduces anxiety, catecholamine surge, and risk of complications (e.g., acute chest syndrome).","<strong>Why the other options are wrong:</strong> <ul><li><em>A Intramuscular diclofenac:</em> NSAIDs can be useful adjuncts if renal function is normal, but they are inadequate as sole therapy for severe crisis pain and the <em>IM route is discouraged</em>.</li><li><em>C Intramuscular pethidine:</em> Avoid due to toxic metabolite <strong>norpethidine</strong> (seizures, CNS toxicity) and poor efficacy.</li><li><em>D Intravenous ketamine:</em> Consider only as <em>adjunct or rescue</em> when opioids are inadequate and with senior oversight; not first line.</li><li><em>E Oral ibuprofen:</em> Onset is slow and analgesia insufficient for severe crisis; use as an adjunct later if no contraindication.</li></ul>","<strong>Management/algorithm (NHS—NICE/RCEM aligned):</strong> <ul><li><strong>Arrival & triage:</strong> High-acuity triage. Aim to give effective analgesia <strong>within 30 minutes</strong>. ABCDE, continuous observations, IV access, pain score.</li><li><strong>Analgesia (first line):</strong> <strong>IV morphine</strong> titrated in small boluses to effect; start <strong>PCA morphine</strong> early once pain is controlled. Prescribe antiemetic (e.g., ondansetron) and <strong>laxative</strong> for constipation prevention.</li><li><strong>Adjuncts:</strong> Paracetamol and an NSAID (e.g., diclofenac or ibuprofen) if renal function is stable and no contraindications. If opioid response inadequate, consider <em>low-dose ketamine</em> infusion/bolus with senior input. <strong>Avoid pethidine.</strong></li><li><strong>Oxygen & fluids:</strong> Give oxygen <em>only if hypoxic</em> (target SpO₂ 94–98%). Encourage oral fluids; use IV isotonic fluids if dehydrated, avoiding overhydration (risk of acute chest syndrome).</li><li><strong>Investigations:</strong> FBC, reticulocytes, U&E, LFTs, CRP; blood cultures if febrile; urinalysis; pregnancy test if applicable; group & save/crossmatch. Consider CXR if chest pain, fever, hypoxia or respiratory signs.</li><li><strong>Identify & treat triggers/complications:</strong> Assess for infection, acute chest syndrome, stroke, priapism. Start empiric antibiotics if sepsis suspected per local policy. Discuss early with Haematology.</li><li><strong>Supportive care:</strong> VTE risk assessment and prophylaxis if admitted; keep warm; early mobilisation as tolerated.</li><li><strong>Disposition:</strong> Admit if ongoing IV analgesia needed, inadequate pain control, hypoxia/fever, suspicion of acute chest syndrome or other complications, social concerns. Provide safety-netting and follow-up with the haematology team.</li></ul>","<strong>Pathophysiology (high yield):</strong> Deoxygenated HbS polymerises → rigid sickled erythrocytes → microvascular <em>vaso-occlusion</em> and tissue ischaemia. Inflammatory mediators (e.g., endothelin, prostaglandins) amplify nociception. Effective analgesia and hydration reduce sympathetic drive and secondary sickling. <strong>Pethidine</strong> metabolised to <em>norpethidine</em> (neurotoxic, pro-convulsant), hence avoidance. <strong>Morphine</strong> provides potent μ-agonism with predictable titration IV; PCA enables steady analgesia with fewer peaks/troughs.","<strong>Exam takeaway:</strong> In vaso-occlusive crisis with severe pain despite oral opioids, give <strong>IV morphine titrated rapidly</strong>, avoid IM injections and pethidine, add paracetamol/NSAID if safe, hydrate cautiously, and screen early for acute chest syndrome and infection."]},{id:"EM-3556",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 65-year-old man presents to A&E with worsening breathlessness and fatigue over the past few days. He reports ankle swelling and difficulty lying flat at night. Examination finds bilateral basal crackles and pitting oedema to the mid-shins. Vitals: BP <strong>98/60 mmHg</strong>, HR 98 bpm, RR 24/min, SpO₂ <strong>92% on air</strong>, Temp 37.0°C. A chest X-ray shows cardiomegaly with diffuse perihilar alveolar shadowing. What is the most appropriate initial management to relieve his symptoms?",image:"/em3556_chest_xray_pulmonary_oedema.png",options:[{key:"A",text:"Lisinopril"},{key:"B",text:"Metoprolol"},{key:"C",text:"Furosemide"},{key:"D",text:"Intravenous fluids"},{key:"E",text:"Spironolactone"}],correct:"C",explanation_plabable:["The chest X-ray demonstrates cardiomegaly and alveolar shadowing in the lung fields which is consistent with pulmonary oedema.","This patient presents with signs of acute decompensated heart failure, evidenced by symptoms like breathlessness, fatigue, orthopnoea, and peripheral oedema. In such cases, the priority is to reduce fluid overload to alleviate symptoms and improve oxygenation.","Furosemide, a loop diuretic, is indicated as the first-line treatment for acute pulmonary oedema in heart failure because it rapidly reduces fluid retention and improves symptoms by promoting diuresis. Given his low blood pressure (98/60 mmHg), careful dosing of furosemide can help avoid worsening hypotension while effectively reducing fluid overload.","Administration of intravenous fluids would be contraindicated in this case, as this patient already has fluid overload (evidenced by pulmonary and peripheral oedema). Giving additional fluids would worsen pulmonary oedema and exacerbate symptoms of heart failure.","As a general guide:","<ul><li>Systolic BP ≥90 mmHg: Furosemide is typically safe but monitored closely.</li><li>Systolic BP <90 mmHg or symptomatic hypotension: Furosemide is used with caution or withheld until stabilisation of blood pressure, as it could worsen perfusion and shock. In cases where blood pressure is critically low, the primary treatment focus shifts to stabilising haemodynamics with fluids, inotropes, or vasopressors before addressing fluid overload with diuretics.</li></ul>"],explanation_detail:["<strong>Why the answer is correct:</strong> The presentation (orthopnoea, peripheral oedema, basal crackles) with CXR showing cardiomegaly and perihilar shadowing is acute pulmonary oedema due to decompensated heart failure. The priority is rapid symptom relief by reducing preload and pulmonary congestion. <strong>IV furosemide</strong> (e.g., 40–80 mg slow IV; titrate to response) produces prompt diuresis and venodilation, improving dyspnoea and oxygenation. His BP is borderline low; nitrates and aggressive vasodilators are avoided, but cautious loop diuresis with close monitoring remains first-line.","<strong>Why the other options are wrong:</strong> <ul><li><em>A Lisinopril:</em> ACE inhibitors are disease-modifying but not for immediate symptom relief in acute decompensation; start or uptitrate once haemodynamically stable and euvolaemic.</li><li><em>B Metoprolol:</em> β-blockers can worsen acute decompensation if initiated or uptitrated; hold in the acute phase if hypotensive or bradycardic, and resume when stable.</li><li><em>D Intravenous fluids:</em> Contraindicated in pulmonary oedema unless there is clear hypovolaemia (which is not suggested here); would exacerbate congestion.</li><li><em>E Spironolactone:</em> Mineralocorticoid receptor antagonist for chronic HFrEF; onset is slow and not appropriate for acute relief.</li></ul>","<strong>Management/algorithm (NHS/NICE/RCEM aligned):</strong> <ul><li><strong>Position & oxygen:</strong> Sit upright; give oxygen to maintain target saturations 94–98% (88–92% if at risk of hypercapnic respiratory failure). Start continuous monitoring.</li><li><strong>Diurese:</strong> Give <strong>IV furosemide 40–80 mg</strong> (or higher if on chronic loop diuretics) as a slow bolus; reassess urine output, symptoms, and BP. Consider infusion if poor response.</li><li><strong>Vasodilators:</strong> If hypertensive pulmonary oedema (SBP >140 mmHg), consider IV nitrates; avoid if SBP <100 mmHg or hypotensive (as in this case).</li><li><strong>Ventilatory support:</strong> If persistent hypoxia or increased work of breathing, consider <strong>CPAP</strong>; escalate early and involve critical care if failing.</li><li><strong>Fluids:</strong> Avoid routine IV fluids; assess volume status with JVP, lungs, oedema, and ultrasound if available.</li><li><strong>Investigations:</strong> ECG, CXR, FBC, U&E (watch K⁺/Cr), LFTs, BNP (not for acute diagnosis), troponin if ACS suspected, ABG if hypoxic or hypercapnic. Treat precipitants (e.g., ACS, arrhythmia, infection, non-adherence).</li><li><strong>Monitoring:</strong> Strict input/output, consider urinary catheter, daily weight, repeat U&E after diuresis.</li><li><strong>After stabilisation:</strong> Optimise GDMT (ACE-i/ARB/ARNI, β-blocker, MRA, SGLT2 inhibitor), fluid/salt advice, HF nurse follow-up, and echo if not recent.</li></ul>","<strong>Pathophysiology:</strong> In decompensated HF, elevated left ventricular end-diastolic pressure increases left atrial pressure, transmitting back to pulmonary veins and capillaries. Hydrostatic pressure exceeds oncotic pressure → transudation of fluid into interstitium/alveoli → impaired gas exchange and reduced lung compliance. Loop diuretics inhibit NKCC2 in the thick ascending limb, causing natriuresis/diuresis and early venodilation, lowering preload and pulmonary capillary wedge pressure.","<strong>Exam takeaway:</strong> Acute pulmonary oedema with borderline BP → <strong>IV furosemide first</strong>, upright position, oxygen to target, avoid fluids and routine nitrates if hypotensive; investigate and treat triggers; consider CPAP if refractory."]},{id:"EM-1907",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 32-year-old woman with type 1 diabetes mellitus presents to the Emergency Department with abdominal pain since this morning. The pain is non-radiating in the epigastrium and she has vomited three times. She missed her usual insulin dose yesterday. She feels extremely tired and very thirsty. On examination she appears dehydrated with dry mucous membranes and prolonged capillary refill. Vitals: BP 96/70 mmHg, HR 120 bpm, RR 28/min with deep sighing breaths, SpO₂ 98% on room air, Temp 37.2°C. There is a fruity odour to her breath. Point-of-care tests: capillary blood glucose <strong>28 mmol/L</strong>; urine ketones <strong>3+</strong>. What is the most appropriate initial fluid to administer?",options:[{key:"A",text:"Hartmann's solution"},{key:"B",text:"0.9% normal saline"},{key:"C",text:"0.9% normal saline with KCl in the first bag"},{key:"D",text:"Hartmann's solution with KCl in the first bag"},{key:"E",text:"0.9% normal saline with sodium bicarbonate"}],correct:"B",explanation_plabable:["The patient's presentation, along with hyperglycaemia and ketonuria on a background of type 1 diabetes implies that the patient is in diabetic ketoacidosis.","Always suspect diabetic ketoacidosis in a diabetic patient who presents with abdominal pain and is grossly unwell bearing.","Patients are dehydrated and have a fluid deficit of about 100 mL/kg. 0.9% normal saline is the replacement fluid of choice in diabetic ketoacidosis.","KCL is not added to the first bag of saline. Instead, potassium replacement is based on the venous blood gas reports and can be added from the second bag onwards.","While the patient may be in metabolic acidosis, sodium bicarbonate may lead to the development of cerebral oedema and is not recommended.","Insulin is administered as an infusion pump. 50 units of soluble insulin made up to 50 ml with 0.9% saline and given at the rate of 0.1unit/kg/hour. In order to prevent hypoglycaemia, 10% glucose is given at a rate of 125ml/hr when the blood glucose is < 14 mmol/L."],explanation_detail:["<strong>Why the answer is correct:</strong> This is classic adult DKA (missed insulin, vomiting, dehydration, hyperglycaemia 28 mmol/L, ketonuria 3+, Kussmaul breathing, fruity breath). The <em>first</em> priority after ABC is <strong>volume resuscitation with 0.9% sodium chloride (normal saline)</strong>. Intravascular depletion drives poor renal perfusion and worsening acidosis; isotonic saline restores circulating volume, improves renal clearance of ketones, and lowers glucose via dilution and improved insulin sensitivity. Per UK adult DKA protocols, give <strong>1 L 0.9% NaCl over 1 hour</strong> (faster if shocked), <em>without potassium in the first bag</em>.","<strong>Why the other options are wrong:</strong> <ul><li><em>A Hartmann's solution:</em> Balanced crystalloids contain potassium and lactate; routine first bag in DKA remains 0.9% saline in most UK pathways.</li><li><em>C/D Add KCl to the first bag:</em> Dangerous before a potassium result and urine flow are confirmed; initial serum K⁺ is often normal/high due to acidaemia despite total-body deficit. Potassium replacement is guided by VBG/UEC and typically begins from the <strong>second</strong> litre.</li><li><em>E Add sodium bicarbonate:</em> Not recommended in routine DKA due to risk of paradoxical CNS acidosis and cerebral oedema; reserve only for extreme acidaemia with shock and senior oversight.</li></ul>","<strong>Management/algorithm (NHS—JBDS/NICE aligned):</strong> <ul><li><strong>Fluids:</strong> 0.9% NaCl 1 L over 1 h; then 1 L over 2 h; 1 L over 4 h; 1 L over 4–6 h (adjust for age/comorbidity/heart failure). If shocked, give additional rapid bolus and involve seniors.</li><li><strong>Insulin:</strong> Start fixed-rate IV insulin infusion <strong>0.1 units/kg/h</strong> <em>after</em> the first litre of fluid and potassium status is known.</li><li><strong>Potassium:</strong> Replace according to VBG/U&E and urine output: K⁺ >5.5 → none; 3.5–5.5 → add 40 mmol KCl per litre; <3.5 → senior review, replace urgently and consider delaying insulin.</li><li><strong>Glucose:</strong> When capillary glucose falls to <strong>< 14 mmol/L</strong>, add <strong>10% dextrose at 125 mL/h</strong> alongside saline to continue ketone clearance.</li><li><strong>Monitoring targets:</strong> Ketones fall ≥0.5 mmol/L/h, bicarbonate rises ≥3 mmol/L/h, glucose falls 3 mmol/L/h; hourly CBG/ketones, 2–4 hourly VBG & U&E; strict fluid balance and catheter if needed.</li><li><strong>Identify precipitant:</strong> Infection, insulin omission, MI, stroke, drugs; send cultures if febrile, do ECG, chest X-ray if indicated.</li><li><strong>Pitfalls:</strong> Avoid bicarbonate, avoid insulin bolus, do not add potassium to the first bag, and watch for cerebral oedema (headache, reduced GCS) especially in younger patients.</li></ul>","<strong>Exam takeaway:</strong> Adult DKA: first litre = <strong>0.9% saline without potassium</strong>; start fixed-rate IV insulin, replace potassium based on VBG, and add 10% dextrose when glucose < 14 mmol/L."]},{id:"EM-1700",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 34-year-old man is brought to the Emergency Department after a high‑speed motorcycle collision. He is disorientated and restless with pronounced bruising and swelling around the left orbit. There is a strong smell of alcohol on his breath. Primary survey is completed: airway patent with cervical spine immobilised, equal air entry, BP 132/78 mmHg, HR 106 bpm, RR 20/min, SpO₂ 97% on air. His Glasgow Coma Scale (GCS) is initially <strong>14</strong> (E4 V4 M6). About 90 minutes later, despite analgesia and observation, his <strong>GCS deteriorates to 9</strong>. What is the SINGLE most important initial investigation?",options:[{key:"A",text:"MRI head"},{key:"B",text:"Non-contrast head CT"},{key:"C",text:"Cervical spine X-ray"},{key:"D",text:"Contrast head CT"},{key:"E",text:"Blood alcohol concentration (BAC) measurement"}],correct:"B",explanation_plabable:["Given the patient's deteriorating level of consciousness and the mechanism of injury (high-speed motorcycle collision), a non-contrast head CT is of utmost importance to quickly assess for any intracranial injuries, such as bleeding.","The periorbital ecchymosis is a sign of basal skull fracture and is another worrying sign associated with intracranial injuries."],explanation_detail:["<strong>Why the answer is correct:</strong> In head injury, <strong>worsening GCS</strong> (drop ≥1 point) or GCS &lt;13 at any time mandates <strong>urgent CT head within 1 hour</strong> per NICE head injury guidance. The mechanism (high-speed RTC) and periorbital ecchymosis raise concern for skull base fracture and expanding intracranial haemorrhage (e.g., extradural/subdural). <strong>Non-contrast</strong> CT rapidly identifies acute blood, mass effect and fractures; it is available, fast and compatible with unstable patients.","<strong>Why the other options are wrong:</strong> <ul><li><em>A MRI head:</em> Excellent for diffuse axonal injury but slow, less available and unsuitable for acutely deteriorating trauma patients; not first-line.</li><li><em>C Cervical spine X‑ray:</em> Cervical spine imaging is important, but current priority is the deteriorating consciousness needing immediate CT head. C-spine CT can be obtained concurrently or subsequently per local trauma protocol.</li><li><em>D Contrast head CT:</em> Iodinated contrast is <strong>not</strong> required to detect acute haemorrhage and may obscure hyperdensities; non-contrast CT is the standard initial scan.</li><li><em>E BAC measurement:</em> Alcohol may confound assessment but must <strong>not delay</strong> time‑critical neuroimaging.</li></ul>","<strong>Management/algorithm (UK trauma—NICE/RCEM aligned):</strong> <ul><li><strong>ABCDE with C‑spine protection.</strong> High‑flow oxygen if needed, IV access, analgesia, point‑of‑care glucose, maintain SBP &gt;110 mmHg.</li><li><strong>Immediate imaging:</strong> Arrange <strong>CT head within 1 hour</strong> for GCS &lt;13 or any deterioration; add <strong>CT C‑spine</strong> if high‑risk mechanism or signs, often as part of a trauma CT (head/neck/chest/abdomen/pelvis) if stable to travel.</li><li><strong>Neurosurgical contact early</strong> if CT shows mass lesion, midline shift or if GCS remains ≤8 after resuscitation.</li><li><strong>Raised ICP precautions:</strong> Elevate head 30°, keep neck midline, avoid hypotension and hypoxia; target PaCO₂ 4.5–5.0 kPa; consider <em>hyperosmolar therapy</em> (e.g., hypertonic saline) if impending herniation while arranging definitive care.</li><li><strong>Observation:</strong> Hourly neuro‑obs, repeat CT if clinical deterioration, treat seizures, correct coagulopathy (vitamin K/ PCC if on warfarin; withhold DOACs and seek reversal where appropriate).</li><li><strong>Documentation & safeguarding:</strong> Record GCS components, pupils, focal deficits, mechanism, and timings; alcohol level can be checked once immediate threats are addressed.</li></ul>","<strong>Exam takeaway:</strong> Head injury + drop in GCS = <strong>non‑contrast CT head within 1 hour</strong>. Alcohol intoxication never excludes intracranial haemorrhage and must not delay imaging or neurosurgical referral."]},{id:"EM-3888",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Clinical Vignette",stem:"A 4-year-old boy is brought to the Emergency Department by his mother. He has been drowsy and febrile for 2 days. While in triage he suddenly becomes unresponsive. He is not breathing normally. You deliver <strong>5 rescue breaths</strong>. No brachial or carotid pulse is palpable after 10 seconds. An Ambu-bag is not immediately available. What is the SINGLE most appropriate <strong>compression-to-ventilation ratio</strong> to use during cardiopulmonary resuscitation for this patient?",options:[{key:"A",text:"Ratio of 5 compressions to 1 breath"},{key:"B",text:"Ratio of 5 compressions to 2 breaths"},{key:"C",text:"Ratio of 15 compressions to 2 breaths with nose pinched"},{key:"D",text:"Ratio of 15 compressions to 2 breaths without nose pinched"},{key:"E",text:"Ratio of 30 compressions to 2 breaths"}],correct:"C",explanation_plabable:["15 compressions to 2 breaths with nose pinched is the answer. For a child over 1 year old, pinch the soft part of his nose closed with the index finger and thumb of your hand on his forehead when giving rescue breaths."],explanation_detail:["<strong>Why the answer is correct:</strong> In paediatric cardiac arrest (≥1 year), healthcare providers use a <strong>15:2</strong> compression-to-ventilation ratio. After initial <strong>5 rescue breaths</strong> (as paediatric arrests are often asphyxial), commence chest compressions at <strong>100–120/min</strong>, depth <strong>one-third of the chest</strong> (~5 cm in a 4-year-old), allowing full recoil. Because no bag-valve mask is immediately available, give <strong>mouth-to-mouth ventilations while pinching the nose</strong> to prevent air leak and ensure chest rise.","<strong>Why the other options are wrong:</strong> <ul><li><em>5:1</em> and <em>5:2</em> ratios are outdated and not recommended.</li><li><em>15:2 without pinching the nose</em> will cause inadequate tidal volumes due to nasal air leak in children >1 year (for infants <1 year, cover mouth <em>and</em> nose).</li><li><em>30:2</em> is the adult/lay-rescuer default and not the recommended ratio for healthcare professionals performing paediatric CPR.</li></ul>","<strong>Management/algorithm (UK Resuscitation Council – high yield):</strong> <ul><li>Confirm unresponsiveness, shout for help, open airway (head-tilt/chin-lift; jaw thrust if trauma), remove visible obstruction.</li><li>Give <strong>5 rescue breaths</strong>, watching for chest rise. If no signs of life and no pulse within 10 s → start CPR <strong>15:2</strong>.</li><li>Compressions: lower half of sternum, one or two hands depending on size; rate 100–120/min; depth one-third AP diameter; minimise pauses.</li><li>As equipment arrives: attach monitoring and defibrillator/automated external defibrillator; deliver oxygen with BVM using two-person technique; obtain IV/IO access.</li><li>Shockable rhythm (VF/pVT): defibrillate 4 J/kg; adrenaline 10 micrograms/kg (0.1 mL/kg of 1:10,000) after the <em>third</em> shock and every alternate loop; amiodarone 5 mg/kg after the third shock.</li><li>Non-shockable rhythm (PEA/asystole): give <strong>adrenaline immediately</strong> (10 micrograms/kg) then every 4 minutes.</li><li>Treat reversible causes (4 Hs/4 Ts): hypoxia, hypovolaemia, hypo/hyperkalaemia & metabolic, hypothermia; tension pneumothorax, tamponade, toxins, thrombosis.</li><li>Post-ROSC: airway/ventilation, normoxia, normocapnia, normothermia, glucose control, treat cause, PICU involvement.</li></ul>","<strong>Exam takeaway:</strong> Child ≥1 year in arrest: after 5 rescue breaths, perform CPR at <strong>15:2</strong>; pinch the nose for mouth-to-mouth ventilations to ensure chest rise."]},{id:"EM-0180",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Clinical Vignette",stem:"A 29-year-old man is brought to A&E after being punched in the face during a fight. He complains of periorbital swelling, double vision on looking up, and numbness of the cheek and upper lip on the affected side. Examination reveals periorbital ecchymosis, enophthalmos, and restriction of upward gaze of the left eye. Visual acuity is normal and pupils are equal and reactive. What is the most likely fractured bone?",options:[{key:"A",text:"Maxilla"},{key:"B",text:"Frontal"},{key:"C",text:"Ethmoid"},{key:"D",text:"Mastoid"},{key:"E",text:"Sphenoid"}],correct:"A",explanation_plabable:["This is an orbital blowout fracture.","The most common bone affected is the maxilla (orbital floor) followed by the ethmoid (medial wall). The diplopia on upward gaze is caused by impingement of the inferior rectus muscle."],explanation_detail:["<strong>Why the answer is correct:</strong> A blow to the orbit often fractures the <strong>orbital floor</strong> (maxilla) as it is the thinnest part and borders the maxillary sinus. Classical features include periorbital ecchymosis, <em>enophthalmos</em>, infraorbital numbness (V2), and <strong>vertical diplopia on up-gaze</strong> due to entrapment/impingement of the inferior rectus or inferior orbital tissues. Hence, the maxilla (orbital floor) is the most likely fractured bone.","<strong>Why the other options are wrong:</strong> <ul><li><em>Frontal:</em> Involves the superior orbital rim and sinus; usually from high-energy frontal impacts and causes forehead/scalp injuries rather than enophthalmos/up-gaze diplopia.</li><li><em>Ethmoid:</em> Medial wall can fracture (lamina papyracea) but classically causes subcutaneous emphysema/epistaxis and diplopia on <em>lateral</em> gaze; floor fractures are more common.</li><li><em>Mastoid:</em> Part of temporal bone; not part of the orbit.</li><li><em>Sphenoid:</em> Deep skull base bone; fractures are uncommon in isolated orbital trauma and usually present with severe cranial nerve deficits.</li></ul>","<strong>Management/algorithm (ED, UK practice):</strong> <ul><li><strong>Assess ABCDE</strong>; check visual acuity, pupils (RAPD), ocular motility, globe integrity; exclude open globe (Seidel test if suspected) before manipulating.</li><li><strong>Avoid nose blowing</strong>; give <strong>oral antibiotics</strong> covering sinus flora (e.g., co-amoxiclav) if there is a communication with the maxillary sinus or fracture into a sinus; consider tetanus update.</li><li><strong>Imaging:</strong> Urgent <strong>CT orbits/facial bones</strong> to define floor/medial wall defects and muscle entrapment.</li><li><strong>Specialist referral:</strong> Early <strong>ophthalmology/OMFS</strong> input. <em>Urgent</em> surgery is indicated for: oculocardiac reflex/bradycardia with entrapment, ‘trapdoor’ fractures (especially children), persistent diplopia with positive forced-duction test, large floor defects (>50% or >2 cm²), or cosmetically significant enophthalmos (>2 mm).</li><li><strong>Supportive care:</strong> Ice packs, head elevation, analgesia, nasal decongestant for short course if needed. Most uncomplicated fractures are repaired electively within 1–2 weeks after oedema settles.</li></ul>","<strong>Pathophysiology:</strong> A blunt force increases intraorbital pressure causing the thin <strong>orbital floor</strong> to ‘blow out’ into the maxillary sinus. Herniation/entrapment of periorbital fat and/or the <strong>inferior rectus muscle</strong> produces impaired up-gaze and diplopia; disruption of the infraorbital nerve causes cheek/upper-lip paraesthesia; loss of orbital volume leads to enophthalmos.","<strong>Exam takeaway:</strong> Orbital trauma + enophthalmos and diplopia on up-gaze → think <strong>orbital floor (maxillary) blowout fracture</strong>; confirm with CT and involve ophthalmology/OMFS."]},{id:"EM-3560",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 42-year-old man presents to the Emergency Department after a motor vehicle accident. His right foot was trapped under a heavy lorry for an extended period before rescue. On arrival he is in severe pain, far out of proportion to visible injuries, and the foot is tense and markedly swollen with pale skin. Passive toe extension elicits significant pain. Dorsalis pedis pulse is <strong>absent</strong> and capillary refill is delayed. Vitals: BP 128/78 mmHg, HR 108 bpm, RR 22/min, SpO₂ 98% on air, Temp 37.1°C. What is the most likely diagnosis?",options:[{key:"A",text:"Compartment syndrome"},{key:"B",text:"Rhabdomyolysis"},{key:"C",text:"Cellulitis"},{key:"D",text:"Stress fracture of the metatarsal"},{key:"E",text:"Fracture of the tibia and fibula"}],correct:"A",explanation_plabable:["The diagnosis here is clearly compartment syndrome, given the history of prolonged limb compression. This compression leads to reduced blood flow to the muscles and tissues within the affected compartment. As a result, the muscles and nerves in the compartment can become deprived of oxygen and nutrients, causing severe pain that is often out of proportion to the visible injury. The reason the dorsalis pedis pulse is not felt is because arterial blood inflow is reduced when pressure exceeds systolic blood pressure.","While rhabdomyolysis can lead to muscle pain and weakness, it does not result in absent pulses or the pronounced swelling and pallor as seen in compartment syndrome."],explanation_detail:["<strong>Why the answer is correct:</strong> Prolonged crush injury with severe, escalating pain out of proportion, tense swollen compartment, pain on passive stretch and an <em>absent distal pulse</em> is classic for <strong>acute compartment syndrome</strong>. Rising intracompartmental pressure exceeds capillary perfusion pressure, leading to ischaemia and risk of irreversible neuro-muscular damage within hours. This is a <strong>surgical emergency</strong>; diagnosis is primarily clinical—do not delay treatment for imaging.","<strong>Why the other options are wrong:</strong> <ul><li><em>Rhabdomyolysis:</em> May result from crush injury (↑CK, myoglobinuria) but does not itself cause a tense compartment or vascular compromise with absent pulses.</li><li><em>Cellulitis:</em> Typically erythematous, warm, tender skin with systemic features; pain is not classically out of proportion and compartments are not tense.</li><li><em>Stress fracture:</em> Insidious onset with activity-related pain, not acute crush trauma with neurovascular compromise.</li><li><em>Tibia/fibula fracture:</em> Could coexist, but the hallmark features (disproportionate pain, pain on passive stretch, tense swelling, pulse deficit) point to compartment syndrome requiring fasciotomy.</li></ul>","<strong>Management/algorithm (UK ED/orthopaedics):</strong> <ul><li><strong>Immediate actions:</strong> Call orthopaedics urgently; remove all constrictive dressings/splints, cut casts to skin, and place limb at <strong>heart level</strong> (avoid elevation which reduces perfusion; avoid dependency which increases oedema).</li><li><strong>Analgesia & resus:</strong> High-flow oxygen if needed, IV opioids, establish IV access; start IV fluids especially if crush injury/rhabdomyolysis risk.</li><li><strong>Assessment:</strong> Repeated neurovascular checks (pain, paraesthesia, pallor, paralysis, pulses—late sign). If diagnosis uncertain and expertise available, measure intracompartmental pressure; threshold commonly used is <em>ΔP</em> (diastolic BP − compartment pressure) ≤30 mmHg. <em>Do not</em> delay theatre if clinical suspicion is high.</li><li><strong>Definitive treatment:</strong> <strong>Urgent decompressive fasciotomy</strong> (all involved compartments) ideally within 1–2 hours of recognition.</li><li><strong>Peri-/post-op care:</strong> Aggressive IV fluids to prevent kidney injury from myoglobin; monitor U&E, CK; urine output target >1 mL/kg/h; consider alkalinisation if significant rhabdomyolysis; tetanus prophylaxis and antibiotics if open wounds.</li><li><strong>Complications to anticipate:</strong> Nerve/muscle necrosis, contractures, infection, renal failure from rhabdomyolysis, and chronic pain.</li></ul>","<strong>Pathophysiology (high-yield):</strong> Trauma/crush → bleeding/oedema within a non-compliant fascial compartment → exponential rise in tissue pressure → collapse of venous outflow then arteriolar inflow → ischaemia → pain out of proportion and pain on passive stretch; prolonged ischaemia (>6 hours) leads to irreversible necrosis and neuropathy. Pulses are a <em>late</em> sign; their absence indicates critical arterial compromise.","<strong>Exam takeaway:</strong> Crush injury + severe pain out of proportion + tense compartment + pain on passive stretch = <strong>acute compartment syndrome</strong>. Call orthopaedics and proceed to <strong>emergency fasciotomy</strong>; do not delay for imaging."]},{id:"EM-4420",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 45-year-old man is admitted following a generalised tonic–clonic seizure. He has alcohol dependence and is undergoing alcohol withdrawal on the ward with regular <strong>lorazepam</strong>. On day 2 he is found drowsy with shallow breathing. Vitals: BP 118/70 mmHg, HR 86 bpm, RR <strong>8/min</strong>, SpO₂ <strong>90% on air</strong>, Temp 36.7°C. He is unresponsive to voice but withdraws to pain; pupils are equal and reactive; capillary glucose is 6.0 mmol/L. There is no evidence of head injury or opioid medication charted. What is the most appropriate next step in management?",options:[{key:"A",text:"Atropine"},{key:"B",text:"Adrenaline"},{key:"C",text:"Flumazenil"},{key:"D",text:"Naloxone"},{key:"E",text:"Thiamine"}],correct:"C",explanation_plabable:["Flumazenil is a benzodiazepine antagonist used to reverse the effects of benzodiazepines, such as lorazepam, in cases of overdose or excessive sedation. It is particularly indicated when there is evidence of respiratory depression or reduced consciousness; as in this case."],explanation_detail:["<strong>Why the answer is correct:</strong> The patient has reduced consciousness with <strong>respiratory depression</strong> and a clear iatrogenic trigger (regular lorazepam). After basic airway support and oxygen, <strong>IV flumazenil</strong> is the specific antidote for benzodiazepine-induced sedation: give 200 micrograms IV over 15 seconds, then 100 micrograms every minute to a usual maximum of 1 mg until the airway and ventilation improve. Onset is within 1–2 minutes. Because flumazenil’s half-life is shorter than most benzodiazepines, monitor for <em>re-sedation</em> and repeat small doses if needed.","<strong>Why the other options are wrong:</strong> <ul><li><em>Atropine:</em> Used for symptomatic bradycardia; does not reverse sedative respiratory depression.</li><li><em>Adrenaline:</em> For anaphylaxis/cardiac arrest; inappropriate here.</li><li><em>Naloxone:</em> Antidote for opioid toxicity; there is no opioid exposure and pupils are not pinpoint.</li><li><em>Thiamine:</em> Important in alcohol misuse to prevent Wernicke’s, but will not reverse acute benzodiazepine-induced hypoventilation.</li></ul>","<strong>Management/algorithm (NHS/UK practice):</strong> <ul><li><strong>Immediate ABCDE:</strong> Jaw thrust, airway adjunct if needed, high-flow oxygen to target SpO₂ 94–98%, call for help, continuous monitoring (ECG, SpO₂, NIBP, capnography if available).</li><li><strong>Check reversible causes:</strong> Capillary glucose (already normal), review drug chart and PRNs, consider venous blood gas.</li><li><strong>Antidote:</strong> If strong evidence of benzodiazepine toxicity without contraindications, titrate <strong>flumazenil</strong> as above. <em>Use with caution</em> if there is a history of chronic benzodiazepine use, seizure disorder, or suspected mixed overdose (especially tricyclics) due to seizure risk.</li><li><strong>Supportive care:</strong> If inadequate response, provide assisted ventilation with bag–valve–mask and escalate to anaesthetics for possible intubation/critical care admission.</li><li><strong>Observation:</strong> Monitor for re-sedation for several hours; repeat small flumazenil boluses if necessary; document neurological status and respiratory rate.</li><li><strong>Alcohol care:</strong> Continue thiamine prophylaxis and manage alcohol withdrawal once the airway is safe.</li></ul>","<strong>Pathophysiology (high yield):</strong> Benzodiazepines enhance <em>GABA<sub>A</sub></em> receptor activity → CNS depression with reduced arousal and hypoventilation at high doses. <strong>Flumazenil</strong> is a competitive antagonist at the benzodiazepine binding site, rapidly reversing sedation but potentially unmasking seizures in dependent patients or mixed overdoses.","<strong>Exam takeaway:</strong> Suspected benzodiazepine-induced respiratory depression → support airway/oxygen, then <strong>titrate IV flumazenil</strong> if no contraindications; monitor closely for re-sedation and seizures."]},{id:"EM-1256",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Clinical Vignette",stem:"A 38-year-old man develops hoarse voice, stridor and wheeze minutes after eating a nut-containing dessert in a restaurant. Paramedics arrive to find him anxious and flushed with generalised urticaria. Vitals: HR <strong>120 bpm</strong>, BP <strong>80/60 mmHg</strong>, RR 28/min, SpO₂ 93% on air. He is struggling to breathe and has cool peripheries. Anaphylaxis is suspected. What is the SINGLE most appropriate route of administration of adrenaline in this case?",options:[{key:"A",text:"Orally"},{key:"B",text:"Intravenously"},{key:"C",text:"Subcutaneously"},{key:"D",text:"Intraosseously"},{key:"E",text:"Intramuscularly"}],correct:"E",explanation_plabable:["In cases of anaphylaxis, adrenaline is given intramuscularly as it is seen superior to the subcutaneous route.","Intravenous adrenaline can be dangerous and should only be used in certain specialist settings with someone very skilled and experienced its used.","Further reading:"],explanation_detail:["<strong>Why the answer is correct:</strong> This patient meets criteria for anaphylaxis (sudden exposure to likely allergen + airway/respiratory compromise and hypotension). UK practice is to give <strong>IM adrenaline 1 mg/mL (1:1000)</strong> into the mid anterolateral thigh as first-line because it has rapid, reliable absorption and a better safety profile than IV. Adult dose is <strong>0.5 mg (0.5 mL)</strong>, repeat every <strong>5 minutes</strong> if no improvement. Adrenaline reverses laryngeal oedema (α1), bronchospasm (β2) and supports circulation (α1/β1).","<strong>Why the other options are wrong:</strong> <ul><li><em>Oral:</em> Ineffective; adrenaline is not absorbed predictably and is rapidly metabolised.</li><li><em>Intravenous:</em> Risk of arrhythmias and hypertensive crisis if bolused; reserved for <strong>refractory anaphylaxis</strong> as a controlled infusion with critical care/anaesthetic support.</li><li><em>Subcutaneous:</em> Slower, less reliable uptake in shock due to cutaneous vasoconstriction; inferior to IM thigh.</li><li><em>Intraosseous:</em> A vascular access route (used in arrest) not the recommended route for adrenaline in anaphylaxis; treatment remains IM first.</li></ul>","<strong>Management/algorithm (NHS/Resuscitation Council UK aligned):</strong> <ul><li>Call for help; <strong>IM adrenaline 0.5 mg</strong> (anterolateral thigh) immediately; repeat every 5 min if needed.</li><li>Position: lie flat with legs elevated (or sitting if severe dyspnoea). High-flow oxygen; remove allergen if present.</li><li>Establish IV access; give rapid <strong>crystalloid 500–1000 mL</strong> if hypotensive; monitor ECG, SpO₂, BP.</li><li>Adjuncts after adrenaline: nebulised bronchodilator for bronchospasm; <em>antihistamines for skin symptoms only</em>; <em>steroids not routine</em>—consider only in refractory reactions after senior review.</li><li>Poor response after 2 IM doses → senior/critical care review for <strong>adrenaline infusion</strong>; consider glucagon if on β-blockers.</li><li>Send acute serum tryptase if feasible; observe at least <strong>6–12 hours</strong> (longer if severe/recurrent doses needed).</li><li>On discharge: provide <strong>two adrenaline auto-injectors</strong>, written emergency plan, trigger avoidance advice, and urgent allergy clinic referral.</li></ul>","<strong>Exam takeaway:</strong> Suspected anaphylaxis → <strong>IM adrenaline in the thigh immediately</strong>; never delay for IV access or antihistamines. IV adrenaline is specialist-only for refractory cases."]},{id:"EM-4311",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 49-year-old woman presents to the Emergency Department with 3 days of productive cough of green sputum, pleuritic chest pain and fever. She looks unwell and clammy. Exam: bronchial breathing at the right base. Vitals: RR <strong>27/min</strong>, SpO₂ <strong>90% on air</strong>, HR <strong>130 bpm</strong>, BP <strong>85/40 mmHg</strong>, Temp 38.6°C. What is the SINGLE next most appropriate action?",options:[{key:"A",text:"Intravenous fluids"},{key:"B",text:"Oral antibiotics"},{key:"C",text:"Chest X-ray"},{key:"D",text:"Intramuscular adrenaline"},{key:"E",text:"Sputum culture"}],correct:"A",explanation_plabable:["Her observations are extremely alarming and would raise red flags. She is clearly septic from a pneumonia.","Sepsis six would need to be performed urgently within the hour. Among the sepsis six is to give intravenous fluids.Oral antibiotics would be inappropriate.","We need a broad spectrum antibiotic in the bloodstream as soon as possible thus it needs to be given intravenously,Chest X-ray would need to be perform but can be done after performing the sepsis six and stabilising the patient."],explanation_detail:["<strong>Why the answer is correct:</strong> She has septic shock physiology (hypotension 85/40 mmHg, tachycardia, tachypnoea, hypoxia) with a likely source of pneumonia. The immediate priority is <strong>resuscitation with IV isotonic crystalloid</strong> to restore perfusion while initiating the rest of the Sepsis Six. A 500 mL bolus of 0.9% saline (or balanced crystalloid) should be given rapidly and repeated to response, while monitoring for fluid overload.","<strong>Why the other options are wrong:</strong> <ul><li><em>Oral antibiotics:</em> Too slow and unreliable absorption in shock; give <strong>IV broad-spectrum antibiotics within 1 hour</strong> after cultures.</li><li><em>Chest X-ray:</em> Useful to confirm pneumonia but must not delay immediate resuscitation (fluids/antibiotics/oxygen).</li><li><em>IM adrenaline:</em> Indicated for anaphylaxis, not sepsis.</li><li><em>Sputum culture:</em> Lower priority than blood cultures and haemodynamic stabilisation; can be obtained after initial resuscitation.</li></ul>","<strong>Management/algorithm (UK Sepsis Six/NICE aligned):</strong> <ul><li><strong>Within 1 hour:</strong> 1) Give <strong>high-flow oxygen</strong> to target SpO₂ 94–98% (88–92% if risk of hypercapnic failure). 2) <strong>Take blood cultures</strong> (before antibiotics if no delay). 3) <strong>Give IV broad-spectrum antibiotics</strong> per local policy (e.g., piperacillin–tazobactam or co-amoxiclav + macrolide if severe CAP). 4) <strong>Give IV fluids</strong> – 500 mL bolus crystalloids; reassess BP, pulse, mentation, urine output; repeat as needed. 5) <strong>Measure serum lactate</strong> and VBG. 6) <strong>Monitor urine output</strong> (consider catheterisation).</li><li>If hypotension persists after adequate fluids or lactate ≥4 mmol/L → <strong>urgent senior/ICU review</strong> for vasopressors (norepinephrine) to maintain MAP ≥65 mmHg.</li><li>Once stabilised: obtain <strong>chest X-ray</strong>, sputum cultures, and other source-specific tests; start VTE prophylaxis and review antimicrobials with results/clinical course.</li></ul>","<strong>Exam takeaway:</strong> Septic patient with hypotension and likely pneumonia → <strong>start Sepsis Six now</strong>. First act is IV crystalloid resuscitation while arranging IV antibiotics, cultures, lactate and monitoring—do not delay for imaging."]},{id:"EM-1750",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 56-year-old man is brought to A&E after falling down a flight of stairs at home. He landed on his back and now complains of severe midline neck pain and paraesthesia in both hands. He is conscious but appears distressed. Primary survey shows airway patent, equal chest rise and clear breath sounds, RR 24/min, SpO₂ 92% on air, HR 104 bpm, BP 138/82 mmHg. On examination there is marked midline cervical spine tenderness. No other life-threatening injuries are evident. What is the most appropriate initial management?",options:[{key:"A",text:"Cervical spine immobilisation"},{key:"B",text:"High-flow oxygen"},{key:"C",text:"Immediate CT scan of the cervical spine"},{key:"D",text:"Intravenous fluids"},{key:"E",text:"Urgent referral to neurosurgery"}],correct:"A",explanation_plabable:["The most appropriate initial management for a patient with suspected cervical spine injury, especially with signs such as cervical spine tenderness and paraesthesia, is cervical spine immobilisation. The main goal is to prevent any further spinal cord injury until more definitive imaging and evaluation can be performed. This involves immobilising the cervical spine using a hard collar and other methods, such as head blocks or manual stabilisation, if necessary, to keep the neck stable.","High-flow oxygen is not the first priority here. His oxygen saturation is 92% on room air which indicate mild hypoxaemia.","In trauma management, the principles of ABC (Airway, Breathing, Circulation) are indeed prioritised. However, in the case of suspected cervical spine injury, immobilisation is a crucial consideration that occurs simultaneously with airway and breathing management to prevent secondary spinal cord injury. If a patient has signs of hypoxaemia (e.g., oxygen saturation of 92%), providing supplemental oxygen is necessary as part of managing breathing. However, cervical spine immobilisation should be initiated at the same time to ensure that any potential spinal cord damage is minimised. In this particular case, given he only has mild hypoxaemia, the priority goes towards cervical spine immobilisation.","In practice, immobilisation is part of the trauma care protocol and is initiated as soon as possible, often even before transport to the hospital."],explanation_detail:["<strong>Why the answer is correct:</strong> Significant mechanism (fall down stairs) + <strong>midline cervical tenderness</strong> and <strong>neurological symptoms</strong> (paraesthesia) = suspected cervical spine injury. The time-critical priority is to <strong>prevent secondary spinal cord damage</strong> by <em>immediate in-line immobilisation</em> (manual stabilisation → hard collar + head blocks and tape). Imaging and definitive decisions come <em>after</em> stabilisation. His oxygen saturation is only mildly low and can be addressed concurrently once the neck is stabilised.","<strong>Why the other options are wrong:</strong> <ul><li><em>High-flow oxygen:</em> Oxygenation is important but must be delivered with the neck maintained in neutral alignment; it does not by itself protect the cord from movement-related injury.</li><li><em>Immediate CT cervical spine:</em> Needed soon, but scanning should follow initial immobilisation and ABC measures; do not move an unstable neck for imaging before it is secured.</li><li><em>Intravenous fluids:</em> Not indicated without shock; unnecessary fluids risk haemodilution and do not address the immediate risk of cord injury.</li><li><em>Urgent neurosurgery referral:</em> Consult will be required if imaging shows instability/cord compression, but <strong>first</strong> protect the cord with immobilisation.</li></ul>","<strong>Management/algorithm (UK trauma—NICE/RCEM aligned):</strong> <ul><li><strong>At scene/arrival:</strong> Manual in-line stabilisation → hard collar + head blocks/tape; keep the neck in neutral. Avoid repeated log-rolling.</li><li><strong>Primary survey (ABCDE) with spine precautions:</strong> Airway with jaw thrust, oxygen to target SpO₂ 94–98% while maintaining immobilisation; treat life-threats.</li><li><strong>Neurological assessment:</strong> GCS, pupils, motor/sensory exam in limbs; document deficits.</li><li><strong>Decision to image:</strong> Use Canadian C-Spine Rule/NICE criteria. Indications for CT within 1 hour include: any focal neurology, dangerous mechanism, age ≥65, midline tenderness, or inability to actively rotate neck 45°.</li><li><strong>During imaging/transfer:</strong> Maintain immobilisation and minimise movement; consider analgesia and antiemetics.</li><li><strong>After CT:</strong> If normal and low clinical suspicion → consider collar removal after senior review. If fracture/instability/cord compression → keep immobilised, involve spinal/neurosurgical team urgently.</li></ul>","<strong>Exam takeaway:</strong> Suspected cervical spine injury = <strong>immobilise first</strong> (manual in-line, collar, blocks and tape). Imaging and referrals follow once the neck is secured and ABC is underway."]},{id:"EM-1017",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 26 year old man presents to the Emergency Department with the complaint of a 24 hour history of epigastric pain and haematemesis. He had ingested an unknown drug four days ago, but he cannot remember the name of the drug or the amount of the drug that he took at the time because he had been drunk. He has no past medical history of note and takes no chronic medication. He indulges in social drinking occasionally. Blood tests were done, and the results are as follows:<br/><br/>Creatinine <strong>230 µmol/L (70-150 µmol/L)</strong><br/>Bilirubin <strong>20 µmol/L (3-17 µmol/L)</strong><br/>Alanine transaminase (ALT) <strong>1880 U/L (5-35 U/L)</strong><br/>Aspartate transaminase (AST) <strong>3510 U/L (5-35 U/L)</strong><br/>Alkaline phosphatase (ALP) <strong>215 U/L (30-150 U/L)</strong><br/>Gamma glutamyl transferase (GGT) <strong>80 U/L (8-60 U/L)</strong><br/>Prothrombin time (PT) <strong>20 seconds (10-14 seconds)</strong><br/><br/>He has a pulse rate of 128 beats/minute, blood pressure of 100/60 mmHg, respiratory rate of 25 breaths/minute and a temperature of 37.1°C. What SINGLE most likely drug did this patient ingest?",options:[{key:"A",text:"Amitriptyline"},{key:"B",text:"Aspirin"},{key:"C",text:"Paracetamol"},{key:"D",text:"Venlafaxine"},{key:"E",text:"Organophosphates"}],correct:"C",explanation_plabable:["The raised level of serum creatinine, bilirubin, liver enzymes as well as the increased prothrombin time indicates that this patient has taken an overdose of paracetamol. Paracetamol is an antipyretic and analgesic. Patients are usually asymptomatic for the first 24 hours but later nonspecific abdominal symptoms. Hepatic necrosis begins to develop after 24 hours and can progress to acute liver failure. The liver damage is usually not detectable by routine liver function test until at least 18 hours after ingestion of paracetamol. Alanine transferase (ALT), prothrombin time usually peak 72 to 96 hours after ingestion. In the United Kingdom, paracetamol can be purchased over the counter; however, it is government legislation that it is not to be sold in excess of 16 tablets at a time. For an average person, 24 tablets usually constitute an overdose.","The other answers are less likely.","Amitriptyline is a tricyclic antidepressant. TCA’s taken in large amounts can cause excessive sedation, sympathomimetic effects (tachycardia, sweating, dilated pupils).","Aspirin is a potent antiplatelet agent as well as an antipyretic, analgesic and anti-inflammatory agent. An overdose of aspirin causes ringing in the ears, nausea, abdominal pain, and tachypnoea.","Venlafaxine is a type of antidepressant of the selective serotonin-norepinephrine reuptake inhibitors (SNRI) class often used to treat depression, anxiety and panic attacks. Most patients overdosing with venlafaxine develop only mild symptoms of feeling tired, palpitations and vomiting. They rarely cause death.","Organophosphates are usually the active ingredient in insecticides. Symptoms include increased saliva and tear production, diarrhoea, vomiting, small pupils, sweating, muscle tremors, and confusion."],explanation_detail:["<strong>Why the answer is correct:</strong> The laboratory results show severe hepatocellular injury: markedly elevated ALT (1880 U/L) and AST (3510 U/L), prolonged prothrombin time (20s), and rising creatinine suggesting multi-organ involvement (hepatorenal syndrome). This pattern is characteristic of <strong>paracetamol toxicity</strong>. Paracetamol overdose depletes hepatic glutathione, allowing toxic NAPQI accumulation, causing centrilobular necrosis. Clinical course is typically: asymptomatic for 24h, followed by abdominal pain and deranged LFTs, then acute liver failure within 72–96h.","<strong>Pathophysiology:</strong> Paracetamol is metabolised in the liver. In overdose, glucuronidation/sulfation pathways saturate, forcing metabolism via cytochrome P450 to toxic NAPQI. Normally detoxified by glutathione, but depletion results in hepatocellular necrosis. Renal injury and metabolic acidosis may also ensue.","<strong>Differential diagnoses:</strong> <ul><li>Amitriptyline overdose — presents with anticholinergic features (dilated pupils, tachycardia, seizures, arrhythmias), not isolated hepatotoxicity.</li><li>Aspirin toxicity — causes tinnitus, metabolic acidosis/respiratory alkalosis, GI upset, hyperthermia, not massive transaminitis.</li><li>Venlafaxine — can cause CNS/serotonergic symptoms, arrhythmias, seizures, but not hepatotoxicity.</li><li>Organophosphates — cause cholinergic crisis (salivation, diarrhoea, miosis, bronchorrhoea), not isolated liver injury.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li>Amitriptyline: no arrhythmia or CNS depression described.</li><li>Aspirin: no tinnitus, acid-base disturbance, or hyperventilation explained by aspirin poisoning.</li><li>Venlafaxine: would not explain severe LFT derangement.</li><li>Organophosphates: classic cholinergic toxidrome absent here.</li></ul>","<strong>Management/algorithm:</strong> <ul><li>Immediate: check timing/amount of ingestion, obtain plasma paracetamol level (nomogram if within 24h).</li><li>Start <strong>N-acetylcysteine (NAC)</strong> immediately if >8h since ingestion or if level above treatment line. NAC replenishes glutathione, preventing further hepatic injury.</li><li>Supportive care: IV fluids, correct hypoglycaemia, monitor INR, renal function, acid-base status.</li><li>Refer early to liver unit if INR > 6.5, creatinine elevated, encephalopathy develops, or acidosis persists.</li></ul>","<strong>Guideline cues:</strong> According to Resuscitation Council UK and TOXBASE guidance, NAC is indicated if plasma level is above treatment threshold or if ingestion time uncertain and patient symptomatic with deranged LFTs.","<strong>Common pitfalls:</strong> <ul><li>Relying on normal early LFTs — hepatotoxicity often delayed until 18–24h.</li><li>Delaying NAC while waiting for levels — give empirically if >8h post-ingestion.</li><li>Assuming OTC paracetamol is benign — 24 tablets can be lethal.</li></ul>","<strong>Exam takeaway:</strong> <em>Severe transaminitis + prolonged PT after overdose strongly indicates paracetamol toxicity; NAC is life-saving if given promptly.</em>"]},{id:"EM-0500",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 48 year old man has been having diarrhoea, vomiting and mild abdominal pain for the past 4 days. He was brought to the Emergency Department by his wife as he was disoriented in the morning. His blood pressure is 110/75 mmHg and his heart rate is 89 beats/minute. His temperature is 37.9°C. His blood test show the following:<br/><br/>Haemoglobin <strong>144 g/l (130-180)</strong><br/>White cell count <strong>18 x 10^9/L (4-11)</strong><br/>Platelets <strong>325 x 10^9/L (150-400)</strong><br/>Serum urea <strong>11.5 mmol/L (2.0-7.0)</strong><br/>Serum creatinine <strong>185 µmol/L (70-150)</strong><br/>Serum calcium <strong>2.51 mmol/l (2.1-2.6)</strong><br/>eGFR <strong>60 ml/min</strong><br/>Sodium <strong>124 mmol/L (135-145)</strong><br/>Potassium <strong>3.6 mmol/L (3.5-5.0)</strong><br/>Glucose (fasting) <strong>3.6 mmol/L (3.5-5.5)</strong><br/><br/>What is the SINGLE most appropriate solution to be administered intravenously?",options:[{key:"A",text:"0.45% sodium chloride"},{key:"B",text:"0.9% sodium chloride"},{key:"C",text:"3% sodium chloride"},{key:"D",text:"0.45% sodium chloride and 0.15% potassium chloride"},{key:"E",text:"Mannitol"}],correct:"B",explanation_plabable:["This man likely has an episode of gastroenteritis. His sodium levels have decreased likely because he over replaced fluid by drinking water.","Patients who present with hyponatraemia due to acute vomiting and diarrhoea can be given intravenous normal saline (0.9% sodium chloride). Care should be taken to correct serum sodium levels slowly to avoid cerebral oedema. In general, the more acute the change of hyponatraemia, the quicker one can correct it. If there is chronic hyponatraemia or if the time of developing this hyponatraemia is unclear, then it is best to correct it slowly.","Hypertonic saline is rarely used. There are situations where one would use hypertonic saline to raise the sodium rapidly such as patients who are seizing or in a coma. This is usually senior led and would not be expected at your level."],explanation_detail:["<strong>Why the answer is correct:</strong> The presentation (4 days of vomiting/diarrhoea, mild fever, tachypnoea absent, normal glucose) with <strong>Na 124 mmol/L</strong>, elevated urea/creatinine and clinical disorientation is most consistent with <em>hypovolaemic hyponatraemia</em> from GI losses and excess free-water intake. The definitive initial treatment is <strong>0.9% sodium chloride</strong> to restore intravascular volume, suppress non-osmotic ADH and safely raise serum sodium.","<strong>Core pathophysiology/mechanism:</strong> GI fluid loss depletes sodium and water → reduced effective circulating volume → baroreceptor-driven ADH secretion → renal free-water retention and dilutional hyponatraemia. Isotonic saline corrects ECV; as volume restores, ADH falls and kidneys excrete excess free water, normalising sodium gradually.","<strong>Differential diagnoses:</strong> <ul><li><strong>SIADH (euvolaemic)</strong>: would have low urea/creatinine and no overt volume loss; often due to drugs/CNS/pulmonary disease.</li><li><strong>Hyperglycaemia-induced dilution</strong>: glucose is normal (3.6 mmol/L), so not the cause.</li><li><strong>Oedematous states</strong> (HF/cirrhosis/nephrotic): peripheral oedema/ascites history absent.</li><li><strong>Primary polydipsia</strong>: usually psychiatric/excess water without marked urea rise.</li><li><strong>Adrenal insufficiency</strong>: often hyperkalaemia/hypotension/tan; potassium is normal.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li><strong>A. 0.45% sodium chloride</strong> is hypotonic and can worsen hyponatraemia and cerebral oedema.</li><li><strong>C. 3% sodium chloride</strong> is reserved for <em>severe symptomatic</em> hyponatraemia (e.g., seizures, coma) aiming for an initial 4–6 mmol/L rise; not indicated here.</li><li><strong>D. 0.45% NaCl + 0.15% KCl</strong> remains hypotonic; adding K⁺ risks rapid shifts and arrhythmia without indication.</li><li><strong>E. Mannitol</strong> is an osmotic diuretic used for raised ICP; it would aggravate volume depletion and sodium derangement.</li></ul>","<strong>Management/algorithm:</strong> <ul><li>Place on monitors; assess volume status. If shocked, give <strong>0.9% saline 500 mL</strong> bolus over 10–15 min; repeat as needed while reassessing.</li><li>If not shocked but hypovolaemic, start <strong>0.9% saline 1 L</strong> over 1–2 h, then continue as guided by vitals, urine output and sodium trend.</li><li>Aim sodium correction <strong>≤10 mmol/L in 24 h</strong> (prefer 6–8) and <strong>≤18 mmol/L in 48 h</strong> to avoid osmotic demyelination.</li><li>Check serum/urine osmolality and urine sodium if aetiology uncertain; monitor U&E and sodium <strong>every 4–6 h</strong> initially.</li><li>Treat cause: antiemetics, oral rehydration when able; avoid hypotonic fluids.</li><li>If severe neurologic symptoms develop, give <strong>3% hypertonic saline 150 mL</strong> over 15–20 min, repeat up to 2–3 times under senior supervision to achieve a 4–6 mmol/L rise, then resume isotonic therapy.</li></ul>","<strong>Step-by-step realistic ED scenario:</strong> <ul><li><strong>0–1 min:</strong> A–E assessment, oxygen if SpO₂ < 94%, cardiac monitoring, IV access ×2, bedside glucose.</li><li><strong>1–3 min:</strong> If hypotensive or shocked, give <strong>0.9% NaCl 500 mL</strong> stat; send bloods (FBC, U&E, osmolality, LFTs, CRP), venous gas (lactate), urine dip.</li><li><strong>3–10 min:</strong> Start maintenance/deficit replacement with <strong>0.9% NaCl</strong>; strict input–output and urine output target >0.5 mL/kg/h.</li><li><strong>10–30 min:</strong> Recheck vitals; review labs. If sodium rising >1–2 mmol/L/h, slow infusion. Address nausea with ondansetron 4 mg IV.</li><li><strong>30–60 min:</strong> Repeat sodium at 4–6 h. Consider admission for ongoing IV fluids and monitoring; escalate to senior if confusion worsens or seizures occur (then use 3% saline bolus as above).</li><li><strong>Disposition:</strong> Admit under acute medicine; discharge only when euvolaemic, sodium stable, symptoms resolved and clear oral plan given.</li></ul>","<strong>Guideline cues:</strong> UK/European guidance (RCEM/ESE) recommends <strong>isotonic saline</strong> for hypovolaemic hyponatraemia, cautious correction limits (≤10 mmol/L in 24 h), and hypertonic saline only for severe neurologic symptoms under senior oversight.","<strong>Common pitfalls:</strong> <ul><li>Using hypotonic fluids (0.45% NaCl) in hypovolaemic hyponatraemia.</li><li>Correcting sodium too quickly — risk of <em>osmotic demyelination</em>.</li><li>Forgetting to treat the underlying GI fluid loss and to monitor sodium frequently.</li></ul>","<strong>Exam takeaway:</strong> Vomiting/diarrhoea + low Na⁺ = <em>hypovolaemic hyponatraemia</em> → resuscitate with <strong>0.9% sodium chloride</strong>; correct slowly and monitor closely."]},{id:"EM-0505",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 32 year old man is brought to A&E by his wife with symptoms of chest pain, abdominal pain, palpitations, tinnitus, nausea and altered mental status. His wife says that she found a bottle of empty medication on the toilet floor and it is likely that he consumed the whole bottle. He has a respiratory rate of 34 breaths/minute. His arterial blood gas shows the following:<br/><br/>pH <strong>7.31 (7.35–7.45)</strong><br/>PaO₂ <strong>13 kPa (10–14 kPa)</strong><br/>PaCO₂ <strong>3.0 kPa (4.7–6.0)</strong><br/>Bicarbonate <strong>18 mmol/L (22–26)</strong><br/><br/>His blood results show the following:<br/><br/>Haemoglobin <strong>133 g/L (130–180)</strong><br/>White cell count <strong>8 × 10⁹/L (4–11)</strong><br/>Platelets <strong>350 × 10⁹/L (150–400)</strong><br/>Sodium <strong>137 mmol/L (135–145)</strong><br/>Potassium <strong>4.1 mmol/L (3.5–5.0)</strong><br/>Creatinine <strong>80 µmol/L (70–150)</strong><br/>eGFR <strong>>90 mL/min</strong><br/><br/>His ECG shows sinus rhythm with a rate of 95 beats/minute. What is the SINGLE most likely medication that he could have taken?",options:[{key:"A",text:"Paracetamol"},{key:"B",text:"Aspirin"},{key:"C",text:"Propranolol"},{key:"D",text:"Enalapril"},{key:"E",text:"Diazepam"}],correct:"B",explanation_plabable:["Remember:<br/>• If bicarbonates are low → Think metabolic acidosis (or renal compensation for a respiratory alkalosis).<br/>• If PaCO₂ is low → Think respiratory alkalosis (or respiratory compensation for a metabolic acidosis).","This is likely from aspirin poisoning. With aspirin overdose, they initially hyperventilate leading to respiratory alkalosis. The initial phase could last up to 12 hours. Following that, progressive metabolic acidosis occurs. This usually occurs around the 24 hour mark after ingestion for adults.","A mixed respiratory alkalosis and metabolic acidosis is a common acid–base finding in patients with aspirin overdose.","One of the main features of aspirin overdose which you do not see commonly with the other medications is tinnitus (seen in the stem). This feature should prompt you to pick aspirin over the other options.","Paracetamol overdose may also cause metabolic acidosis but toxicity does not cause tinnitus. Furthermore, aspirin overdose is a more recognised cause of metabolic acidosis compared to paracetamol.","Propranolol overdose does not cause tinnitus. Tachycardia (seen in the stem) is also not typical of a β-blocker overdose. One would expect either bradycardia or a heart block.","Overdose of ACE inhibitors like enalapril can cause metabolic acidosis but one of the main features of ACE inhibitor overdose is hyperkalaemia which is not seen in this stem. Tinnitus is also not a recognised feature of ACE inhibitor overdose.","Overdose of benzodiazepines would cause respiratory depression and respiratory acidosis.","If suspecting metabolic acidosis do a blood gas. A metabolic acidosis picture with an increased anion gap can be due to several drugs. Common ones are listed here: Metformin, Alcohol, Isoniazid."],explanation_detail:["<strong>Why the answer is correct:</strong> The patient’s symptoms of tinnitus, abdominal pain, hyperventilation, altered mental status, plus ABG showing <strong>low PaCO₂ (respiratory alkalosis)</strong> and <strong>low bicarbonate (metabolic acidosis)</strong> indicates a mixed respiratory alkalosis + metabolic acidosis — classic for <strong>salicylate (aspirin) overdose</strong>. The GI upset and confusion support this diagnosis.","<strong>Core pathophysiology/mechanism:</strong> Salicylates stimulate the medullary respiratory centre → hyperventilation → respiratory alkalosis. They also uncouple oxidative phosphorylation → lactic acidosis and ketoacidosis → metabolic acidosis. This dual process explains the mixed ABG picture.","<strong>Differential diagnoses:</strong> <ul><li><em>Paracetamol overdose</em>: hepatotoxicity with deranged LFTs, not tinnitus or hyperventilation.</li><li><em>Propranolol overdose</em>: bradycardia, hypotension, hypoglycaemia, not tachypnoea or tinnitus.</li><li><em>Enalapril overdose</em>: hyperkalaemia, hypotension, renal impairment, not tinnitus or mixed ABG.</li><li><em>Diazepam overdose</em>: CNS depression, hypoventilation (respiratory acidosis), not alkalosis.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li>Paracetamol: metabolic acidosis late, but no tinnitus or respiratory alkalosis.</li><li>Propranolol: expect bradycardia, not tachycardia.</li><li>Enalapril: would show hyperkalaemia, absent here.</li><li>Diazepam: depresses respiration, not stimulates hyperventilation.</li></ul>","<strong>Management/algorithm:</strong> <ul><li>Immediate: A–E assessment, cardiac monitoring, IV access, oxygen, check paracetamol/salicylate levels urgently.</li><li><strong>Activated charcoal</strong> if ingestion within 1 hour (50 g orally/NG).</li><li><strong>IV sodium bicarbonate</strong> infusion (e.g., 1.26% or 8.4% boluses followed by infusion) to alkalinise urine and plasma, enhancing salicylate excretion.</li><li>Monitor pH, potassium, glucose, salicylate levels 2–4 hourly.</li><li>Correct hypoglycaemia aggressively with IV dextrose.</li><li><strong>Haemodialysis</strong> if severe poisoning: salicylate level > 700 mg/L, renal failure, pulmonary oedema, severe acidosis, or altered mental status refractory to therapy.</li></ul>","<strong>Step-by-step realistic ED scenario:</strong> <ul><li><strong>0–1 min:</strong> Primary survey (A–E), high-flow oxygen, continuous monitoring, IV access ×2, bedside glucose.</li><li><strong>1–3 min:</strong> Take bloods (U&E, LFTs, coag, glucose, ABG, salicylate & paracetamol levels), insert NG tube if safe.</li><li><strong>3–10 min:</strong> Administer activated charcoal if within 1 h of ingestion. Give IV fluids; start sodium bicarbonate bolus if symptomatic/metabolic acidosis present.</li><li><strong>10–30 min:</strong> Recheck ABG; titrate sodium bicarbonate infusion to maintain urine pH 7.5–8.0. Correct potassium to keep >3.5 mmol/L (as hypokalaemia reduces bicarbonate efficacy).</li><li><strong>30–60 min:</strong> Monitor neurological status, repeat salicylate levels, prepare for possible dialysis if deterioration or high levels.</li><li><strong>Disposition:</strong> Admit to HDU/ICU; liaise with toxicology/renal for dialysis if indicated. Do not discharge until asymptomatic, salicylate levels falling and safe follow-up ensured.</li></ul>","<strong>Guideline cues:</strong> TOXBASE/RCEM guidance emphasises early bicarbonate therapy, potassium correction, and low threshold for dialysis in severe salicylate poisoning.","<strong>Common pitfalls:</strong> <ul><li>Missing the classic mixed alkalosis + acidosis picture.</li><li>Forgetting to check paracetamol level (patients often co-ingest).</li><li>Correcting sodium but neglecting potassium during bicarbonate therapy.</li></ul>","<strong>Exam takeaway:</strong> <em>Aspirin overdose = tinnitus + mixed respiratory alkalosis and metabolic acidosis. First-line is IV sodium bicarbonate; escalate to dialysis if severe.</em>"]},{id:"EM-1561",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 12 year old boy fell from a bicycle and hit his head on the pavement. He has difficulty remembering the events that unfolded right before he injured his head. The accident was witnessed by his mother. He did not lose consciousness. He has had three discrete episodes of vomiting since the injury. There is a small swelling on his forehead with no visible lacerations or bleeding. He has a Glasgow Coma Scale of 15/15. His neurological examination was unremarkable. What is the SINGLE most appropriate management?",options:[{key:"A",text:"CT scan of the head within 1 hour"},{key:"B",text:"CT scan of the head within 8 hours"},{key:"C",text:"Observe for a minimum of 4 hours post head injury"},{key:"D",text:"Observe for a minimum of 24 hours post head injury"},{key:"E",text:"Prescribe pain relief and discharge"}],correct:"A",explanation_plabable:["The main point to look at in this stem is vomiting and amnesia. Any head injuries in children presenting to A&E with more than ONE risk factor from the injury would require a CT scan within 1 hour.","Amnesia more than 5 minutes is one risk factor. 3 or more discrete episodes of vomiting is the other risk factor."],explanation_detail:["<strong>Why the answer is correct:</strong> According to NICE CG176, children with head injury require urgent CT (<strong>within 1 hour</strong>) if they present with ≥2 risk factors. This boy has both <strong>amnesia >5 minutes</strong> and <strong>≥3 episodes of vomiting</strong>. Although his GCS is 15 and neuro exam is normal, the combination of risk factors indicates high likelihood of clinically important intracranial injury, necessitating immediate CT brain.","<strong>Core pathophysiology/mechanism:</strong> Traumatic brain injury may lead to intracranial haemorrhage (extradural, subdural, intracerebral) or cerebral oedema. Amnesia reflects cortical/hippocampal dysfunction from concussion or contusion. Repeated vomiting suggests raised ICP or ongoing brain irritation from bleeding. Early CT allows identification before deterioration.","<strong>Differential diagnoses:</strong> <ul><li>Simple concussion: transient amnesia/confusion but usually ≤1 risk factor, not multiple.</li><li>Isolated scalp haematoma: causes swelling but no vomiting or amnesia.</li><li>Viral gastroenteritis: vomiting present, but no head injury/amnesia link.</li><li>Post-traumatic seizure: not described here; GCS remains 15.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li><strong>B. CT within 8 hours:</strong> Correct for a single risk factor only. This child has ≥2 risk factors, so 1-hour imaging is required.</li><li><strong>C/D. Observation alone:</strong> Inadequate because urgent imaging is indicated when multiple risk factors are present.</li><li><strong>E. Discharge with analgesia:</strong> Unsafe; risk of intracranial bleed not excluded.</li></ul>","<strong>Management/algorithm:</strong> <ul><li><strong>Immediate:</strong> Perform A–E, stabilise airway/breathing/circulation, cervical spine precautions.</li><li><strong>Neuro checks:</strong> GCS, pupils, limb power, vitals every 30 min while awaiting CT.</li><li><strong>CT head within 1 hour</strong> as per NICE criteria.</li><li>If CT shows bleed: discuss with neurosurgery, admit under paediatrics/neurosurgery as appropriate.</li><li>If CT normal but symptomatic: admit for observation (usually 12–24 h).</li><li>Provide parental advice leaflet (‘head injury discharge advice’) if discharged.</li></ul>","<strong>Step-by-step realistic ED scenario:</strong> <ul><li><strong>0–1 min:</strong> Primary survey, high-flow O₂ if hypoxic, IV access, monitor HR/SpO₂/BP.</li><li><strong>1–3 min:</strong> Neurological assessment: GCS, pupils, cranial nerves, motor/sensory.</li><li><strong>3–10 min:</strong> Explain need for urgent CT brain, obtain consent from parents, liaise with radiology for immediate slot.</li><li><strong>10–30 min:</strong> Transfer to scanner with monitoring; continue neuro obs.</li><li><strong>30–60 min:</strong> Review CT results. If abnormal, escalate to neurosurgery; if normal but risk factors present, admit for observation.</li><li><strong>Disposition:</strong> Admit or discharge with written head injury advice depending on findings.</li></ul>","<strong>Guideline cues:</strong> NICE CG176: Children with ≥1 risk factor = CT within 1 h; isolated single risk factor = CT within 8 h; no risk factors = observe/discharge with advice.","<strong>Common pitfalls:</strong> <ul><li>Underestimating significance of repeated vomiting.</li><li>Discharging because GCS is 15 — risk factors override normal GCS.</li><li>Delaying CT and missing early intracranial haemorrhage.</li></ul>","<strong>Exam takeaway:</strong> <em>Child with head injury + ≥2 risk factors (e.g., amnesia >5 min + ≥3 vomiting episodes) → urgent CT head within 1 hour.</em>"]},{id:"EM-3250",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 4 year old child playing with toys unattended suddenly develops breathlessness and stridor and is rushed into the hospital by his father. The child is drooling and unable to swallow. What is the SINGLE best investigation likely to lead to a diagnosis?",options:[{key:"A",text:"Laryngoscopy"},{key:"B",text:"Chest X-ray"},{key:"C",text:"Peak flow meter"},{key:"D",text:"Arterial blood gas"},{key:"E",text:"Pulse oximeter"}],correct:"A",explanation_plabable:["Breathlessness and stridor in a child playing with toys is most likely due to aspiration of a foreign body (e.g. a part of the toy) for which indirect laryngoscopy and/or fibre-optic examination of the pharynx would provide a diagnosis.","Remember, the ingestion of foreign bodies is most commonly a problem in young children aged 6 months to 5 years.","Reference: http://patient.info/doctor/swallowed-foreign-bodies"],explanation_detail:["<strong>Why the answer is correct:</strong> Sudden onset of stridor, drooling, inability to swallow, and acute respiratory distress in a previously well child strongly suggests <strong>upper airway obstruction from foreign body aspiration</strong>. The most definitive way to establish diagnosis is <strong>direct or fibre-optic laryngoscopy</strong>, allowing visualisation of the larynx/pharynx and removal if required. Chest X-ray can sometimes show radio-opaque objects but cannot exclude airway obstruction, and ABG/pulse oximetry provide supportive but not diagnostic information.","<strong>Core pathophysiology/mechanism:</strong> Foreign bodies can lodge in the supraglottic/glottic area → turbulent airflow (stridor), impaired swallowing (drooling), and impending complete obstruction. Inflammatory oedema can worsen obstruction. Children have narrower airways, so even partial obstruction is life-threatening.","<strong>Differential diagnoses:</strong> <ul><li><em>Epiglottitis</em>: also causes stridor and drooling, but usually associated with fever, toxicity, and preceding illness. Now rare with Hib vaccine.</li><li><em>Croup</em>: viral prodrome, barking cough, not sudden onset.</li><li><em>Allergic reaction/angioedema</em>: stridor with urticaria/swelling, often medication or food trigger.</li><li><em>Retropharyngeal abscess</em>: fever, toxic child, neck stiffness, not sudden choking onset.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li><strong>B. Chest X-ray:</strong> May show foreign body if radio-opaque, or indirect signs (air-trapping, collapse), but cannot reliably diagnose or exclude aspiration.</li><li><strong>C. Peak flow meter:</strong> Not feasible in a distressed child, and not diagnostic of obstruction site.</li><li><strong>D. ABG:</strong> May show hypoxia/hypercapnia but only late; doesn’t confirm cause.</li><li><strong>E. Pulse oximeter:</strong> Detects hypoxia but not the underlying pathology.</li></ul>","<strong>Management/algorithm:</strong> <ul><li><strong>Immediate:</strong> A–E assessment, high-flow O₂ if tolerated, keep child upright on parent’s lap, avoid upsetting child (crying worsens obstruction).</li><li><strong>Airway team:</strong> Call anaesthetics/ENT urgently.</li><li><strong>Laryngoscopy</strong> in theatre with skilled anaesthetist and ENT surgeon, with equipment for rigid bronchoscopy and emergency tracheostomy.</li><li>If complete obstruction develops: choking algorithm (back blows, chest thrusts for infants, abdominal thrusts for older children).</li><li>Do not attempt blind finger sweeps as they risk pushing object deeper.</li></ul>","<strong>Step-by-step realistic ED scenario:</strong> <ul><li><strong>0–1 min:</strong> Rapid A–E, identify stridor/drooling, sit child upright, call senior help (anaesthetics/ENT).</li><li><strong>1–3 min:</strong> Administer O₂, keep child calm, prepare airway equipment.</li><li><strong>3–10 min:</strong> Transfer urgently to theatre; anaesthetist maintains airway while ENT performs <strong>laryngoscopy</strong> and removes foreign body.</li><li><strong>10–30 min:</strong> Post-removal: monitor in recovery/HDU, check for laryngeal trauma, give steroids if oedema risk.</li><li><strong>30–60 min:</strong> Educate parents on choking hazards, advise follow-up if airway injury suspected.</li></ul>","<strong>Guideline cues:</strong> RCEM and RCPCH guidelines: any suspected inhaled foreign body with stridor/drooling = ENT referral and diagnostic laryngoscopy. Do not delay with unnecessary investigations like chest X-ray if suspicion is high.","<strong>Common pitfalls:</strong> <ul><li>Ordering chest X-ray first and delaying definitive airway assessment.</li><li>Upsetting child by repeated IV attempts before airway secure.</li><li>Misdiagnosing as croup when onset is sudden with choking episode.</li></ul>","<strong>Exam takeaway:</strong> <em>Child with sudden stridor, drooling, and choking after playing with toys = foreign body aspiration → definitive diagnosis via laryngoscopy.</em>"]},{id:"EM-0306",topic:"Emergency Medicine",difficulty:"Easy",vignetteTitle:"Clinical Vignette",stem:"A 23 year old single male was brought to emergency department by his father exhausted and frightened. His father tells you that his son, who was previously healthy, had, for no apparent reason, a sudden attack of fear, dizziness, sweating, palpitations and the feeling that his heart is going to stop beating. The symptoms started to decrease gradually after about 10 minutes. Which is the SINGLE most likely diagnosis?",options:[{key:"A",text:"Panic attack"},{key:"B",text:"Delirious state"},{key:"C",text:"Alcohol withdrawal"},{key:"D",text:"Drug overdose"},{key:"E",text:"Phaeochromocytoma"}],correct:"A",explanation_plabable:["Panic attacks usually have a fast onset and resolve quickly as well. They usually take about 10 minutes to peak and then followed by resolution over the next 20 minutes.","Some attacks may be situational such as in specific scenarios where attacks have occurred previously whilst other attacks may be spontaneous and described as 'out of the blue' which is seen in this stem."],explanation_detail:["<strong>Why the answer is correct:</strong> The sudden onset of fear, palpitations, dizziness, sweating, and the feeling of impending death with rapid resolution within 20–30 minutes is classic for a <strong>panic attack</strong>. These episodes are discrete, reach peak intensity in about 10 minutes, and resolve spontaneously. The lack of chronic illness, drug/alcohol history, or ongoing confusion further supports panic attack.","<strong>Core pathophysiology/mechanism:</strong> Panic attacks are thought to involve dysregulation of the amygdala and limbic system with excessive sympathetic discharge. This results in acute catecholamine-driven symptoms such as tachycardia, diaphoresis, hyperventilation, and chest tightness. Hyperventilation may also cause dizziness and paraesthesia due to respiratory alkalosis.","<strong>Differential diagnoses:</strong> <ul><li><strong>Phaeochromocytoma:</strong> causes paroxysms of sweating, palpitations, hypertension but typically recurrent and linked with high BP spikes, not a single 10-minute event.</li><li><strong>Alcohol withdrawal:</strong> occurs 6–24 h after cessation in dependent patients with tremor, agitation, hallucinations; history absent here.</li><li><strong>Drug overdose:</strong> tends to cause prolonged or progressive toxicity, not sudden-onset brief panic-like symptoms.</li><li><strong>Delirium:</strong> develops subacutely with fluctuating consciousness, attention deficits, and confusion; not an acute isolated event.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li><strong>B. Delirious state:</strong> Requires prolonged disturbance in consciousness/attention, not episodic symptoms.</li><li><strong>C. Alcohol withdrawal:</strong> No history of alcohol dependence or recent cessation.</li><li><strong>D. Drug overdose:</strong> Would produce ongoing toxic features, not self-limited resolution.</li><li><strong>E. Phaeochromocytoma:</strong> Recurrent hypertension/episodes over time, not a one-off presentation.</li></ul>","<strong>Management/algorithm:</strong> <ul><li><strong>Acute:</strong> Reassure, calm environment, encourage slow breathing to correct hyperventilation.</li><li>Exclude organic mimics: ECG, glucose, vitals to rule out arrhythmia, hypoglycaemia, thyrotoxicosis.</li><li><strong>If recurrent:</strong> Refer to GP/psychiatry. First-line treatment: <strong>Cognitive Behavioural Therapy (CBT)</strong>.</li><li>SSRIs (e.g., sertraline) if persistent/panic disorder; benzodiazepines may be used short-term but not long-term due to dependence risk.</li></ul>","<strong>Step-by-step realistic ED scenario:</strong> <ul><li><strong>0–1 min:</strong> Assess ABCs, monitor vitals, check capillary glucose.</li><li><strong>1–3 min:</strong> Brief targeted exam to exclude organic causes (arrhythmia, asthma attack, seizure).</li><li><strong>3–10 min:</strong> Provide reassurance, guide patient through breathing techniques.</li><li><strong>10–30 min:</strong> Observe until full resolution; offer explanation to patient/family.</li><li><strong>Disposition:</strong> If single isolated panic attack and no red flags, discharge with GP follow-up and advice on stress reduction. If recurrent/severe, refer for mental health input.</li></ul>","<strong>Guideline cues:</strong> NICE guidance recommends <strong>CBT as first-line</strong> for panic disorder; SSRIs are pharmacological first-line if needed. Rule out organic causes before diagnosing panic attack in ED.","<strong>Common pitfalls:</strong> <ul><li>Misdiagnosing cardiac/respiratory causes as panic attack.</li><li>Over-investigation without clinical suspicion.</li><li>Discharging without explanation or follow-up plan, leading to patient anxiety and reattendance.</li></ul>","<strong>Exam takeaway:</strong> <em>Sudden self-limiting episode of palpitations, fear, dizziness, and sweating resolving in 20–30 minutes in a healthy young adult = Panic attack.</em>"]},{id:"EM-0307",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 33 year old woman has recurring tightness in her chest accompanied by palpitations and sweating. These episodes occur several times a week and are associated with increased respiratory rate and tingling and numbness around the mouth and fingers. What is the SINGLE most likely diagnosis?",options:[{key:"A",text:"Hypercalcaemia"},{key:"B",text:"Stable angina"},{key:"C",text:"Panic attack"},{key:"D",text:"Gastro-oesophageal reflux disease"},{key:"E",text:"Prinzmetal's angina"}],correct:"C",explanation_plabable:["In panic attacks, perioral paraesthesia, tingling and numbness in the hands can occur due to hyperventilation and CO₂ washout leading to low ionic calcium. The description of tightening with palpitations fits with panic attacks."],explanation_detail:["<strong>Why the answer is correct:</strong> The recurrent episodes of chest tightness, palpitations, sweating, and hyperventilation with perioral paraesthesia and distal tingling are classical for <strong>panic attacks</strong>. The neurological symptoms are due to respiratory alkalosis from hyperventilation, which lowers ionised calcium, causing tingling and numbness. The recurrent, self-limiting nature without exertional trigger rules out cardiac pathology.","<strong>Core pathophysiology/mechanism:</strong> Panic disorder is characterised by sudden surges of intense fear or discomfort, associated with sympathetic overdrive (palpitations, sweating, tremors) and hyperventilation. Hypocapnia from hyperventilation causes cerebral vasoconstriction (dizziness, confusion) and reduced ionised calcium (perioral and digital paraesthesia).","<strong>Differential diagnoses:</strong> <ul><li><strong>Hypercalcaemia:</strong> Causes constipation, polyuria, confusion, abdominal pain—not episodic panic-like features.</li><li><strong>Stable angina:</strong> Predictable exertional chest pain, relieved by rest/nitrates; not associated with tingling or panic-like autonomic symptoms.</li><li><strong>GORD:</strong> Retrosternal burning post-prandially, worse lying flat; not associated with paraesthesia.</li><li><strong>Prinzmetal's angina:</strong> Chest pain at rest due to coronary spasm; ECG shows transient ST elevation, no paraesthesia.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li>A. Hypercalcaemia causes chronic systemic symptoms, not recurrent acute episodes with panic-like features.</li><li>B. Stable angina is exertional and predictable, not sudden-onset with hyperventilation.</li><li>D. GORD causes heartburn/regurgitation, no neurological signs.</li><li>E. Prinzmetal's angina would present with ischaemic ECG changes, not tingling or numbness.</li></ul>","<strong>Management/algorithm:</strong> <ul><li><strong>Acute episode:</strong> Calm reassurance, quiet environment, encourage slow rebreathing to reduce hypocapnia.</li><li>Exclude acute organic pathology (ECG, glucose, electrolytes, thyroid if indicated).</li><li><strong>First-line long-term:</strong> Cognitive Behavioural Therapy (CBT).</li><li><strong>Pharmacological:</strong> SSRIs (sertraline, citalopram) if persistent/severe; short-term benzodiazepines only if disabling and refractory.</li><li>Address lifestyle: sleep hygiene, caffeine/alcohol reduction, stress management.</li></ul>","<strong>Step-by-step realistic ED scenario:</strong> <ul><li><strong>0–1 min:</strong> Primary survey, vitals, ECG to rule out ACS.</li><li><strong>1–3 min:</strong> Observe hyperventilation; bedside reassurance, encourage controlled breathing.</li><li><strong>3–10 min:</strong> Explain likely panic attack to patient and family, normal investigations.</li><li><strong>10–30 min:</strong> Observe until symptoms resolve; safety-net for recurrence.</li><li><strong>Disposition:</strong> Discharge with GP follow-up for CBT referral, consider SSRI initiation if recurrent.</li></ul>","<strong>Guideline cues:</strong> NICE recommends <strong>CBT as first-line</strong> for panic disorder, SSRIs if pharmacological therapy needed. Always exclude cardiac, endocrine, and metabolic causes on first presentation.","<strong>Common pitfalls:</strong> <ul><li>Attributing chest pain to panic without excluding ACS on first presentation.</li><li>Over-investigating recurrent attacks once diagnosis is clear.</li><li>Using benzodiazepines long-term, leading to dependence.</li></ul>","<strong>Exam takeaway:</strong> <em>Recurrent chest tightness with hyperventilation-induced tingling and perioral paraesthesia = panic attacks, not cardiac or metabolic disease.</em>"]},{id:"EM-1009",topic:"Emergency Medicine",difficulty:"Hard",vignetteTitle:"Clinical Vignette",stem:"An 18 year old female was brought into the ED after ingestion of 28 paracetamol tablets after breaking up with her boyfriend. She came in confused and unwell. She was admitted in the medical ward and N-Acetylcysteine was given. 24 hours later, her laboratory results show a normal FBC, an arterial pH of <strong>7.1</strong>, Prothrombin time of <strong>17 seconds</strong> and creatinine of <strong>255µmol/L</strong>. She is still confused and lethargic. What is the SINGLE most appropriate management?<br/><br/>Normal Lab values:<br/>Creatinine: <strong>70–150 µmol/L</strong><br/>pH: <strong>7.35–7.45</strong><br/>Prothrombin time (PT): <strong>11–14 sec</strong>",options:[{key:"A",text:"Observe for another 24 hours"},{key:"B",text:"Admit to psychiatric ward"},{key:"C",text:"Intravenous fluids"},{key:"D",text:"Administer charcoal"},{key:"E",text:"Liver transplantation"}],correct:"E",explanation_plabable:["Her arterial pH is 7.1 which is an indication for liver transplantation.","King’s College Hospital criteria for liver transplantation (paracetamol liver failure):<br/>• arterial pH < 7.3, 24 hours after ingestion OR all of the following:<br/>– prothrombin time > 100 seconds<br/>– creatinine > 300 µmol/L<br/>– grade III or IV encephalopathy","Generally, if one takes more than 24 tablets (12 g), we admit. Paracetamol poisoning is always dealt in the medical ward (not psychiatry ward). Only once treated and stable can they move to a psychiatric ward for evaluation.","In reality, grafts are not readily available and much research is being conducted to try and maintain the patient in a stable condition until a suitable graft is available or spontaneous regeneration occurs and the patient recovers without transplantation."],explanation_detail:["<strong>Why the answer is correct:</strong> This patient ingested a potentially lethal dose of paracetamol and now, 24 hours later, fulfils <strong>King’s College criteria</strong> for urgent liver transplantation: arterial pH <7.3, creatinine >300 µmol/L (close at 255 µmol/L), prolonged PT, and clinical encephalopathy (confusion, lethargy). NAC has already been given but severe hepatic failure has developed. The only life-saving option is <strong>liver transplantation</strong>.","<strong>Core pathophysiology/mechanism:</strong> In overdose, paracetamol saturates glucuronidation/sulfation pathways, shunting metabolism to cytochrome P450 → toxic metabolite NAPQI. With glutathione depletion, NAPQI accumulates, causing centrilobular hepatic necrosis and multiorgan failure. Severe acidosis (pH <7.3) indicates overwhelming metabolic failure and is a poor prognostic marker.","<strong>Differential diagnoses:</strong> <ul><li><strong>Alcoholic hepatitis:</strong> Requires alcohol history, not acute overdose.</li><li><strong>Viral hepatitis:</strong> More gradual onset, no NAC use, not associated with acute acidosis.</li><li><strong>Sepsis with lactic acidosis:</strong> Possible but here clear paracetamol history with NAC given.</li><li><strong>Other overdoses:</strong> Aspirin can cause acidosis but no tinnitus or mixed alkalosis/acidosis picture here.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li><strong>A. Observe another 24 h:</strong> Unsafe, patient already meets poor prognostic criteria.</li><li><strong>B. Psychiatric admission:</strong> Appropriate <em>after</em> stabilisation; not while in fulminant hepatic failure.</li><li><strong>C. IV fluids:</strong> Supportive but not definitive; does not reverse fulminant liver failure.</li><li><strong>D. Activated charcoal:</strong> Ineffective at 24 h post-ingestion, benefit only within 1 h of ingestion.</li></ul>","<strong>Management/algorithm:</strong> <ul><li><strong>Immediate:</strong> Supportive care in ICU, NAC already given, monitor vitals, electrolytes, glucose, clotting.</li><li><strong>Urgent referral to transplant centre</strong> as per King’s criteria.</li><li>Continue NAC until definitive decision made (supports antioxidant capacity even late).</li><li>Correct hypoglycaemia with IV 10–20% dextrose infusion; monitor hourly glucose.</li><li>Treat coagulopathy with vitamin K and FFP if bleeding.</li><li>Monitor for cerebral oedema; consider mannitol or hypertonic saline if signs of raised ICP.</li></ul>","<strong>Step-by-step realistic ED scenario:</strong> <ul><li><strong>0–1 min:</strong> ABC stabilisation, oxygen, IV access, continuous monitoring, bedside glucose.</li><li><strong>1–3 min:</strong> Review labs (pH 7.1, raised creatinine, prolonged PT) confirming King’s criteria.</li><li><strong>3–10 min:</strong> Call national liver transplant centre, arrange urgent transfer.</li><li><strong>10–30 min:</strong> Continue NAC infusion, start IV dextrose, correct electrolytes.</li><li><strong>30–60 min:</strong> Admit to ICU for airway/ventilation support, monitor for cerebral oedema, liaise with transplant surgeons.</li><li><strong>Disposition:</strong> Transfer to transplant unit for definitive management.</li></ul>","<strong>Guideline cues:</strong> King’s College criteria (for paracetamol liver failure): arterial pH <7.3 at 24 h OR all three of: PT >100s, creatinine >300 µmol/L, and grade III/IV encephalopathy. This patient already fulfils these criteria.","<strong>Common pitfalls:</strong> <ul><li>Delaying transplant referral until multi-organ failure is advanced.</li><li>Stopping NAC once liver failure established — it should be continued until transplant.</li><li>Admitting to psychiatry before medical stabilisation.</li></ul>","<strong>Exam takeaway:</strong> <em>Paracetamol overdose with pH <7.3 after 24 h = King’s College criteria → urgent liver transplantation referral.</em>"]},{id:"SS-0046",topic:"Emergency Medicine",difficulty:"Medium",vignetteTitle:"Clinical Vignette",stem:"A 24 year old male presents to A&E with 40% partial thickness burns after having been in a house fire. His pulse rate is 115 bpm and respiratory rate is 29 breaths per minute. His systolic blood pressure is 80 mmHg. What is the SINGLE most appropriate management?",options:[{key:"A",text:"IV fluids calculated from the time of hospital arrival"},{key:"B",text:"IV fluids calculated from the time of burn"},{key:"C",text:"Oral rehydration"},{key:"D",text:"IV dextrose stat"},{key:"E",text:"IV morphine"}],correct:"B",explanation_plabable:["These are the steps that you need to know for the treatment of burns for the exam. Note the order:","1. Large-calibre intravenous lines must be established immediately in a peripheral vein. Any adult with burns affecting more than 15% of the total body surface area burned or a child with more than 10% of the total body surface area burned requires fluid replacement calculated from the time of the burn.","2. Ensure adequate analgesia: strong opiates should be used.","3. Prevent hypothermia."],explanation_detail:["<strong>Why the answer is correct:</strong> Adults with burns covering >15% TBSA require IV fluid resuscitation. In this case, the patient has 40% TBSA burns and is already hypotensive (SBP 80 mmHg). The Parkland formula is used to guide resuscitation: <strong>4 mL × body weight (kg) × %TBSA</strong> = total fluids in 24 h, with half given in the first 8 h <em>from the time of burn</em>, not hospital arrival. Delaying resuscitation risks worsening hypovolaemia and burn shock.","<strong>Core pathophysiology/mechanism:</strong> Severe burns cause capillary leak, plasma loss, and third spacing → intravascular volume depletion → hypovolaemic shock. Prompt fluid replacement prevents organ hypoperfusion, metabolic acidosis, and death. Early resuscitation also reduces risk of acute kidney injury and improves outcomes.","<strong>Differential diagnoses:</strong> <ul><li><em>Smoke inhalation injury:</em> common in house fires, but airway compromise is managed alongside fluid resuscitation, not instead of it.</li><li><em>Septic shock:</em> unlikely at presentation, occurs later.</li><li><em>Cardiogenic shock:</em> not consistent with history of major burns and tachycardia with hypotension.</li></ul>","<strong>Why the other options are wrong:</strong> <ul><li><strong>A. IV fluids from time of hospital arrival:</strong> Incorrect—calculation starts at burn time; otherwise, under-resuscitation occurs.</li><li><strong>C. Oral rehydration:</strong> Inadequate in major burns with hypovolaemic shock.</li><li><strong>D. IV dextrose stat:</strong> Does not replace fluid losses; risk of hyperglycaemia.</li><li><strong>E. IV morphine:</strong> Analgesia is important, but resuscitation takes priority in unstable patients.</li></ul>","<strong>Management/algorithm:</strong> <ul><li><strong>Immediate:</strong> A–E assessment, airway protection (look for smoke inhalation, carbon monoxide), high-flow oxygen, 2 large-bore IV cannulae.</li><li>Calculate fluid requirement using Parkland formula: <strong>4 mL × weight (kg) × %TBSA</strong>.</li><li>Give half within 8 h from burn onset; remaining half over next 16 h.</li><li>Fluid of choice: <strong>Ringer’s lactate</strong> (Hartmann’s). Aim urine output 0.5–1 mL/kg/h.</li><li>Provide IV opioids for analgesia once circulation secured.</li><li>Cover burns with cling film/sterile sheets; prevent hypothermia.</li><li>Tetanus prophylaxis as indicated.</li></ul>","<strong>Step-by-step realistic ED scenario:</strong> <ul><li><strong>0–1 min:</strong> Primary survey, high-flow O₂, remove burnt clothing, estimate %TBSA using Wallace rule of nines.</li><li><strong>1–3 min:</strong> Insert 2 large-bore IVs, take bloods (FBC, U&E, ABG, COHb).</li><li><strong>3–10 min:</strong> Begin fluid resuscitation per Parkland formula, calculating from burn time; start Hartmann’s.</li><li><strong>10–30 min:</strong> Insert urinary catheter; monitor urine output hourly. Provide IV morphine for analgesia.</li><li><strong>30–60 min:</strong> Ongoing reassessment: vitals, fluid balance, repeat ABG. Cover burns with sterile sheets; prevent hypothermia.</li><li><strong>Disposition:</strong> Admit to burns unit/ICU, arrange transfer if needed.</li></ul>","<strong>Guideline cues:</strong> Advanced Trauma Life Support (ATLS) and British Burn Association recommend immediate IV resuscitation for adults >15% TBSA burns, calculated from burn time, with Hartmann’s as preferred fluid.","<strong>Common pitfalls:</strong> <ul><li>Calculating fluids from hospital arrival rather than time of burn.</li><li>Failing to monitor urine output, leading to over/under-resuscitation.</li><li>Delaying airway assessment in smoke inhalation cases.</li></ul>","<strong>Exam takeaway:</strong> <em>Burns >15% TBSA in adults → IV fluids calculated from burn time using Parkland formula; airway and analgesia follow immediately after.</em>"]}];function By(o){const l=[...o];for(let d=l.length-1;d>0;d--){const c=Math.floor(Math.random()*(d+1));[l[d],l[c]]=[l[c],l[d]]}return l}const Iy=/^[0-9+\-*/().\s^%]*$/;function Hy(o){if(!Iy.test(o))throw new Error("Invalid characters");const l=o.replace(/(\d+(?:\.\d+)?)\s*\^\s*(\d+(?:\.\d+)?)/g,"Math.pow($1,$2)");return Function(`"use strict"; return (${l||0});`)()}function Ul({open:o,onClose:l,title:d,children:c,maxW:p="max-w-2xl",overlayClass:y="bg-black/30"}){return o?n.jsxs("div",{className:"fixed inset-0 z-[60]",children:[n.jsx("div",{className:`absolute inset-0 ${y}`,onClick:l}),n.jsx("div",{className:"absolute inset-0 overflow-auto",children:n.jsx("div",{className:`mx-auto ${p} p-4`,children:n.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:d}),n.jsx("button",{onClick:l,className:"px-2 py-1 rounded-lg text-slate-600 hover:bg-slate-100",children:"✕"})]}),n.jsx("div",{className:"p-4",children:c})]})})})]}):null}function Ly(){const o=[{name:"Hb",value:"M 13–17 g/dL • F 12–15"},{name:"WBC",value:"4–11 ×10⁹/L"},{name:"Platelets",value:"150–400 ×10⁹/L"},{name:"Na⁺",value:"135–145 mmol/L"},{name:"K⁺",value:"3.5–5.0 mmol/L"},{name:"Cl⁻",value:"98–106 mmol/L"},{name:"HCO₃⁻",value:"22–28 mmol/L"},{name:"Urea",value:"2.5–7.1 mmol/L"},{name:"Creatinine",value:"M 60–110 • F 45–90 µmol/L"},{name:"Glucose (fasting)",value:"3.9–5.5 mmol/L"},{name:"Lactate",value:"0.5–2.2 mmol/L"},{name:"INR",value:"0.8–1.2 (lab-dependent)"},{name:"pH (ABG)",value:"7.35–7.45"},{name:"PaCO₂",value:"4.7–6.0 kPa"},{name:"PaO₂ (room air)",value:"10–13 kPa"},{name:"Troponin (99th %ile)",value:"lab-specific cut-off"}];return n.jsxs("div",{className:"max-h-[60vh] overflow-auto",children:[n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-slate-600",children:[n.jsx("th",{className:"py-2 pr-3",children:"Test"}),n.jsx("th",{className:"py-2",children:"Reference Range"})]})}),n.jsx("tbody",{children:o.map(l=>n.jsxs("tr",{className:"border-t border-slate-200",children:[n.jsx("td",{className:"py-2 pr-3 font-medium",children:l.name}),n.jsx("td",{className:"py-2 text-slate-700",children:l.value})]},l.name))})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Ranges vary by lab and context; this is for quick revision."})]})}function zy(){const[o,l]=b.useState(""),[d,c]=b.useState(""),p=["7","8","9","/","4","5","6","*","1","2","3","-","0",".","(",")","+","^"],y=w=>l(f=>f+w),v=()=>{try{c(String(Hy(o)))}catch{c("Error")}};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{className:"flex-1 rounded-lg border border-slate-300 px-3 py-2",value:o,onChange:w=>l(w.target.value),placeholder:"e.g. (12.5*3)/4"}),n.jsx("button",{onClick:()=>{l(""),c("")},className:"rounded-lg border px-3",children:"Clear"}),n.jsx("button",{onClick:v,className:"rounded-lg bg-purple-600 text-white px-4",children:"="})]}),n.jsx("div",{className:"grid grid-cols-9 gap-1",children:p.map(w=>n.jsx("button",{onClick:()=>y(w),className:"rounded-lg border py-2 hover:bg-slate-50",children:w},w))}),n.jsxs("div",{className:"text-sm text-slate-600",children:["Result: ",n.jsx("span",{className:"font-semibold text-slate-900",children:d})]})]})}function Oy({open:o,onPick:l}){return b.useEffect(()=>{if(o){const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=d}},[o]),n.jsxs(Ul,{open:o,onClose:()=>{},title:"Start Acute & Emergency",maxW:"max-w-lg",overlayClass:"bg-white",children:[n.jsx("p",{className:"text-slate-600 mb-4",children:"How would you like to order the questions?"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("button",{onClick:()=>l("random"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Randomised"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Shuffle questions for exam-style practice."})]}),n.jsxs("button",{onClick:()=>l("number"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"By question number"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Go in sequence (Q1, Q2, Q3 …)."})]})]})]})}function Vy(){const o=Mi(),[l,d]=b.useState(ji.map((Z,_)=>_)),[c,p]=b.useState(!1),[y,v]=b.useState(!1),[w,f]=b.useState(0),[g,C]=b.useState({}),[B,M]=b.useState({}),[z,W]=b.useState(!1),[Q,X]=b.useState(!1),[U,ie]=b.useState(!1),J=b.useRef(null),K=ji[l[w]],q=ji.length,re=(w+1)/Math.max(q,1)*100,ye=()=>{const Z=J.current;if(!Z)return;const _=window.getSelection&&window.getSelection();if(!(!_||_.rangeCount===0))try{const S=_.getRangeAt(0);if(!Z.contains(S.commonAncestorContainer)||String(S).trim().length===0)return;const H=document.createElement("mark");H.className="bg-yellow-200 rounded px-0.5",S.surroundContents(H),_.removeAllRanges()}catch{const S=Z.getAttribute("contenteditable");Z.setAttribute("contenteditable","true"),document.execCommand("hiliteColor",!1,"#FEF08A"),S!==null?Z.setAttribute("contenteditable",S):Z.removeAttribute("contenteditable")}};b.useEffect(()=>{if(!U)return;const Z=()=>ye();return document.addEventListener("mouseup",Z),()=>document.removeEventListener("mouseup",Z)},[U]);const ue=()=>{const Z=J.current;Z&&Z.querySelectorAll("mark").forEach(_=>{const S=_.parentNode;for(;_.firstChild;)S.insertBefore(_.firstChild,_);S.removeChild(_)})};b.useMemo(()=>{const Z={};return l.forEach((_,S)=>{const H=ji[_].id,F=g[H];F?Z[S]=F===ji[_].correct?"correct":"incorrect":Z[S]="unanswered"}),Z},[g,l]);const V=Z=>{const _=Z==="random"?By(ji.map((S,H)=>H)):ji.map((S,H)=>H);d(_),f(0),C({}),M({}),p(!0)};b.useEffect(()=>{const Z=_=>{_.key==="ArrowRight"&&w<q-1&&f(S=>S+1),_.key==="ArrowLeft"&&w>0&&f(S=>S-1)};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[w,q]);const te=Z=>C(_=>({..._,[K.id]:Z})),De=()=>M(Z=>({...Z,[K.id]:!0})),ke=()=>w<q-1&&f(Z=>Z+1),Oe=()=>w>0&&f(Z=>Z-1);return n.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[n.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-slate-200",children:n.jsxs("div",{className:"mx-auto max-w-[1100px] px-4 py-3 flex items-center justify-between",children:[n.jsx(nt,{to:"/",className:"text-2xl font-extrabold text-purple-700",children:"Mediwise"}),n.jsxs("div",{className:"flex items-center gap-4 w-[320px]",children:[n.jsxs("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:["Question ",Math.min(w+1,q)," of ",q]}),n.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${re}%`}})})]}),n.jsx("button",{onClick:()=>o("/plabable"),className:"rounded-xl px-4 py-2 border border-slate-200 hover:bg-slate-50 text-slate-700",children:"End Session"})]})}),n.jsx("button",{onClick:()=>v(Z=>!Z),className:"fixed z-50 top-[120px] h-9 w-9 rounded-xl shadow-sm border bg-white flex items-center justify-center text-slate-600 hover:bg-slate-50 transition-all",style:{left:y?316:12},title:y?"Hide questions":"Show questions",children:y?"‹":"›"}),n.jsx("div",{className:"mx-auto max-w-[1100px] px-2 md:px-4 py-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("aside",{className:["fixed top-[64px] left-0 z-40 h-[calc(100vh-64px)] w-[300px]","bg-white border-r border-slate-200 shadow","transition-transform",y?"translate-x-0":"-translate-x-[310px]"].join(" "),children:n.jsxs("div",{className:"h-full overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-slate-200",children:[n.jsx("p",{className:"font-semibold",children:"Questions"}),n.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs",children:[n.jsxs("span",{className:"flex items-center gap-1 text-emerald-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"})," Correct"]}),n.jsxs("span",{className:"flex items-center gap-1 text-rose-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"})," Incorrect"]}),n.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})," Unanswered"]})]})]}),n.jsx("ol",{className:"p-3 space-y-3",children:l.map((Z,_)=>{const S=ji[Z],H=g[S.id],F=H?H===S.correct?"correct":"incorrect":"unanswered",E=_===w?"ring-2 ring-purple-300":F==="correct"?"ring-2 ring-emerald-300":F==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>f(_),className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${E}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",_+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:S.stem}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:S.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:S.difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${F==="correct"?"bg-emerald-500":F==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},S.id)})}),n.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[n.jsx("button",{onClick:()=>W(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Lab values"}),n.jsx("button",{onClick:()=>X(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Calculator"})]})]})}),n.jsx("div",{className:`transition-all ${y?"md:pl-[320px]":"ml-12 md:ml-0"}`,children:n.jsxs("div",{className:"mx-auto md:pr-[56px]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Clinical Vignette"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"mr-2 text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:K.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:K.difficulty})]})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["ID: ",K.id]})]}),n.jsxs("div",{className:"p-6 space-y-5",ref:J,children:[n.jsx("div",{className:"text-[15px] leading-relaxed",dangerouslySetInnerHTML:{__html:K.stem}}),K.image&&n.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200",children:n.jsx("img",{src:K.image,alt:"ECG",className:"w-full block"})}),n.jsx("div",{className:"space-y-3",children:K.options.map(Z=>{const _=g[K.id],S=!!B[K.id],H=Z.key===K.correct,F=S?H?"border-emerald-300 bg-emerald-50":_===Z.key?"border-rose-300 bg-rose-50":"border-slate-200 bg-white":"border-slate-200 bg-white hover:bg-slate-50";return n.jsxs("label",{className:`flex items-center gap-3 rounded-xl border px-4 py-3 cursor-pointer ${F}`,children:[n.jsx("input",{type:"radio",name:`ans-${K.id}`,className:"h-4 w-4 text-purple-600",checked:_===Z.key,onChange:()=>te(Z.key),disabled:S}),n.jsxs("span",{className:"text-[15px]",children:[n.jsxs("span",{className:"font-medium",children:[Z.key,"."]})," ",Z.text]})]},Z.key)})}),n.jsx("div",{className:"pt-2 flex flex-wrap gap-2",children:B[K.id]?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:ke,disabled:w>=q-1,className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Next Question →"}),n.jsx("button",{onClick:Oe,disabled:w===0,className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"← Previous"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:De,disabled:!g[K.id],className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Submit Answer"}),n.jsx("button",{onClick:()=>C(Z=>({...Z,[K.id]:void 0})),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Clear"})]})}),B[K.id]&&n.jsxs("div",{className:"mt-2 space-y-4",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[n.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:"Plabable Explanation"}),n.jsx("div",{className:"space-y-2 text-slate-800",children:K.explanation_plabable?.map((Z,_)=>n.jsx("p",{dangerouslySetInnerHTML:{__html:Z}},_))})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[n.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:"Detailed Explanation"}),n.jsx("div",{className:"space-y-2 text-slate-800",children:K.explanation_detail?.map((Z,_)=>n.jsx("p",{dangerouslySetInnerHTML:{__html:Z}},_))})]})]})]})]}),n.jsxs("div",{className:"fixed right-4 top-[140px] flex flex-col gap-3",children:[n.jsx("button",{title:"Calculator",onClick:()=>X(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧮"}),n.jsx("button",{title:"Lab values",onClick:()=>W(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧪"}),n.jsx("button",{title:"Toggle highlight mode",onClick:()=>ie(Z=>!Z),className:`h-10 w-10 rounded-lg border shadow-sm hover:bg-slate-50 ${U?"border-purple-400 bg-purple-50 text-purple-700":"border-slate-200 bg-white text-slate-700"}`,children:"🖍️"}),n.jsx("button",{title:"Clear highlights",onClick:ue,className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧽"})]})]})})]})}),n.jsx(Ul,{open:z,onClose:()=>W(!1),title:"Common Lab Values",children:n.jsx(Ly,{})}),n.jsx(Ul,{open:Q,onClose:()=>X(!1),title:"Calculator",children:n.jsx(zy,{})}),n.jsx(Oy,{open:!c,onPick:V})]})}const ah=[{slug:"acute-coronary-syndrome",title:"Acute Coronary Syndrome (ACS)",tags:"ischemia chest pain mi nstemi stemi"},{slug:"stable-angina",title:"Stable Angina",tags:"ischemia chest pain exertional"},{slug:"atrial-fibrillation",title:"Atrial Fibrillation",tags:"arrhythmia af anticoag"},{slug:"atrial-flutter",title:"Atrial Flutter",tags:"arrhythmia"},{slug:"svt",title:"Supraventricular Tachycardia (SVT)",tags:"arrhythmia avnrt avrt"},{slug:"ventricular-tachycardia",title:"Ventricular Tachycardia",tags:"arrhythmia vt wide-complex"},{slug:"bradyarrhythmias-av-blocks",title:"Bradyarrhythmias & AV Blocks",tags:"arrhythmia heart block"},{slug:"syncope",title:"Syncope",tags:"arrhythmia reflex orthostatic"},{slug:"heart-failure",title:"Heart Failure",tags:"hfref hfpef congestion"},{slug:"dilated-cardiomyopathy",title:"Dilated Cardiomyopathy",tags:"cardiomyopathy"},{slug:"hypertrophic-cardiomyopathy",title:"Hypertrophic Cardiomyopathy (HCM)",tags:"cardiomyopathy"},{slug:"restrictive-cardiomyopathy",title:"Restrictive Cardiomyopathy",tags:"cardiomyopathy amyloid"},{slug:"aortic-stenosis",title:"Aortic Stenosis",tags:"valve murmur"},{slug:"aortic-regurgitation",title:"Aortic Regurgitation",tags:"valve murmur"},{slug:"mitral-regurgitation",title:"Mitral Regurgitation",tags:"valve murmur"},{slug:"mitral-stenosis",title:"Mitral Stenosis",tags:"valve rheumatic"},{slug:"tricuspid-and-pulmonic-valve-disease",title:"Tricuspid & Pulmonic Valve Disease",tags:"valve"},{slug:"infective-endocarditis",title:"Infective Endocarditis",tags:"valve infection duke"},{slug:"pericarditis",title:"Acute Pericarditis",tags:"pericardial st-elevation diffuse rub"},{slug:"pericardial-effusion-tamponade",title:"Pericardial Effusion & Tamponade",tags:"pericardial beck triad"},{slug:"myocarditis",title:"Myocarditis",tags:"troponin viral"},{slug:"hypertension",title:"Hypertension",tags:"bp"},{slug:"hyperlipidemia",title:"Hyperlipidemia",tags:"lipids"},{slug:"aortic-dissection",title:"Aortic Dissection",tags:"vascular tearing pain mediastinum"},{slug:"peripheral-arterial-disease",title:"Peripheral Arterial Disease (PAD)",tags:"claudication"},{slug:"dvt-pe-overview",title:"Venous Thromboembolism (DVT/PE) – Overview",tags:"vte"}];function Gy({d:o}){return n.jsxs(nt,{to:`/diseases/cardiovascular/${o.slug}`,className:"block rounded-2xl border border-slate-200 bg-white p-4 shadow-sm hover:shadow-md transition",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:o.title}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:o.slug})]})}function _y(){const[o,l]=b.useState(""),d=b.useMemo(()=>{const c=o.trim().toLowerCase();return c?ah.filter(p=>p.title.toLowerCase().includes(c)||p.slug.includes(c)||p.tags&&p.tags.includes(c)):ah},[o]);return n.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:n.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[n.jsxs("header",{className:"mb-6 flex flex-col md:flex-row md:items-end md:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold",children:"Cardiovascular"}),n.jsx("p",{className:"mt-2 text-slate-600",children:"Pick a topic to dive into a focused, exam-ready page."})]}),n.jsx("div",{className:"w-full md:w-80",children:n.jsx("input",{value:o,onChange:c=>l(c.target.value),placeholder:"Search cardiology topics...",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/60"})})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(c=>n.jsx(Gy,{d:c},c.slug))})]})})}function _e({title:o,intro:l,sections:d=[]}){return n.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:n.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[n.jsxs("header",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold",children:o}),l&&n.jsx("p",{className:"mt-2 text-slate-600",children:l})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsx("aside",{className:"md:col-span-1",children:n.jsxs("nav",{className:"rounded-2xl border border-slate-200 bg-white p-4 sticky top-24",children:[n.jsx("p",{className:"font-semibold mb-2",children:"On this page"}),n.jsx("ul",{className:"space-y-2 text-sm",children:d.map(c=>n.jsx("li",{children:n.jsx("a",{className:"hover:underline",href:`#${c.id}`,children:c.title})},c.id))})]})}),n.jsx("main",{className:"md:col-span-2 space-y-8",children:d.map(c=>n.jsxs("section",{id:c.id,className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[n.jsx("h2",{className:"text-xl font-bold",children:c.title}),Array.isArray(c.content)?n.jsx("ul",{className:"list-disc ml-5 mt-2 space-y-1 text-slate-700",children:c.content.map((p,y)=>n.jsx("li",{children:p},y))}):n.jsx("p",{className:"mt-2 text-slate-700",children:c.content})]},c.id))})]})]})})}function Uy(){return n.jsx(_e,{title:"Respiratory",intro:"Asthma, COPD, pneumonia, ILD, PE.",sections:[{id:"presentations",title:"Typical Presentations",content:["Wheeze, cough, SOB","Pleuritic chest pain","Hypoxemia","Hemoptysis"]},{id:"red-flags",title:"Red Flags",content:["Silent chest","Severe hypoxia","Massive hemoptysis","Tension pneumothorax"]},{id:"first-tests",title:"First-Line Tests",content:["CXR","Pulse ox/ABG","Peak flow/spirometry","D-dimer/CTPA if PE"]},{id:"management",title:"Management Skeleton",content:["O2/bronchodilators/steroids","Abx per severity","Anticoagulation for PE"]}]})}function qy(){return n.jsx(_e,{title:"Gastrointestinal & Hepatology",intro:"Ulcers, IBD, pancreatitis, biliary disease, cirrhosis.",sections:[{id:"presentations",title:"Typical Presentations",content:["RUQ pain ± jaundice","Epigastric pain to back","Bloody diarrhea","Ascites"]},{id:"red-flags",title:"Red Flags",content:["Peritonitis","GI bleeding/shock","Ascending cholangitis","Acute liver failure"]},{id:"first-tests",title:"First-Line Tests",content:["FBC/CRP","LFTs/lipase","US/CT abdomen","Stool studies"]},{id:"management",title:"Management Skeleton",content:["UGIB resus + PPI + scope","Pancreatitis fluids/analgesia","IBD flare steroids/biologics"]}]})}function Fy(){return n.jsx(_e,{title:"Renal/Genitourinary",intro:"AKI vs CKD, nephritic vs nephrotic, stones, UTIs.",sections:[{id:"presentations",title:"Typical Presentations",content:["Oliguria/edema","Flank pain","Dysuria/frequency","Foamy urine"]},{id:"red-flags",title:"Red Flags",content:["Anuria","Septic pyelonephritis","Obstruction with AKI","Hyperkalemia ECG changes"]},{id:"first-tests",title:"First-Line Tests",content:["U&E/eGFR","Urinalysis + ACR","Renal US","CT KUB for stones"]},{id:"management",title:"Management Skeleton",content:["AKI pre/renal/post approach","Relieve obstruction","UTI abx per local guide"]}]})}function Wy(){return n.jsx(_e,{title:"Endocrine",intro:"Diabetes, thyroid, adrenal, pituitary.",sections:[{id:"presentations",title:"Typical Presentations",content:["Weight change","Heat/cold intolerance","Polyuria/polydipsia","Hypoglycemia"]},{id:"red-flags",title:"Red Flags",content:["DKA/HHS","Adrenal crisis","Thyroid storm","Myxedema coma"]},{id:"first-tests",title:"First-Line Tests",content:["HbA1c/ketones","TSH/FT4","8am cortisol ± ACTH","Electrolytes"]},{id:"management",title:"Management Skeleton",content:["DKA protocol","Hypo/Hyperthyroid algorithms","Stress-dose steroids"]}]})}function Qy(){return n.jsx(_e,{title:"Neurology",intro:"Stroke, seizures, demyelination, peripheral neuropathies.",sections:[{id:"presentations",title:"Typical Presentations",content:["Focal deficits","Headache","Seizures","Weakness/sensory loss"]},{id:"red-flags",title:"Red Flags",content:["Thunderclap headache","Meningism + fever","Status epilepticus","Cord compression"]},{id:"first-tests",title:"First-Line Tests",content:["CT/MRI brain","Glucose/electrolytes","ECG (AF?)","LP if safe/indicated"]},{id:"management",title:"Management Skeleton",content:["Stroke thrombolysis/thrombectomy criteria","Seizure abort + maintenance","MS relapse steroids"]}]})}function Xy(){return n.jsx(_e,{title:"MSK/Rheumatology",intro:"OA/RA, SLE, vasculitides, gout.",sections:[{id:"presentations",title:"Typical Presentations",content:["Inflammatory vs mechanical pain","Morning stiffness","Rash/ulcers","Back pain red flags"]},{id:"red-flags",title:"Red Flags",content:["Septic joint","Cauda equina","Limb ischemia","Rapidly progressive weakness"]},{id:"first-tests",title:"First-Line Tests",content:["CRP/ESR","RF/anti-CCP/ANA","Joint aspiration","X-ray targeted joints"]},{id:"management",title:"Management Skeleton",content:["RA DMARD ladder","Gout flare + urate lowering","SLE steroids + immunosuppression"]}]})}function Yy(){return n.jsx(_e,{title:"Hematology",intro:"Anemias, hemoglobinopathies, coagulopathies.",sections:[{id:"presentations",title:"Typical Presentations",content:["Fatigue/pallor","Bleeding/bruising","Thrombosis","Infections in neutropenia"]},{id:"red-flags",title:"Red Flags",content:["DIC","Massive bleed","TTP features","Febrile neutropenia"]},{id:"first-tests",title:"First-Line Tests",content:["FBC/film","Iron/B12/folate","PT/APTT/fibrinogen","LDH/haptoglobin"]},{id:"management",title:"Management Skeleton",content:["Transfusion thresholds","Iron therapy","Anticoagulation/ reversal","Neutropenic sepsis protocol"]}]})}function Ky(){return n.jsx(_e,{title:"Oncology",intro:"Solid tumours, staging principles, systemic therapy basics.",sections:[{id:"presentations",title:"Typical Presentations",content:["Unintentional weight loss","Painless mass","Obstructive symptoms","Paraneoplastic syndromes"]},{id:"red-flags",title:"Red Flags",content:["Spinal cord compression","SVC syndrome","Tumour lysis","Neutropenic sepsis"]},{id:"first-tests",title:"First-Line Tests",content:["CT staging","Biopsy/histology","Tumour markers (selected)","Performance status"]},{id:"management",title:"Management Skeleton",content:["Surgery/radiation/systemic triad","Palliative vs curative intent","Toxicity monitoring"]}]})}function Zy(){return n.jsx(_e,{title:"Infectious Diseases",intro:"Sepsis, TB, HIV, tropical, antimicrobial strategy.",sections:[{id:"presentations",title:"Typical Presentations",content:["Fever source unknown","Respiratory/urinary infections","Rashes","Travel history"]},{id:"red-flags",title:"Red Flags",content:["Septic shock","Meningitis","Necrotizing fasciitis","Severe malaria"]},{id:"first-tests",title:"First-Line Tests",content:["FBC/CRP","Cultures before abx","CXR/urinalysis","Rapid tests (malaria, flu)"]},{id:"management",title:"Management Skeleton",content:["Sepsis 1-hour bundle","Empiric → targeted abx","Infection control & isolation"]}]})}function $y(){return n.jsx(_e,{title:"Allergy & Immunology",intro:"Anaphylaxis, urticaria, immunodeficiency, vaccines.",sections:[{id:"presentations",title:"Typical Presentations",content:["Urticaria/angioedema","Recurrent infections","Atopy/asthma","Contact reactions"]},{id:"red-flags",title:"Red Flags",content:["Airway compromise","Hypotension","Severe drug reaction (SJS/TEN)"]},{id:"first-tests",title:"First-Line Tests",content:["Tryptase (anaphylaxis)","Ig levels","Skin-prick/specific IgE","CBC diff"]},{id:"management",title:"Management Skeleton",content:["IM adrenaline","Adjuncts (antihistamines, steroids)","Epi auto-injector education"]}]})}function Jy(){return n.jsx(_e,{title:"Psychiatry",intro:"Mood, anxiety, psychosis, substance use.",sections:[{id:"presentations",title:"Typical Presentations",content:["Low mood/anhedonia","Panic","Hallucinations/delusions","Withdrawal states"]},{id:"red-flags",title:"Red Flags",content:["Suicidality","Homicidality","Catatonia","Delirium"]},{id:"first-tests",title:"First-Line Tests",content:["Risk assessment","TFTs/B12 (reversible causes)","Urine tox screen","Collateral history"]},{id:"management",title:"Management Skeleton",content:["Safety plan","CBT/medication","Inpatient criteria","Substance use pathways"]}]})}function eb(){return n.jsx(_e,{title:"Dermatology",intro:"Eczema, psoriasis, bullous disease, skin cancers.",sections:[{id:"presentations",title:"Typical Presentations",content:["Pruritic plaques","Silvery scales","Blisters","Changing mole"]},{id:"red-flags",title:"Red Flags",content:["SJS/TEN","Erythroderma","Nec fasc signs","Rapidly growing pigmented lesion"]},{id:"first-tests",title:"First-Line Tests",content:["Derm exam ABCDE","KOH scrape (fungal)","Punch/excisional biopsy"]},{id:"management",title:"Management Skeleton",content:["Topicals vs systemic","Phototherapy","Surgical margins for NMSC"]}]})}function tb(){return n.jsx(_e,{title:"Reproductive (Ob/Gyn)",intro:"Obstetrics, contraception, infertility, STIs.",sections:[{id:"presentations",title:"Typical Presentations",content:["PV bleeding","Pelvic pain","Amenorrhea","Pregnancy complaints"]},{id:"red-flags",title:"Red Flags",content:["Ectopic pregnancy","PPH","Pre-eclampsia/eclampsia","Sepsis"]},{id:"first-tests",title:"First-Line Tests",content:["β-hCG","Pelvic US","STI NAAT","Hb/group & save if bleeding"]},{id:"management",title:"Management Skeleton",content:["Ectopic algorithms","Hypertensive disorders of pregnancy","Contraception counselling"]}]})}function ib(){return n.jsx(_e,{title:"Pediatrics",intro:"Congenital conditions, infections, development.",sections:[{id:"presentations",title:"Typical Presentations",content:["Fever in infant","Rash illnesses","Failure to thrive","Wheeze/bronchiolitis"]},{id:"red-flags",title:"Red Flags",content:["Neonatal sepsis","Dehydration","Resp distress","Non-accidental injury"]},{id:"first-tests",title:"First-Line Tests",content:["Age-specific obs","Urine/cultures","CXR if indicated","Developmental screen"]},{id:"management",title:"Management Skeleton",content:["Sepsis bundles","Rehydration protocols","Asthma pediatric pathway"]}]})}function ab(){return n.jsx(_e,{title:"Ophthalmology",intro:"Red eye, glaucoma, cataract, retinal disease.",sections:[{id:"presentations",title:"Typical Presentations",content:["Painful red eye","Sudden painless vision loss","Flashes/floaters","Eye trauma"]},{id:"red-flags",title:"Red Flags",content:["Acute angle-closure glaucoma","Central retinal artery occlusion","Open globe injury","Endophthalmitis"]},{id:"first-tests",title:"First-Line Tests",content:["Visual acuity","Fluorescein stain","TONO (if trained)","Fundoscopy"]},{id:"management",title:"Management Skeleton",content:["Urgent ophthalmology referral thresholds","Topical vs systemic therapy basics"]}]})}function nb(){return n.jsx(_e,{title:"ENT (Otolaryngology)",intro:"Otitis, sinusitis, epistaxis, head & neck masses.",sections:[{id:"presentations",title:"Typical Presentations",content:["Otalgia/otorrhea","Sore throat","Nasal obstruction/bleed","Neck lump"]},{id:"red-flags",title:"Red Flags",content:["Airway compromise","Peritonsillar abscess","Ludwig angina","Severe epistaxis"]},{id:"first-tests",title:"First-Line Tests",content:["Otoscopy","Rapid strep (selected)","Flexible nasendoscopy (ENT)","US neck"]},{id:"management",title:"Management Skeleton",content:["Epistaxis packing","Antibiotic criteria","Steroids for severe edema"]}]})}const nh=[{slug:"dementia-alzheimers",title:"Alzheimer’s disease (most common dementia)"},{slug:"vascular-dementia",title:"Vascular dementia"},{slug:"dementia-lewy-bodies",title:"Dementia with Lewy bodies"},{slug:"frontotemporal-dementia",title:"Frontotemporal dementia (Pick’s disease, etc.)"},{slug:"mci",title:"Mild cognitive impairment (MCI)"},{slug:"delirium",title:"Delirium"},{slug:"parkinsons-disease",title:"Parkinson’s disease"},{slug:"stroke-tia",title:"Stroke / Transient ischemic attack (TIA)"},{slug:"hypertension",title:"Hypertension"},{slug:"cad",title:"Coronary artery disease (CAD)"},{slug:"heart-failure-hfpef",title:"Heart failure (esp. diastolic HF / HFpEF)"},{slug:"atrial-fibrillation",title:"Atrial fibrillation"},{slug:"other-arrhythmias",title:"Other arrhythmias (e.g., heart block, tachyarrhythmias)"},{slug:"peripheral-vascular-disease",title:"Peripheral vascular disease"},{slug:"copd",title:"Chronic obstructive pulmonary disease (COPD)"},{slug:"ild",title:"Interstitial lung disease (ILD)"},{slug:"pneumonia",title:"Pneumonia (community- and hospital-acquired)"},{slug:"aspiration-pneumonia",title:"Aspiration pneumonia"},{slug:"t2dm",title:"Type 2 diabetes mellitus"},{slug:"hypothyroidism",title:"Hypothyroidism"},{slug:"hyperthyroidism",title:"Hyperthyroidism"},{slug:"osteoporosis",title:"Osteoporosis"},{slug:"vitamin-d-deficiency",title:"Vitamin D deficiency"},{slug:"dyslipidemia",title:"Dyslipidemia"},{slug:"ckd",title:"Chronic kidney disease (CKD)"},{slug:"urinary-incontinence",title:"Urinary incontinence (urge, stress, overflow, functional)"},{slug:"bph",title:"Benign prostatic hyperplasia (BPH)"},{slug:"prostate-cancer",title:"Prostate cancer"},{slug:"recurrent-utis",title:"Recurrent urinary tract infections (UTIs)"},{slug:"osteoarthritis",title:"Osteoarthritis"},{slug:"rheumatoid-arthritis",title:"Rheumatoid arthritis"},{slug:"gout",title:"Gout"},{slug:"falls",title:"Falls"},{slug:"frailty",title:"Frailty syndromes"},{slug:"hip-fractures",title:"Hip fractures"},{slug:"gerd",title:"Gastroesophageal reflux disease (GERD)"},{slug:"chronic-constipation",title:"Chronic constipation"},{slug:"diverticular-disease",title:"Diverticular disease"},{slug:"colorectal-cancer",title:"Colorectal cancer"},{slug:"malnutrition",title:"Malnutrition"},{slug:"depression",title:"Depression"},{slug:"anxiety-disorders",title:"Anxiety disorders"},{slug:"late-life-psychosis",title:"Late-life psychosis"},{slug:"anemia-of-chronic-disease",title:"Anemia of chronic disease"},{slug:"iron-deficiency-anemia",title:"Iron deficiency anemia"},{slug:"multiple-myeloma",title:"Multiple myeloma"},{slug:"lymphoma",title:"Lymphoma"},{slug:"lung-cancer",title:"Lung cancer"},{slug:"breast-cancer",title:"Breast cancer"},{slug:"influenza",title:"Influenza"},{slug:"herpes-zoster",title:"Herpes zoster (shingles)"},{slug:"sepsis",title:"Sepsis (often atypical presentation)"},{slug:"tuberculosis",title:"Tuberculosis (reactivation)"},{slug:"polypharmacy",title:"Polypharmacy (drug interactions, side effects)"},{slug:"pressure-ulcers",title:"Pressure ulcers"},{slug:"immobility-syndromes",title:"Immobility syndromes"}];function sb({t:o}){return n.jsxs(nt,{to:`/diseases/geriatrics/${o.slug}`,className:"block rounded-2xl border border-slate-200 bg-white p-4 shadow-sm hover:shadow-md transition",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:o.title}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:o.slug})]})}function rb(){const[o,l]=b.useState(""),d=Mi(),c=b.useMemo(()=>{const p=o.trim().toLowerCase();return p?nh.filter(y=>y.title.toLowerCase().includes(p)||y.slug.includes(p)):nh},[o]);return n.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:n.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[n.jsx("div",{className:"flex items-center gap-3 mb-4",children:n.jsx("button",{onClick:()=>d(-1),className:"inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-3 py-1.5 text-sm shadow-sm hover:bg-slate-50",children:"← Back"})}),n.jsxs("header",{className:"mb-6 flex flex-col md:flex-row md:items-end md:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold",children:"Geriatrics"}),n.jsx("p",{className:"mt-2 text-slate-600",children:"Pick a topic to open its dedicated page."})]}),n.jsx("div",{className:"w-full md:w-80",children:n.jsx("input",{value:o,onChange:p=>l(p.target.value),placeholder:"Search geriatrics topics...",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/60"})})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(p=>n.jsx(sb,{t:p},p.slug))})]})})}function ob(){return n.jsx(_e,{title:"Emergency Medicine",intro:"Resuscitation, trauma, ACS, sepsis, toxidromes.",sections:[{id:"presentations",title:"Typical Presentations",content:["ABC instability","Major trauma","Poisoning","Acute chest pain"]},{id:"red-flags",title:"Red Flags",content:["Airway threat","Uncontrolled hemorrhage","Septic shock","Compartment syndrome"]},{id:"first-tests",title:"First-Line Tests",content:["VBG/ABG","ECG","Fast US (eFAST)","Point-of-care tests"]},{id:"management",title:"Management Skeleton",content:["ATLS/ACLS pathways","Massive transfusion protocol","Time-critical transfers"]}]})}function lb(){return n.jsx(_e,{title:"Toxicology",intro:"Overdoses, antidotes, toxidromes.",sections:[{id:"presentations",title:"Typical Presentations",content:["Altered mental status","Brady/tachy syndromes","Miosis/mydriasis","Metabolic acidosis"]},{id:"red-flags",title:"Red Flags",content:["Airway compromise","Refractory seizures","Cardiotoxicity","Serotonin syndrome/NMS"]},{id:"first-tests",title:"First-Line Tests",content:["ECG (QRS/QT)","Paracetamol/salicylate levels","VBG/ABG + lactate","Osmolar gap"]},{id:"management",title:"Management Skeleton",content:["Activated charcoal criteria","Specific antidotes","Enhanced elimination"]}]})}function cb(){return n.jsx(_e,{title:"Palliative Care",intro:"Symptom control, end-of-life discussions, ethics.",sections:[{id:"presentations",title:"Common Themes",content:["Pain/dyspnea","Nausea","Anxiety/depression","Delirium"]},{id:"red-flags",title:"Urgencies",content:["Cord compression","SVC syndrome","Catastrophic bleed","Severe agitation"]},{id:"first-tests",title:"Assessment Focus",content:["Goals of care","Performance status","Medication review","Non-pharm supports"]},{id:"management",title:"Management Skeleton",content:["WHO analgesic ladder","Antiemetic ladder","Dyspnea strategies","Advance care planning"]}]})}function ub({text:o=""}){let l=String(o);return l=l.replace(/&(?![a-zA-Z#0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=l.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),l=l.replace(/(^|[^*])\*(?!\*)(.+?)\*(?!\*)/g,"$1<em>$2</em>"),l=l.replace(/_(.+?)_/g,"<em>$1</em>"),l=l.replace(/==(.+?)==/g,"<mark style='background-color:#FEF3C7' class='px-1 rounded'>$1</mark>"),Object.entries({yellow:"#FEF3C7",green:"#D1FAE5",blue:"#E0F2FE",red:"#FFE4E6",purple:"#EDE9FE"}).forEach(([c,p])=>{const y=new RegExp(`\\[${c}\\]([\\s\\S]+?)\\[\\/${c}\\]`,"gi");l=l.replace(y,`<mark style="background-color:${p}" class="px-1 rounded">$1</mark>`)}),l=l.replace(/&lt;strong&gt;/g,"<strong>").replace(/&lt;\/strong&gt;/g,"</strong>").replace(/&lt;em&gt;/g,"<em>").replace(/&lt;\/em&gt;/g,"</em>").replace(/&lt;mark /g,"<mark ").replace(/&lt;\/mark&gt;/g,"</mark>"),n.jsx("span",{dangerouslySetInnerHTML:{__html:l}})}const et=[{id:"AD-CORE-20001",topic:"Geriatrics • Alzheimer’s disease — Core Clinical Pattern",difficulty:"Medium",vignetteTitle:"Which diagnosis best fits the hippocampal memory syndrome?",stem:"A 74-year-old retired accountant has 2.5 years of gradually progressive memory decline. Family notes repeated questions, misplacing items, and getting lost on familiar routes. Language and behavior are relatively preserved early; no hallucinations or parkinsonism. Exam: oriented to person, not to date; recalls 0/3 after 5 minutes with poor cueing benefit. MoCA 20/30 (episodic memory and visuospatial deficits). MRI shows bilateral hippocampal and mesial temporal atrophy with relative sparing of frontal and occipital lobes. What is the most likely diagnosis?",options:[{key:"A",text:"Alzheimer’s disease (amnestic presentation)"},{key:"B",text:"Vascular dementia (multi-infarct)"},{key:"C",text:"Dementia with Lewy bodies (DLB)"},{key:"D",text:"Frontotemporal dementia—behavioral variant (bvFTD)"},{key:"E",text:"Normal-pressure hydrocephalus (NPH)"}],correct:"A",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Insidious, progressive episodic memory impairment** with poor cueing benefit is classic for **amnestic Alzheimer’s disease (AD)**.","- MRI pattern: [blue]**bilateral hippocampal/mesial temporal atrophy**[/blue] (medial temporal lobe) with relative sparing of frontal/occipital early → highly compatible with AD.","- Early **navigation problems**, **misplacing items**, and **repeating questions** reflect hippocampal consolidation deficits.","- Lack of early prominent **behavioral disinhibition**, **parkinsonism**, or **visual hallucinations** argues against FTD/DLB.","- [yellow]Pattern lock:[/yellow] gradual memory-first decline + hippocampal atrophy + poor cueing = **AD**. 🧠🗺️","**2️⃣ Why the other options are wrong**","- **B. Vascular dementia:** Often **stepwise** decline with focal deficits; MRI shows **strategic infarcts** or confluent white-matter disease—not isolated hippocampal atrophy.","- **C. DLB:** Core features are **visual hallucinations**, **cognitive fluctuations**, and **parkinsonism**; plus REM sleep behavior disorder—absent here.","- **D. bvFTD:** **Early personality/behavior change**, disinhibition/apathy, and frontal/insular atrophy, with **relative memory sparing** initially—mismatch.","- **E. NPH:** Triad = **gait disturbance** (magnetic), **urinary incontinence**, **subcortical cognitive slowing** + MRI with **ventriculomegaly**—not present.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside cognitive screen (MoCA/MMSE) emphasizing **delayed recall** and cueing → poor recall with limited cueing benefit. **Confirms?** ❌ Suggests AD pattern.","- **Next Diagnostic step:** 🧠 **MRI brain** → [blue]hippocampal/mesial temporal atrophy[/blue]; exclude mass/subdural/strategic stroke. **Confirms?** ➕ Supports AD; rules out mimics.","- **Best Diagnostic Step (in vivo biomarker confirmation):** **CSF AD biomarkers** (↓Aβ42/Aβ42-40 ratio, ↑p-tau, ↑t-tau) **or** **amyloid PET** ± **tau PET**. **Confirms?** ✅ Biomarker-consistent AD.","- **Adjuncts:** Thyroid/B12, CMP, CBC to exclude reversible contributors; depression screen; sleep apnea screening if indicated.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure, safety planning[/green] (driving/meds/finances), caregiver education, advance care planning, exercise + Mediterranean-style diet.","- **First Line:** [green]Symptomatic cognitive therapy[/green] — **cholinesterase inhibitor** (donepezil/rivastigmine/galantamine) for mild–moderate AD; **memantine** for moderate–severe or add-on.","- **Gold Standard:** No cure; [green]multidisciplinary care[/green] (OT/PT, cognitive rehab, caregiver support). Consider **disease-modifying anti-amyloid mAbs** only if **biomarker-positive**, appropriate stage, and patient can meet monitoring/ARIA risk protocols. [red]Avoid anticholinergics and sedatives when possible[/red].","**5️⃣ Full Pathophysiology Explained**","- **Amyloid-β (Aβ)** dysmetabolism → extracellular **Aβ plaques**; **tau** hyperphosphorylation → intracellular **neurofibrillary tangles**.","- Pathology spreads in a **Braak-like pattern** from transentorhinal/hippocampal regions → association cortices, explaining memory-first decline.","- Synaptic dysfunction and neuroinflammation drive progressive network failure → atrophy on MRI, hypometabolism on FDG-PET.","- [blue]Hippocampal circuit disruption[/blue] impairs encoding/consolidation → poor delayed recall and weak cueing response.","**6️⃣ Symptoms — pattern recognition**","- **Forgetting recent events / repeating questions** 📝 → hippocampal consolidation failure.","- **Poor response to cues** 🧩 → storage (not retrieval) problem, consistent with AD.","- **Topographical disorientation** 🗺️ → parahippocampal/retrosplenial network involvement.","- **Language/behavior relatively preserved early** 💬 → contrasts with PPA/FTD.","- [purple]Think AD when you see:[/purple] ==gradual amnestic decline + hippocampal atrophy + poor cueing==."]},{id:"AD-SX-20002",topic:"Geriatrics • Alzheimer’s disease — Clinical Presentation (Symptoms)",difficulty:"Medium",vignetteTitle:"Spot the amnestic Alzheimer pattern",stem:"A 75-year-old retired teacher has 3 years of insidious memory decline. Family reports repeated questions, misplacing items, getting lost on familiar routes, and difficulty recalling recent conversations despite intact attention. Language is mostly fluent, with occasional word-finding pauses but intact grammar. No early hallucinations, REM sleep behavior disorder, parkinsonism, or major personality change. Exam: poor delayed recall with minimal cueing benefit; constructional copying mildly impaired. MRI shows bilateral hippocampal/mesial temporal atrophy. Which clinical constellation best identifies the underlying syndrome?",options:[{key:"A",text:"Early behavioral disinhibition, apathy, hyperorality; relatively spared episodic memory"},{key:"B",text:"Recurrent visual hallucinations, fluctuating attention, spontaneous parkinsonism, REM sleep behavior disorder"},{key:"C",text:"Gait disturbance with urinary urgency/incontinence and subcortical cognitive slowing; ventriculomegaly"},{key:"D",text:"Gradual, progressive **episodic memory** loss with poor cueing, navigation problems, and hippocampal atrophy; language/behavior relatively preserved early"},{key:"E",text:"Nonfluent, effortful agrammatic speech with apraxia of speech; left inferior frontal atrophy"}],correct:"D",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Alzheimer’s disease (amnestic presentation)** is defined by **progressive episodic memory impairment**—failure of encoding/storage—leading to repeated questions and misplacing items.","- **Poor cueing benefit** distinguishes storage failure (AD) from retrieval failures seen in depression or subcortical states.","- Early **topographical disorientation** (getting lost) reflects medial temporal–parahippocampal network involvement.","- **Language and behavior relatively preserved early** fits AD more than FTD or PPA at onset.","- Imaging tie-in: [blue]**hippocampal/mesial temporal atrophy**[/blue] supports the clinical pattern. [yellow]Pattern lock = amnestic AD[/yellow] 🧠📉","**2️⃣ Why the other options are wrong**","- **A (bvFTD):** Early **behavioral disinhibition/apathy** and eating changes with relative memory sparing → frontal/insular syndrome, not memory-first AD.","- **B (DLB):** **Visual hallucinations**, **fluctuations**, **parkinsonism**, and **REM sleep behavior disorder** define DLB; absent here.","- **C (NPH):** Triad of **gait disturbance**, **urinary incontinence**, **cognitive slowing** with **ventriculomegaly**—not the hippocampal amnestic picture.","- **E (nfvPPA):** **Nonfluent agrammatic speech** and apraxia localize to left IFG/insular networks; this case has fluent language and memory-led decline.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside cognitive screen (MoCA/MMSE) emphasizing **delayed recall** and cueing. **Confirms?** ❌ Suggests AD when recall is poor with minimal cueing benefit.","- **Next Diagnostic step:** 🧠 MRI brain → [blue]**hippocampal/mesial temporal atrophy**[/blue]; exclude mass/subdural/strategic stroke. **Confirms?** ➕ Supports AD pattern.","- **Best Diagnostic Step (biomarker confirmation):** **CSF AD profile** (↓Aβ42 or ↓Aβ42/40, ↑p-tau, ↑t-tau) **or** **amyloid PET** ± **tau PET**. **Confirms?** ✅ Biomarker-consistent AD.","- **Adjuncts:** TSH/B12/CBC/CMP, depression screen, sleep apnea screening; consider FDG-PET (posterior cingulate/precuneus hypometabolism) if needed.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure, safety planning[/green] (driving, meds, finances), caregiver education, exercise and Mediterranean-style diet, vascular risk control.","- **First Line:** [green]Cognitive symptom therapy[/green] — **cholinesterase inhibitor** for mild–moderate AD; **memantine** for moderate–severe or add-on.","- **Gold Standard:** No cure; [green]multidisciplinary care[/green] (OT/PT, cognitive rehab, caregiver support). Consider **anti-amyloid monoclonals** only if **biomarker-positive**, appropriate stage, and monitoring feasible; [red]avoid anticholinergics and minimize sedatives[/red].","**5️⃣ Full Pathophysiology Explained**","- **Amyloid-β** accumulation (plaques) and **tau** hyperphosphorylation (neurofibrillary tangles) drive synaptic dysfunction and neurodegeneration.","- Spread follows a **Braak-like trajectory** from transentorhinal/hippocampal regions to association cortices—explains memory-first symptoms.","- [blue]Hippocampal circuit failure[/blue] → impaired encoding/consolidation → **poor delayed recall** with minimal cueing improvement.","- Network loss yields **mesial temporal atrophy** on MRI and posterior cingulate/precuneus hypometabolism on FDG-PET.","**6️⃣ Symptoms — Clinical Presentation map**","- **Forgetting recent events / repeating questions** 📝 → storage (encoding) failure in hippocampus.","- **Poor cueing benefit** 🧩 → true amnestic deficit, not just retrieval.","- **Topographical disorientation** 🗺️ → parahippocampal/retrosplenial involvement.","- **Word-finding pauses** 💬 (mild, early) with intact grammar → secondary to memory/semantic access strain, not primary aphasia.","- **Relatively preserved behavior early** 🙂 → contrasts with bvFTD; **no early hallucinations/parkinsonism** → contrasts with DLB.","- [purple]Think AD when you see:[/purple] ==gradual amnestic decline + poor cueing + hippocampal atrophy==."]},{id:"AD-SIGNS-20003",topic:"Geriatrics • Alzheimer’s disease — Signs (Examination Findings)",difficulty:"Medium",vignetteTitle:"What bedside signs point to amnestic Alzheimer’s disease?",stem:"A 76-year-old former math teacher has 3 years of gradually progressive forgetfulness. On exam, she is oriented to person but misses the date and clinic location. Immediate registration is intact (3/3), but delayed recall at 5 minutes is 0/3 and improves only minimally with category cues. Category (animal) fluency is 8 in 60 seconds while letter (F) fluency is 12. She has mild constructional difficulty on clock drawing and intersecting pentagons. Naming is mostly intact with occasional circumlocutions. Neurological exam is otherwise nonfocal; gait is normal. Which set of **examination signs** best fits the underlying syndrome?",options:[{key:"A",text:"Prominent disinhibition and utilization behavior; intact delayed recall with strong cueing benefit; frontal release signs early"},{key:"B",text:"Fluctuating attention, recurrent visual hallucinations, spontaneous parkinsonism, visuospatial neglect"},{key:"C",text:"Magnetic gait with start hesitation, urinary urgency/incontinence, impaired attention/processing speed; ventriculomegaly on imaging"},{key:"D",text:"Poor delayed recall with minimal cueing benefit; semantic (category) fluency worse than phonemic; constructional apraxia on clock/pentagons; otherwise nonfocal neuro exam"},{key:"E",text:"Nonfluent agrammatic speech with apraxia of speech; effortful output; left inferior frontal signs"}],correct:"D",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Amnestic Alzheimer’s disease (AD)** shows **hippocampal storage failure** → **poor delayed recall** that **does not normalize with cues**.","- **Semantic (category) fluency < phonemic (letter) fluency** is typical early as temporal semantic networks are affected.","- **Constructional apraxia** on **clock drawing**/intersecting pentagons reflects early visuospatial network involvement.","- General neuro exam is **nonfocal** early; gait usually normal until late. [yellow]Pattern lock: memory-first + poor cueing + constructional errors = AD[/yellow].","- Imaging often reveals [blue]medial temporal (hippocampal) atrophy[/blue], aligning with these signs. 🧠🕒","**2️⃣ Why the other options are wrong**","- **A (bvFTD signs):** Early **behavioral disinhibition/utilization** with **intact episodic storage** and good cueing benefit → frontal syndrome, not amnestic AD.","- **B (DLB signs):** **Fluctuations**, **visual hallucinations**, **parkinsonism**, and marked visuospatial neglect define DLB—absent here.","- **C (NPH signs):** **Magnetic gait** and urinary symptoms dominate with subcortical slowing; exam and vignette lack gait/continence issues.","- **E (nfvPPA signs):** **Nonfluent agrammatic speech** with apraxia of speech localizes to left IFG/insular networks—language output, not memory, is primary.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside cognitive screen (MoCA/MMSE) with emphasis on **delayed recall** and **cueing**. **Confirms?** ❌ Suggests AD when cueing fails.","- **Next Diagnostic step:** 🧠 **MRI brain** → [blue]hippocampal/mesial temporal atrophy[/blue]; exclude structural mimics. **Confirms?** ➕ Supports AD pattern.","- **Best Diagnostic Step (biomarker confirmation):** **CSF AD profile** (↓Aβ42/42–40, ↑p-tau, ↑t-tau) **or** **amyloid PET** ± **tau PET**. **Confirms?** ✅ Biomarker-consistent AD.","- **Adjuncts:** Labs (TSH/B12/CMP/CBC), depression screen, sleep study if OSA suspected; FDG-PET (posterior cingulate/precuneus hypometabolism) if needed.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure and safety planning[/green] (driving, meds, finances), caregiver education, exercise, Mediterranean-style diet, vascular risk control.","- **First Line:** [green]Cholinesterase inhibitor** for mild–moderate AD; **memantine** for moderate–severe or add-on[/green]; cognitive rehab, routines, environmental supports.","- **Gold Standard:** No cure; [green]multidisciplinary care[/green]. Consider **anti-amyloid monoclonals** only if **biomarker-positive** and appropriate for risks/monitoring; [red]minimize anticholinergics/sedatives[/red].","**5️⃣ Full Pathophysiology Explained**","- **Aβ plaques** and **tau tangles** disrupt hippocampal circuits, causing **encoding/consolidation failure** → hallmark **poor delayed recall**.","- Spread from **transentorhinal/hippocampal** regions to association cortices yields **constructional apraxia** and semantic fluency decline.","- Network loss appears as **mesial temporal atrophy** on MRI and posterior cingulate/precuneus hypometabolism on FDG-PET.","**6️⃣ Signs — Examination Findings map**","- **Poor delayed recall with minimal cueing benefit** 🧩 → hippocampal storage failure.","- **Category fluency < letter fluency** 🐶 < F-words → semantic network early hit.","- **Constructional apraxia** 🕒🔺 → clock/pentagon errors from parietal–temporal network spread.","- **Anomia (mild) with circumlocutions** 💬 → secondary naming strain; grammar intact early.","- **Nonfocal neuro exam; normal gait early** 🚶 → contrasts with NPH/DLB.","- [purple]Think AD when the bedside exam shows:[/purple] ==poor recall + poor cueing + semantic fluency drop + constructional errors=="]},{id:"AD-REDFLAGS-20004",topic:"Geriatrics • Alzheimer’s disease — Red Flags",difficulty:"Medium",vignetteTitle:"When it's not typical Alzheimer’s: spot the red flags",stem:"A 73-year-old woman is referred with 4 months of rapidly worsening memory and attention. Family reports new daily headaches, a witnessed focal seizure last week, and low-grade fevers. She has intermittent confusion and drowsiness through the day. Exam: disoriented, mild right arm drift, and neck stiffness; fundoscopy suggests papilledema. Which feature set signals a RED FLAG that requires urgent re-evaluation rather than a standard Alzheimer’s workup?",options:[{key:"A",text:"3-year gradual episodic memory decline with poor cueing and hippocampal atrophy on MRI"},{key:"B",text:"Early visual hallucinations, cognitive fluctuations, and spontaneous parkinsonism without fever"},{key:"C",text:"Subacute (weeks–months) decline with headache, fever, seizure, and papilledema"},{key:"D",text:"Slowly progressive forgetfulness over 2 years with normal neuro exam and negative depression screen"},{key:"E",text:"Mild amnestic complaints with stable function and normal neuro exam for 18 months"}],correct:"C",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Rapid/subacute time course (weeks–months)** is atypical for Alzheimer’s, which evolves over years.","- **Systemic/inflammatory signs** like **fever** and **headache** point toward infectious, inflammatory, or neoplastic CNS disease.","- **Early seizures** and **papilledema** imply cortical irritability and raised intracranial pressure—[red]urgent imaging and CSF workup are mandatory[/red].","- These features fit **encephalitis, abscess, tumor, venous thrombosis, vasculitis, or CAA-related inflammation**, not typical AD.","- [yellow]Safety pearl:[/yellow] When the clock speeds up and the body is “hot,” think **not Alzheimer’s**. 🚨","**2️⃣ Why the other options are wrong**","- **A:** Classic **amnestic AD** pattern (years-long decline + hippocampal atrophy) → not a red-flag scenario.","- **B:** Suggests **Lewy body dementia** (DLB) rather than AD, but without fever/ICP/seizure it’s not an **urgent** red flag—it's an alternative neurodegenerative dx.","- **D:** Slow progression with benign exam fits routine cognitive clinic evaluation, not emergency workup.","- **E:** Mild, stable subjective complaints without objective decline → consider MCI/monitoring; no urgent red flags.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** [red]Stabilize ABCs[/red]; check glucose; focused neuro exam. **Confirms?** ❌ Safety first.","- **Next Diagnostic step:** **Urgent non-contrast CT head** (rule out bleed/mass) → proceed to **MRI brain with and without contrast** ± **MRV** if venous thrombosis suspected. **Confirms?** ➕ Identifies structural/inflammatory causes.","- **Best Diagnostic Step:** **Lumbar puncture** after imaging excludes mass effect → CSF cell count, protein/glucose, cultures, **HSV/VZV PCR**, autoimmune encephalitis panel; **EEG** for seizures/encephalopathy. **Confirms?** ✅ Etiologic diagnosis.","- **Adjuncts:** CBC, CMP, ESR/CRP, blood cultures; autoimmune/vasculitis serologies; consider **CTA/CTV** if vascular concern.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Seizure control[/green] (benzodiazepine → levetiracetam), head elevation, analgesia, antipyretics, DVT prophylaxis as appropriate.","- **First Line (empiric while pending tests):** Start **IV acyclovir** if encephalitis suspected; add **broad-spectrum antibiotics** if bacterial meningitis/abscess possible; manage ICP (e.g., mannitol/hypertonic saline per protocol).","- **Gold Standard:** **Cause-specific therapy** once confirmed (antivirals/antibiotics, immunotherapy for autoimmune encephalitis, anticoagulation for CVST, neurosurgical management for mass/abscess).","**5️⃣ Full Pathophysiology Explained (why these are red flags)**","- **Alzheimer’s** is a **slow neurodegenerative** process (Aβ plaques, tau tangles) without early fever, seizures, or raised ICP.","- **Infectious/autoimmune/neoplastic** processes cause **inflammation, edema, mass effect**, and **cortical hyperexcitability** → headaches, fever, seizures, papilledema.","- **Time course matters:** **weeks–months** = inflammatory/neoplastic; **years** = degenerative.","- [purple]Mnemonic:[/purple] “**FAST + HOT + ELECTRIC + PRESSURE**” → Fast decline, fever, seizures, papilledema = **not AD**.","**6️⃣ Red-flag checklist — shift to urgent workup when you see…**","- **Acute/subacute onset** or **stepwise** decline.","- **Fever, new headache, meningism**, or **systemic illness** (weight loss, night sweats).","- **Seizures**, **papilledema**, or new **focal deficits**.","- **Rapidly fluctuating consciousness** or delirium out of proportion.","- **Cancer/immunosuppression**, **anticoagulation/trauma**, or signs of **vasculitis/CNS infection**.","- [blue]If any present → abandon routine AD pathway and pursue **acute neurology/infectious/oncology** algorithms immediately[/blue]."]},{id:"AD-DDX-20005",topic:"Geriatrics • Alzheimer’s disease — Differential Diagnosis",difficulty:"Medium",vignetteTitle:"Parsing the differentials in an amnestic dementia",stem:"A 74-year-old retired pharmacist has 3 years of gradually progressive forgetfulness. Family reports repeated questions, misplacing items, getting lost on familiar routes, and difficulty recalling recent conversations despite intact attention. Language is fluent with mild word-finding pauses; behavior and sleep are unremarkable. Exam: poor delayed recall with minimal cueing benefit; mild constructional errors. MRI shows bilateral hippocampal/mesial temporal atrophy with relative sparing of frontal lobes. Which diagnosis best explains this presentation?",options:[{key:"A",text:"Alzheimer’s disease (amnestic presentation)"},{key:"B",text:"Dementia with Lewy bodies (DLB)"},{key:"C",text:"Behavioral-variant frontotemporal dementia (bvFTD)"},{key:"D",text:"Vascular dementia (multi-infarct or small-vessel disease)"},{key:"E",text:"Major depressive disorder with cognitive impairment (pseudodementia)"}],correct:"A",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Gradual, insidious episodic memory decline** with poor cueing benefit points to a **storage** (hippocampal) problem characteristic of AD.","- MRI pattern of [blue]**hippocampal/mesial temporal atrophy**[/blue] matches amnestic Alzheimer’s; frontal lobes relatively spared early.","- **Navigation problems** and **repetition of questions** reflect impaired consolidation in hippocampal networks.","- Relative preservation of early **behavior**, **sleep**, and **parkinsonism** makes FTD/DLB less likely.","- [yellow]Pattern lock:[/yellow] memory-first decline + poor cueing + hippocampal atrophy = **Alzheimer’s** 🧠📉","**2️⃣ Why the other options are wrong**","- **B (DLB):** Core features are **visual hallucinations**, **cognitive fluctuations**, **spontaneous parkinsonism**, and **REM sleep behavior disorder**—absent here; hippocampal atrophy is not the dominant early imaging pattern.","- **C (bvFTD):** Early **behavior/personality change**, disinhibition/apathy, dietary changes, and frontal/insular atrophy; memory may be relatively spared early—mismatch with amnestic presentation.","- **D (Vascular dementia):** Often **stepwise** course with focal deficits; MRI shows **strategic infarcts** or confluent **white-matter disease**, not isolated hippocampal atrophy.","- **E (Pseudodementia):** Depressed mood, variable effort, and **improved recall with cues** are typical; structural atrophy pattern is not expected.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside cognitive screen (MoCA/MMSE) emphasizing delayed recall and cueing; poor recall with minimal cueing benefit suggests AD; **Confirms?** ❌","- **Next Diagnostic step:** 🧠 MRI brain to assess [blue]medial temporal (hippocampal) atrophy[/blue] and exclude structural mimics; **Confirms?** ➕","- **Best Diagnostic Step:** **CSF AD biomarkers** (↓Aβ42 or ↓Aβ42/40, ↑p-tau, ↑t-tau) or **amyloid PET** ± **tau PET** for in-vivo confirmation; **Confirms?** ✅","- **Adjuncts:** Labs (TSH, B12, CBC/CMP), depression screen, sleep apnea screening; FDG-PET (posterior cingulate/precuneus hypometabolism) if needed.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure, safety planning[/green] (driving, meds, finances), caregiver education, exercise, Mediterranean-style diet, vascular risk control.","- **First Line:** [green]Cholinesterase inhibitor[/green] (donepezil/rivastigmine/galantamine) for mild–moderate AD; [green]memantine[/green] for moderate–severe or add-on; cognitive rehab and structured routines.","- **Gold Standard:** No cure; [green]multidisciplinary care[/green]; consider **anti-amyloid monoclonals** only if **biomarker-positive**, appropriate stage, and monitoring/ARIA risk management feasible; [red]minimize anticholinergics and sedatives[/red].","**5️⃣ Full Pathophysiology Explained (DDx focus)**","- **AD:** Aβ plaques and tau tangles disrupt hippocampal circuits → **encoding/storage failure** → poor cueing.","- **DLB:** α-synuclein (Lewy bodies) in brainstem/limbic/neocortex → hallucinations, fluctuations, parkinsonism; visuospatial deficits early.","- **bvFTD:** Tau/TDP-43 pathology in frontal/insular networks → behavior/executive dysfunction > memory early.","- **Vascular dementia:** Ischemic burden (infarcts/leukoaraiosis) → stepwise decline, focal signs, executive slowing.","- **Depression:** Network intact; **retrieval** problem improves with cues and mood treatment; no characteristic atrophy.","**6️⃣ Symptoms — pattern recognition for DDx**","- **AD:** Repeats questions, misplaces items, gets lost; poor cueing; hippocampal atrophy.","- **DLB:** Hallucinations, fluctuations, REM sleep behavior disorder, parkinsonism.","- **bvFTD:** Disinhibition/apathy, loss of empathy, compulsions, hyperorality; frontal atrophy.","- **Vascular:** Stepwise decline, focal deficits (e.g., hemiparesis), gait disturbance; vascular lesions on imaging.","- **Depression:** Low mood/anhedonia, variable effort, “I don’t know” responses, better with prompting.","- [purple]Exam pearl:[/purple] ==Storage failure (poor cueing) + hippocampal atrophy → choose **AD** over retrieval disorders=="]},{id:"AD-INV-20006",topic:"Geriatrics • Alzheimer’s disease — Best Initial Investigation",difficulty:"Medium",vignetteTitle:"First test when you suspect amnestic Alzheimer’s",stem:"A 75-year-old with 2–3 years of gradually progressive episodic memory loss (repeated questions, misplacing items, getting lost) has poor delayed recall with minimal cueing benefit on bedside testing. Language/behavior are relatively preserved early; neuro exam is nonfocal. What is the **best initial investigation** to pursue?",options:[{key:"A",text:"Non-contrast CT head"},{key:"B",text:"MRI brain with volumetric sequences (medial temporal assessment)"},{key:"C",text:"CSF Alzheimer biomarkers (Aβ42, Aβ42/40, p-tau, t-tau)"},{key:"D",text:"Amyloid PET (± tau PET)"},{key:"E",text:"Comprehensive neuropsychological testing"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **MRI brain with volumetrics** is the **best initial investigation** in suspected Alzheimer’s disease (AD) because it both **excludes structural mimics** (tumor, subdural, NPH, strategic stroke) and identifies a **syndrome-consistent pattern**.","- In amnestic AD, MRI often shows [blue]**bilateral hippocampal/mesial temporal atrophy**[/blue] with relative sparing of primary cortices—high-yield for clinico-radiologic alignment.","- MRI outperforms CT for **gray-matter resolution** and **pattern recognition**; volumetrics quantify medial temporal atrophy and asymmetry.","- [green]Practical win:[/green] one scan answers “**Is there a treatable structural cause?**” and “**Does the pattern fit AD?**” 🧠🖥️","**2️⃣ Why the other options are wrong**","- **A. CT head:** Useful if MRI unavailable/contraindicated, but **less sensitive** for medial temporal atrophy and subtle pathology.","- **C. CSF biomarkers:** Excellent for **biomarker confirmation**, but **not first**—invasive and pursued after structural imaging rules out mimics.","- **D. Amyloid PET:** Powerful but **costly/limited access** and not first-line; used when diagnosis remains uncertain after MRI/labs or for treatment decisions.","- **E. Neuropsych testing:** Crucial to **quantify domains** and track change, but imaging is prioritized initially to **exclude structural disease**.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside cognitive screen (MoCA/MMSE) emphasizing **delayed recall** and cueing → **poor recall, minimal cueing benefit**. **Confirms?** ❌ Suggests AD pattern.","- **Next Diagnostic step (Best Initial Investigation):** 🧠 **MRI brain with volumetrics** → [blue]hippocampal/mesial temporal atrophy[/blue], rule out mass/subdural/NPH/strategic stroke. **Confirms?** ➕ Strongly supports AD and excludes mimics.","- **Best Diagnostic Step (for in-vivo confirmation):** **CSF AD profile** (↓Aβ42/42–40, ↑p-tau, ↑t-tau) **or** **amyloid PET** ± **tau PET**. **Confirms?** ✅ Biomarker-consistent AD.","- **Adjuncts:** Labs (TSH, B12, CBC/CMP), depression screen, OSA screen; FDG-PET (posterior cingulate/precuneus hypometabolism) if needed.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure, safety planning[/green] (driving, meds, finances), caregiver education, exercise + Mediterranean-style diet, vascular risk control.","- **First Line:** [green]Cholinesterase inhibitor[/green] for mild–moderate AD; **memantine** for moderate–severe or add-on; cognitive rehab, routines, environmental supports.","- **Gold Standard:** No cure; [green]multidisciplinary care[/green]. Consider **anti-amyloid monoclonals** only if **biomarker-positive**, appropriate stage, and monitoring for ARIA is feasible; [red]minimize anticholinergics/sedatives[/red].","**5️⃣ Full Pathophysiology Explained**","- **Aβ plaques** and **tau tangles** disrupt hippocampal circuits, causing **encoding/storage failure** → **poor delayed recall** and weak cueing.","- Network degeneration yields **mesial temporal atrophy** on MRI and posterior cingulate/precuneus hypometabolism on FDG-PET.","- Biomarkers (CSF/PET) capture **amyloid and tau** pathology in vivo, corroborating the structural/clinical picture.","**6️⃣ Symptoms — pattern recognition link to imaging**","- **Repeating questions/misplacing items** 📝 → hippocampal storage failure ↔ [blue]medial temporal atrophy[/blue].","- **Poor cueing benefit** 🧩 → true amnestic (storage) deficit, not retrieval alone.","- **Getting lost** 🗺️ → parahippocampal/retrosplenial network involvement.","- [purple]Pearl:[/purple] ==Suspected AD? Do **MRI (with volumetrics)** first—then confirm with **CSF or amyloid PET** as needed==."]},{id:"AD-GOLD-20007",topic:"Geriatrics • Alzheimer’s disease — Gold Standard Investigation",difficulty:"Medium",vignetteTitle:"What truly confirms Alzheimer’s disease etiology?",stem:"A 76-year-old with 3 years of progressive episodic memory loss has MRI showing bilateral hippocampal atrophy. CSF reveals low Aβ42/42–40 and elevated p-tau/t-tau; amyloid PET is positive. Family asks: “What is the final, gold standard test that proves this is Alzheimer’s disease?”",options:[{key:"A",text:"MRI brain with volumetric analysis"},{key:"B",text:"FDG-PET brain (posterior cingulate/precuneus hypometabolism)"},{key:"C",text:"CSF Alzheimer biomarker profile (Aβ42 or Aβ42/40, p-tau, t-tau)"},{key:"D",text:"Amyloid PET (± tau PET)"},{key:"E",text:"Neuropathology with immunohistochemistry demonstrating amyloid-β plaques and tau neurofibrillary tangles"}],correct:"E",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Gold standard = tissue diagnosis**: **Neuropathology with immunohistochemistry** directly visualizes the defining lesions of AD—**amyloid-β plaques** and **tau neurofibrillary tangles**.","- While **CSF/PET biomarkers** are powerful in vivo tools, they **infer** pathology; only tissue **proves** it.","- In clinical practice, this is typically **post-mortem**; brain biopsy is **rare** and reserved for atypical, rapidly progressive, or treatable-mimic scenarios.","- [yellow]Bottom line:[/yellow] Imaging/CSF = strong evidence; **histopathology** = definitive proof. 🧠🔬","**2️⃣ Why the other options are wrong**","- **A. MRI volumetrics:** Excellent for **pattern recognition** (hippocampal atrophy) and excluding mimics, but **cannot confirm** molecular pathology.","- **B. FDG-PET:** Shows **hypometabolism** in posterior cingulate/precuneus/temporoparietal cortex—**supportive**, not definitive.","- **C. CSF biomarkers:** High diagnostic accuracy (↓Aβ42/42–40, ↑p-tau, ↑t-tau) but **indirect**; does not show plaques/tangles themselves.","- **D. Amyloid PET (± tau PET):** Visualizes **protein deposition in vivo** and is superb for confirmation/eligibility (e.g., anti-amyloid therapy) yet still **not the gold standard** versus histopathology.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside cognitive screen (MoCA/MMSE) with **delayed recall + cueing** → poor recall with minimal cueing benefit. **Confirms?** ❌ Suggests AD.","- **Next Diagnostic step:** 🧠 **MRI brain** → [blue]hippocampal/mesial temporal atrophy[/blue]; excludes structural mimics. **Confirms?** ➕ Supports AD.","- **Best Diagnostic Step (in vivo confirmation):** **CSF AD profile** or **amyloid PET (± tau PET)** consistent with AD biology. **Confirms?** ✅ In vivo biomarker confirmation.","- **Gold Standard (definitive):** 🔬 **Neuropathology with immunohistochemistry** showing **Aβ plaques** and **tau tangles**. **Confirms?** ✅✅ Definitive diagnosis.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure, safety planning[/green] (driving, meds, finances), caregiver education, exercise/Mediterranean diet, vascular risk control.","- **First Line:** [green]Cholinesterase inhibitor** for mild–moderate AD; **memantine** for moderate–severe or add-on[/green]; cognitive rehab, structured routines, sleep hygiene.","- **Gold Standard (therapy context):** No cure; consider **anti-amyloid monoclonal antibodies** only if **biomarker-positive** and suitable for ARIA monitoring; [red]avoid anticholinergics and minimize sedatives[/red].","**5️⃣ Full Pathophysiology Explained**","- AD features **amyloid-β plaque** accumulation and **tau tangle** formation leading to **synaptic dysfunction**, neuroinflammation, and **neurodegeneration**.","- Spread follows a **Braak-like trajectory** from transentorhinal/hippocampal regions to association cortex—matching **episodic memory-first** symptoms.","- Biomarkers map this biology in vivo (A/T/[N] framework), but **histology** remains the **final arbiter**.","**6️⃣ Symptoms — pattern recognition link**","- **Repeated questions/misplacing items** 📝 + **poor cueing** 🧩 → hippocampal storage failure.","- **Getting lost** 🗺️ and **constructional errors** 🕒 → progression to parietal networks.","- [purple]Pearl:[/purple] ==CSF/PET convince you; **histopathology** convinces everyone==."]},{id:"AD-ETIO-20008",topic:"Geriatrics • Alzheimer’s disease — Etiology (Causes)",difficulty:"Medium",vignetteTitle:"What’s the core cause behind amnestic Alzheimer’s?",stem:"A 76-year-old with 3 years of progressive episodic memory loss (repeated questions, getting lost, poor cueing benefit) has MRI showing bilateral hippocampal/mesial temporal atrophy. No early hallucinations or parkinsonism. Which underlying **etiology** best explains this syndrome?",options:[{key:"A",text:"Amyloid-β plaque deposition with tau neurofibrillary tangles (Alzheimer pathology)"},{key:"B",text:"α-synuclein (Lewy body) pathology"},{key:"C",text:"TDP-43–predominant frontotemporal degeneration"},{key:"D",text:"Multi-infarct vascular injury (strategic strokes)"},{key:"E",text:"Reversible hypothyroidism causing cognitive impairment"}],correct:"A",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Alzheimer’s disease (AD)** is defined pathologically by **amyloid-β (Aβ) plaques** and **tau neurofibrillary tangles**.","- The **amnestic presentation** with **poor cueing benefit** reflects **hippocampal storage failure**, matching tau spread in medial temporal regions.","- MRI showing [blue]**hippocampal/mesial temporal atrophy**[/blue] aligns with AD’s early neuroanatomy (Braak trajectory).","- Biomarkers (↓Aβ42/42–40, ↑p-tau/t-tau; amyloid PET+) map this **Aβ/tau biology** in vivo.","- [yellow]Pattern lock:[/yellow] gradual memory-first decline + hippocampal atrophy + AD biomarkers → **Aβ + tau**. 🧠🧩","**2️⃣ Why the other options are wrong**","- **B. Lewy body disease (α-synuclein):** Early **visual hallucinations**, **fluctuations**, **parkinsonism**, REM sleep behavior disorder—absent here; hippocampal-predominant atrophy not typical early.","- **C. TDP-43 FTD:** Drives **frontotemporal syndromes** (bvFTD, svPPA) with behavior or language-first features, not storage-dominant amnesia.","- **D. Vascular dementia:** **Stepwise decline** with focal deficits; imaging shows **infarcts/leukoaraiosis**, not isolated hippocampal atrophy.","- **E. Hypothyroidism:** Reversible metabolic cause with systemic signs; cognition usually **improves with treatment** and lacks AD biomarker pattern.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside cognitive screen (MoCA/MMSE) with **delayed recall + cueing** → poor recall, minimal cueing benefit. **Confirms?** ❌ Suggests AD.","- **Next Diagnostic step:** 🧠 **MRI brain** → [blue]hippocampal/mesial temporal atrophy[/blue]; exclude structural mimics. **Confirms?** ➕ Supports AD.","- **Best Diagnostic Step (in vivo etiology):** **CSF AD biomarkers** (↓Aβ42/42–40, ↑p-tau, ↑t-tau) **or** **amyloid PET** ± **tau PET**. **Confirms?** ✅ Consistent with Aβ/tau etiology.","- **Adjuncts:** Labs to rule out reversibles (TSH, B12, CMP/CBC), depression screen; FDG-PET (posterior cingulate/precuneus hypometabolism) if needed.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure, safety planning[/green] (driving/meds/finances), caregiver education, exercise + Mediterranean-style diet, vascular risk control.","- **First Line:** [green]Cholinesterase inhibitor** (donepezil/rivastigmine/galantamine) for mild–moderate; **memantine** for moderate–severe or add-on[/green]; cognitive rehab and routines.","- **Gold Standard:** No cure; [green]multidisciplinary care[/green]. Consider **anti-amyloid monoclonals** only if **biomarker-positive** and monitoring for ARIA is feasible; [red]minimize anticholinergics/sedatives[/red].","**5️⃣ Full Pathophysiology Explained (Etiology focus)**","- **Aβ dysmetabolism** → extracellular **plaques**; **tau hyperphosphorylation** → intracellular **neurofibrillary tangles**.","- **Braak spread**: transentorhinal/hippocampal → associative neocortex → explains memory-first symptoms then visuospatial/language/executive involvement.","- Result: **synaptic failure**, neuroinflammation, and network atrophy → **hippocampal shrinkage** on MRI, **posterior cingulate/precuneus hypometabolism** on FDG-PET.","- [purple]Mnemonic:[/purple] “**A & T drive AD**” → **A**myloid + **T**au underpin Alzheimer’s.","**6️⃣ Symptoms — cause → effect mapping**","- **Repeated questions, misplacing items** 📝 → hippocampal storage failure from tau-rich medial temporal degeneration.","- **Poor cueing benefit** 🧩 → true **encoding/storage** deficit (Aβ/tau network damage), not mere retrieval failure.","- **Getting lost** 🗺️ → involvement of parahippocampal/retrosplenial navigational circuits.","- **Later language/visuospatial decline** 🧠 → spread to temporoparietal association cortex along Braak staging.","- [blue]Imaging–biology link:[/blue] hippocampal atrophy ↔ tau tangle burden; amyloid PET/CSF confirms **Aβ** path."]},{id:"AD-COMP-20009",topic:"Geriatrics • Alzheimer’s disease — Complications",difficulty:"Medium",vignetteTitle:"What high-risk downstream complication should you anticipate in Alzheimer’s?",stem:"An 80-year-old with moderate Alzheimer’s disease (3 years since diagnosis) has worsening weight loss, prolonged mealtimes, coughing during meals, and two recent chest infections. He also wanders at night and has had one mechanical fall without injury. On exam: inattentive to bolus size, wet/gurgly voice after thin liquids, and reduced gag. Which complication is most important to anticipate and prevent over the next year?",options:[{key:"A",text:"Normal-pressure hydrocephalus with ventriculomegaly"},{key:"B",text:"Parkinsonism with REM sleep behavior disorder"},{key:"C",text:"Serotonin syndrome from SSRI therapy"},{key:"D",text:"Aspiration pneumonia due to oropharyngeal dysphagia"},{key:"E",text:"Intracerebral hemorrhage from anticoagulation"}],correct:"D",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Aspiration pneumonia** is a leading cause of **morbidity and mortality** in moderate–severe Alzheimer’s disease.","- Progressive **oropharyngeal dysphagia** (impaired bolus control, delayed swallow, reduced airway protection) emerges as cortical and brainstem networks degenerate.","- The vignette flags classic risk: **cough with meals**, **wet/gurgly voice** after thin liquids, **weight loss**, and **recent chest infections**.","- [green]Anticipating and mitigating aspiration risk[/green] (swallow assessment, texture modification, feeding strategies) is high-yield and outcomes-relevant.","- [yellow]Pattern lock:[/yellow] AD + dysphagia signs + recurrent chest infections → **anticipate aspiration pneumonia**. 🫁🍽️","**2️⃣ Why the other options are wrong**","- **A (NPH):** Different syndrome (gait, incontinence, ventriculomegaly); not the key complication signaled by mealtime cough/wet voice.","- **B (DLB features):** Visual hallucinations, parkinsonism, RBD point to Lewy body disease; not driven by AD dysphagia pattern.","- **C (Serotonin syndrome):** Requires serotonergic excess (clonus, hyperreflexia, hyperthermia); unrelated to swallowing signs here.","- **E (ICH on anticoagulation):** Important if anticoagulated, but the case emphasizes **feeding-related respiratory risk**, not bleeding.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Focused **dysphagia screen** (cough/choke with liquids/solids, wet voice, prolonged meals, weight loss). **Confirms?** ❌ Suggests aspiration risk.","- **Next Diagnostic step:** **Bedside swallow assessment** by speech-language therapist with trial textures/liquids and compensatory postures. **Confirms?** ➕ Risk stratification; immediate safety plan.","- **Best Diagnostic Step:** **Instrumental swallow study** — videofluoroscopic swallow study (VFSS) or FEES → documents **penetration/aspiration**, residue, and safest diet/liquid. **Confirms?** ✅ Objective evidence guides interventions.","- **Adjuncts:** Nutritional labs/weight trend, oral health check, CXR if respiratory symptoms/fever, pulse oximetry; review meds that **worsen sedation or saliva** (anticholinergics/benzos).","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Aspiration precautions[/green] (upright 30–45 min after meals, slow rate, small boluses), **texture-modified diet** per study, supervised feeds, meticulous **oral hygiene**.","- **First Line:** [green]Speech–language therapy** for swallow techniques[/green] (chin tuck, effortful swallow), safe-fluid strategies (e.g., thickened liquids if indicated), **nutrition optimization** (calorie-dense foods/supplements), **vaccination** (influenza, pneumococcal).","- **Gold Standard:** No curative therapy for AD; for refractory unsafe swallowing, discuss **goals of care** (comfort feeding only, risks/benefits of PEG — [blue]PEG does not prevent aspiration of saliva[/blue]); align with patient values; involve palliative care when appropriate. [red]Avoid routine PEG without shared decision-making[/red].","**5️⃣ Full Pathophysiology Explained**","- AD pathology (**amyloid-β** and **tau**) spreads from **medial temporal** to **parietal/insular/frontal** networks, degrading attention, praxis, and sensorimotor integration for swallowing.","- Cortical control of the **oropharyngeal phase** weakens → delayed swallow initiation, poor laryngeal elevation, and **ineffective airway protection**.","- Frailty, **sarcopenia**, and **poor oral hygiene** increase bacterial load and reduce cough clearance → **microaspiration → pneumonia**.","- Intercurrent **delirium** and sedatives further impair swallow and airway reflexes, compounding risk.","**6️⃣ Symptoms — pattern recognition for complications**","- **Mealtime cough/wet voice** → penetration/aspiration risk.","- **Weight loss, prolonged meals, food pocketing** → ineffective swallow and inadequate intake.","- **Recurrent chest infections/low-grade fevers** → possible silent aspiration.","- **Functional cascade:** aspiration → hospitalization → delirium → deconditioning → pressure injuries/falls.","- [purple]Safety Pearl:[/purple] ==In moderate–severe AD, screen early and often for **dysphagia** to prevent **aspiration pneumonia**=="]},{id:"AD-RISK-20010",topic:"Geriatrics • Alzheimer’s disease — Risk Factors",difficulty:"Medium",vignetteTitle:"Modifiable vs nonmodifiable: which risk matters most for prevention?",stem:"A 60-year-old accountant with well-controlled hypertension and type 2 diabetes reports progressive bilateral hearing loss since age 52. He is overweight (BMI 30), walks rarely, and lives alone with limited social engagement. He smokes 5–10 cigarettes/day. His mother developed Alzheimer’s disease at 78. He currently has no cognitive symptoms. Which single intervention targets the **most impactful modifiable risk factor** for late-life dementia/Alzheimer’s disease?",options:[{key:"A",text:"Tighten blood pressure to <130/80 mmHg"},{key:"B",text:"Fit and consistently use hearing aids with auditory rehabilitation"},{key:"C",text:"Start a high-intensity statin regardless of ASCVD risk"},{key:"D",text:"Adopt Mediterranean-style diet and structured aerobic exercise"},{key:"E",text:"Immediate smoking cessation program"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- Midlife **hearing loss** carries one of the largest **population-attributable fractions** for late-life dementia and Alzheimer’s risk.","- Addressing hearing loss with **hearing aids + auditory rehabilitation** is a **high-yield, modifiable** prevention strategy.","- Mechanisms include [blue]reduced cognitive load[/blue], [blue]maintained social engagement[/blue], and [blue]less sensory deprivation–driven atrophy[/blue].","- Observational and interventional data show **lower incident dementia risk** among consistent hearing-aid users versus nonusers.","- [yellow]Prevention pearl:[/yellow] In midlife risk counseling, **treat hearing loss early** alongside vascular risk control. 👂🧠","**2️⃣ Why the other options are wrong**","- **A. BP control:** Hypertension is important for dementia prevention, but **hearing loss** contributes a larger modifiable share in midlife; still manage BP aggressively for brain and heart.","- **C. Statin regardless of risk:** Use statins per **ASCVD indications**; evidence does **not** support statins as a primary anti-Alzheimer therapy.","- **D. Diet/exercise:** Powerful for overall brain health and vascular risk, yet **hearing intervention** targets a uniquely strong nonvascular pathway and has large attributable impact.","- **E. Smoking cessation:** Always recommended; smoking raises vascular dementia and overall risk, but **midlife hearing loss** remains the higher-yield modifiable lever in this scenario.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Structured **risk review**: age, family history, education, **hearing screen**, vascular/metabolic profile, sleep, depression, alcohol, activity, social ties. Confirms? ❌ Risk stratifies; no dementia yet.","- **Next Diagnostic step:** **Formal audiology** (pure-tone audiometry, speech discrimination) → quantify loss and fit **hearing aids**. Confirms? ➕ Enables targeted intervention.","- **Best Diagnostic Step (if cognitive concern emerges):** **Cognitive screening** (MoCA) and **MRI brain** for patterns of atrophy; **CSF or amyloid/tau PET** only if symptomatic and diagnosis uncertain. Confirms? ✅ For symptomatic cases.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Treat hearing loss[/green] with **hearing aids + auditory rehab**; encourage **consistent daily use** and device troubleshooting.","- **First Line (bundle other modifiable risks):** [green]BP <130/80, DM control (A1c individualized), smoking cessation, Mediterranean diet, 150–300 min/wk aerobic exercise, strength training, sleep apnea screening, depression treatment, social engagement**.","- **Gold Standard (prevention reality):** No pill cures risk; [green]multidomain risk reduction over years[/green] has the best evidence; monitor adherence and adjust barriers. [purple]Mnemonic: “**HEAR VITALS**” — **Hear**ing, **V**ascular, **I**nflammation, **T**rauma, **A**ctivity, **L**earning (cognitive), **S**leep[/purple].","**5️⃣ Full Pathophysiology Explained**","- **Alzheimer biology** = **amyloid-β plaques** and **tau tangles**; risk is shaped by **age**, **genetics (APOE ε4)**, and **lifetime exposures**.","- **Hearing loss → cognitive load**: brain reallocates resources to decode sound, reducing encoding capacity and promoting network inefficiency.","- **Sensory deprivation** accelerates **temporal/hippocampal atrophy** and **social isolation**, both linked to cognitive decline.","- **Vascular factors** (HTN, diabetes, smoking) add [blue]ischemic/white-matter injury[/blue] and neuroinflammation, synergizing with AD pathology.","- [yellow]Upstream wins[/yellow] come from **multi-domain modification**, with **hearing** a centerpiece in midlife.","**6️⃣ Symptoms — risk → phenotype mapping**","- **Untreated hearing loss** 👂 → social withdrawal, miscommunication, cognitive load → later **amnestic decline**.","- **Hypertension/diabetes/smoking** 💢 → microvascular disease → **processing speed/executive** deficits → worsened AD trajectory.","- **Low activity + isolation** 🛋️ → reduced cognitive reserve → earlier clinical expression of pathology.","- **Family history/APOE ε4** 🧬 → higher baseline risk; modifiable factors still shift **onset and slope**.","- [blue]Pattern to remember:[/blue] ==In midlife prevention counseling, **treat hearing loss first**, then stack vascular, lifestyle, sleep, and mood strategies=="]}];function db(o){const l=[...o];for(let d=l.length-1;d>0;d--){const c=Math.floor(Math.random()*(d+1));[l[d],l[c]]=[l[c],l[d]]}return l}const mb=/^[0-9+\-*/().\s^%]*$/;function hb(o){if(!mb.test(o))throw new Error("Invalid characters");const l=o.replace(/(\d+(?:\.\d+)?)\s*\^\s*(\d+(?:\.\d+)?)/g,"Math.pow($1,$2)");return Function(`"use strict"; return (${l||0});`)()}function Vn({open:o,onClose:l,title:d,children:c,maxW:p="max-w-2xl",overlayClass:y="bg-black/30"}){return o?n.jsxs("div",{className:"fixed inset-0 z-[60]",children:[n.jsx("div",{className:`absolute inset-0 ${y}`,onClick:l}),n.jsx("div",{className:"absolute inset-0 overflow-auto",children:n.jsx("div",{className:`mx-auto ${p} p-4`,children:n.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:d}),n.jsx("button",{onClick:l,className:"px-2 py-1 rounded-lg text-slate-600 hover:bg-slate-100",children:"✕"})]}),n.jsx("div",{className:"p-4",children:c})]})})})]}):null}function pb(){const o=[{name:"Hb",value:"M 13–17 g/dL • F 12–15"},{name:"WBC",value:"4–11 ×10⁹/L"},{name:"Platelets",value:"150–400 ×10⁹/L"},{name:"Na⁺",value:"135–145 mmol/L"},{name:"K⁺",value:"3.5–5.0 mmol/L"},{name:"Cl⁻",value:"98–106 mmol/L"},{name:"HCO₃⁻",value:"22–28 mmol/L"},{name:"Urea",value:"2.5–7.1 mmol/L"},{name:"Creatinine",value:"M 60–110 • F 45–90 µmol/L"},{name:"Glucose (fasting)",value:"3.9–5.5 mmol/L"},{name:"Lactate",value:"0.5–2.2 mmol/L"},{name:"INR",value:"0.8–1.2 (lab-dependent)"},{name:"pH (ABG)",value:"7.35–7.45"},{name:"PaCO₂",value:"4.7–6.0 kPa"},{name:"PaO₂ (room air)",value:"10–13 kPa"},{name:"Troponin (99th %ile)",value:"lab-specific cut-off"}];return n.jsxs("div",{className:"max-h-[60vh] overflow-auto",children:[n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-slate-600",children:[n.jsx("th",{className:"py-2 pr-3",children:"Test"}),n.jsx("th",{className:"py-2",children:"Reference Range"})]})}),n.jsx("tbody",{children:o.map(l=>n.jsxs("tr",{className:"border-t border-slate-200",children:[n.jsx("td",{className:"py-2 pr-3 font-medium",children:l.name}),n.jsx("td",{className:"py-2 text-slate-700",children:l.value})]},l.name))})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Ranges vary by lab and context; this is for quick revision."})]})}function gb(){const[o,l]=b.useState(""),[d,c]=b.useState(""),p=["7","8","9","/","4","5","6","*","1","2","3","-","0",".","(",")","+","^"],y=w=>l(f=>f+w),v=()=>{try{c(String(hb(o)))}catch{c("Error")}};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{className:"flex-1 rounded-lg border border-slate-300 px-3 py-2",value:o,onChange:w=>l(w.target.value),placeholder:"e.g. (12.5*3)/4"}),n.jsx("button",{onClick:()=>{l(""),c("")},className:"rounded-lg border px-3",children:"Clear"}),n.jsx("button",{onClick:v,className:"rounded-lg bg-purple-600 text-white px-4",children:"="})]}),n.jsx("div",{className:"grid grid-cols-9 gap-1",children:p.map(w=>n.jsx("button",{onClick:()=>y(w),className:"rounded-lg border py-2 hover:bg-slate-50",children:w},w))}),n.jsxs("div",{className:"text-sm text-slate-600",children:["Result: ",n.jsx("span",{className:"font-semibold text-slate-900",children:d})]})]})}function fb(o=768){const[l,d]=b.useState(()=>typeof window<"u"?window.innerWidth<o:!1);return b.useEffect(()=>{if(typeof window>"u")return;const c=()=>d(window.innerWidth<o);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[o]),l}function yb({open:o,onClose:l,order:d,currentIdx:c,setCurrentIdx:p,answers:y}){return n.jsx(Vn,{open:o,onClose:l,title:"Questions",maxW:"max-w-lg",overlayClass:"bg-black/30",children:n.jsx("ol",{className:"space-y-3",children:d.map((v,w)=>{const f=et[v].id,g=y[f],C=g?g===et[v].correct?"correct":"incorrect":"unanswered",B=w===c?"ring-2 ring-purple-300":C==="correct"?"ring-2 ring-emerald-300":C==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>{p(w),l()},className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${B}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",w+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:et[v].stem.replace(/<[^>]*>/g,"")}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:et[v].topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:et[v].difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${C==="correct"?"bg-emerald-500":C==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},f)})})})}function bb({open:o,onClose:l,answers:d,order:c,elapsedMs:p,jumpTo:y}){const v=c.length,w=b.useMemo(()=>c.reduce((M,z)=>M+(d[et[z].id]===et[z].correct?1:0),0),[d,c]),f=Math.round(w/Math.max(v,1)*100),g=b.useMemo(()=>c.map((M,z)=>({i:z,q:et[M],chosen:d[et[M].id]})).filter(({q:M,chosen:z})=>z&&z!==M.correct),[d,c]),C=Math.floor(p/6e4),B=Math.floor(p%6e4/1e3);return n.jsx(Vn,{open:o,onClose:l,title:"Results",maxW:"max-w-2xl",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Marks"}),n.jsxs("p",{className:"text-2xl font-bold",children:[w," / ",v]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Percentage"}),n.jsxs("p",{className:"text-2xl font-bold",children:[f,"%"]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Time"}),n.jsxs("p",{className:"text-2xl font-bold",children:[C,"m ",B,"s"]})]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Questions to review"}),g.length===0?n.jsx("p",{className:"text-slate-600 text-sm",children:"Nice — no incorrect answers 🎉"}):n.jsx("ul",{className:"space-y-2",children:g.map(({i:M,q:z,chosen:W})=>n.jsxs("li",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Q",M+1," — ",z.vignetteTitle||"Vignette"]}),n.jsxs("p",{className:"text-sm text-slate-600",children:["Chosen: ",n.jsx("span",{className:"font-semibold",children:W})," • Correct:"," ",n.jsx("span",{className:"font-semibold",children:z.correct})]})]}),n.jsx("button",{className:"shrink-0 rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-50",onClick:()=>{y(M),l()},children:"Go to question →"})]},z.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:l,className:"rounded-lg border px-4 py-2 hover:bg-slate-50",children:"Close"})})]})})}function vb(){const o=Mi(),l=fb(),[d,c]=b.useState(et.map((E,h)=>h)),[p,y]=b.useState(!1),[v,w]=b.useState(!1),[f,g]=b.useState(0),[C,B]=b.useState({}),[M,z]=b.useState({}),[W,Q]=b.useState(!1),[X,U]=b.useState(!1),[ie,J]=b.useState(!1),K=b.useRef(null),q=b.useRef(null),[re,ye]=b.useState(!1),ue=b.useRef(null),V=et[d[f]],te=et.length,De=(f+1)/Math.max(te,1)*100,ke=()=>{const E=ue.current;if(!E)return;const h=window.getSelection&&window.getSelection();if(!(!h||h.rangeCount===0))try{const k=h.getRangeAt(0);if(!E.contains(k.commonAncestorContainer)||String(k).trim().length===0)return;const P=document.createElement("mark");P.className="bg-yellow-200 rounded px-0.5",k.surroundContents(P),h.removeAllRanges()}catch{const k=E.getAttribute("contenteditable");E.setAttribute("contenteditable","true"),document.execCommand("hiliteColor",!1,"#FEF08A"),k!==null?E.setAttribute("contenteditable",k):E.removeAttribute("contenteditable")}};b.useEffect(()=>{if(!re)return;const E=()=>ke();return document.addEventListener("mouseup",E),()=>document.removeEventListener("mouseup",E)},[re]);const Oe=()=>{const E=ue.current;E&&E.querySelectorAll("mark").forEach(h=>{const k=h.parentNode;for(;h.firstChild;)k.insertBefore(h.firstChild,h);k.removeChild(h)})},Z=E=>{const h=E==="random"?db(et.map((k,P)=>P)):et.map((k,P)=>P);c(h),g(0),B({}),z({}),y(!0),K.current=Date.now(),q.current=null};b.useEffect(()=>{const E=h=>{h.key==="ArrowRight"&&f<te-1&&g(k=>k+1),h.key==="ArrowLeft"&&f>0&&g(k=>k-1)};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[f,te]);const _=()=>z(E=>({...E,[V.id]:!0})),S=()=>{f>=te-1||g(h=>h+1)},H=()=>f>0&&g(E=>E-1),F=f===te-1&&!!M[V.id];return b.useEffect(()=>{F&&!q.current&&(q.current=Date.now())},[F]),b.useMemo(()=>{if(K.current==null)return 0;const E=q.current||Date.now();return Math.max(0,E-K.current)},[ie,M,f]),n.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[n.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-slate-200",children:n.jsxs("div",{className:"mx-auto max-w-[1100px] px-4 py-3 flex items-center justify-between",children:[n.jsx(nt,{to:"/",className:"text-2xl font-extrabold text-purple-700",children:"Mediwise"}),n.jsxs("div",{className:"flex items-center gap-4 w-[320px]",children:[n.jsxs("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:["Question ",Math.min(f+1,te)," of ",te]}),n.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${De}%`}})})]}),n.jsx("button",{onClick:()=>o("/diseases/geriatrics"),className:"rounded-xl px-4 py-2 border border-slate-200 hover:bg-slate-50 text-slate-700",children:"End Session"})]})}),n.jsx("button",{onClick:()=>w(E=>!E),className:["fixed z-50 h-10 w-10 rounded-xl shadow-sm border bg-white flex items-center justify-center text-slate-600 hover:bg-slate-50 transition-all",l?"right-4 bottom-20":"top-[120px]"].join(" "),style:l?{}:{left:v?316:12},title:v?"Hide questions":"Show questions",children:v?"‹":"›"}),n.jsx("div",{className:"mx-auto max-w-[1100px] px-2 md:px-4 py-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("aside",{className:["hidden md:block","fixed top-[64px] left-0 z-40 h-[calc(100vh-64px)] w-[300px]","bg-white border-r border-slate-200 shadow","transition-transform",v?"translate-x-0":"-translate-x-[310px]"].join(" "),children:n.jsxs("div",{className:"h-full overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-slate-200",children:[n.jsx("p",{className:"font-semibold",children:"Questions"}),n.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs",children:[n.jsxs("span",{className:"flex items-center gap-1 text-emerald-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"})," ","Correct"]}),n.jsxs("span",{className:"flex items-center gap-1 text-rose-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"})," ","Incorrect"]}),n.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})," ","Unanswered"]})]})]}),n.jsx("ol",{className:"p-3 space-y-3",children:d.map((E,h)=>{const k=et[E],P=C[k.id],G=P?P===k.correct?"correct":"incorrect":"unanswered",Y=h===f?"ring-2 ring-purple-300":G==="correct"?"ring-2 ring-emerald-300":G==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>g(h),className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${Y}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",h+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:k.stem.replace(/<[^>]*>/g,"")}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:k.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:k.difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${G==="correct"?"bg-emerald-500":G==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},k.id)})}),n.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[n.jsx("button",{onClick:()=>Q(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Lab values"}),n.jsx("button",{onClick:()=>U(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Calculator"})]})]})}),n.jsx("div",{className:`transition-all ${v&&!l?"md:pl-[320px]":"ml-0"}`,children:n.jsxs("div",{className:"mx-auto md:pr-[56px]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:V.vignetteTitle||"Clinical Vignette"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"mr-2 text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:V.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:V.difficulty})]})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["ID: ",V.id]})]}),n.jsxs("div",{className:"p-6 space-y-5",ref:ue,children:[n.jsx("div",{className:"text-[15px] leading-relaxed",dangerouslySetInnerHTML:{__html:V.stem}}),V.image&&n.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200",children:n.jsx("img",{src:V.image,alt:"Figure",className:"w-full block"})}),n.jsx("div",{className:"space-y-3",children:V.options.map(E=>{const h=C[V.id],k=!!M[V.id],P=E.key===V.correct,G=k?P?"border-emerald-300 bg-emerald-50":h===E.key?"border-rose-300 bg-rose-50":"border-slate-200 bg-white":"border-slate-200 bg-white hover:bg-slate-50";return n.jsxs("label",{className:`flex items-center gap-3 rounded-xl border px-4 py-3 cursor-pointer ${G}`,children:[n.jsx("input",{type:"radio",name:`ans-${V.id}`,className:"h-4 w-4 text-purple-600",checked:h===E.key,onChange:()=>B(Y=>({...Y,[V.id]:E.key})),disabled:k}),n.jsxs("span",{className:"text-[15px]",children:[n.jsxs("span",{className:"font-medium",children:[E.key,"."]})," ",E.text]})]},E.key)})}),n.jsx("div",{className:"pt-2 flex flex-wrap gap-2",children:M[V.id]?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:S,disabled:f>=te-1,className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Next Question →"}),n.jsx("button",{onClick:H,disabled:f===0,className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"← Previous"}),f===te-1&&n.jsx("button",{onClick:()=>J(!0),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Results"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:_,disabled:!C[V.id],className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Submit Answer"}),n.jsx("button",{onClick:()=>B(E=>({...E,[V.id]:void 0})),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Clear"})]})}),M[V.id]&&n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:"Explanation"}),n.jsx("div",{className:"space-y-2 text-slate-800",children:V.explanation_detail?.map((E,h)=>n.jsx("p",{className:"leading-relaxed",children:n.jsx(ub,{text:E})},h))})]})})]})]}),n.jsxs("div",{className:"fixed right-4 top-[140px] md:flex md:flex-col md:gap-3 hidden",children:[n.jsx("button",{title:"Calculator",onClick:()=>U(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧮"}),n.jsx("button",{title:"Lab values",onClick:()=>Q(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧪"}),n.jsx("button",{title:"Toggle highlight mode",onClick:()=>ye(E=>!E),className:`h-10 w-10 rounded-lg border shadow-sm hover:bg-slate-50 ${re?"border-purple-400 bg-purple-50 text-purple-700":"border-slate-200 bg-white text-slate-700"}`,children:"🖍️"}),n.jsx("button",{title:"Clear highlights",onClick:Oe,className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧽"})]})]})})]})}),n.jsx(Vn,{open:W,onClose:()=>Q(!1),title:"Common Lab Values",children:n.jsx(pb,{})}),n.jsx(Vn,{open:X,onClose:()=>U(!1),title:"Calculator",children:n.jsx(gb,{})}),n.jsx(yb,{open:l&&v,onClose:()=>w(!1),order:d,currentIdx:f,setCurrentIdx:g,answers:C}),n.jsx(bb,{open:ie,onClose:()=>J(!1),answers:C,order:d,elapsedMs:(()=>{if(K.current==null)return 0;const E=q.current||Date.now();return Math.max(0,E-K.current)})(),jumpTo:E=>g(E)}),n.jsx(xb,{open:!p,onPick:Z})]})}function xb({open:o,onPick:l}){return b.useEffect(()=>{if(o){const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=d}},[o]),n.jsxs(Vn,{open:o,onClose:()=>{},title:"Start Alzheimer’s Question Bank",maxW:"max-w-lg",overlayClass:"bg-white",children:[n.jsx("p",{className:"text-slate-600 mb-4",children:"How would you like to order the questions?"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("button",{onClick:()=>l("random"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Randomised"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Shuffle questions for exam-style practice."})]}),n.jsxs("button",{onClick:()=>l("number"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"By question number"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Go in sequence (Q1, Q2, Q3 …)."})]})]})]})}function wb({text:o=""}){let l=String(o);return l=l.replace(/&(?![a-zA-Z#0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=l.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),l=l.replace(/(^|[^*])\*(?!\*)(.+?)\*(?!\*)/g,"$1<em>$2</em>"),l=l.replace(/_(.+?)_/g,"<em>$1</em>"),l=l.replace(/==(.+?)==/g,"<mark style='background-color:#FEF3C7' class='px-1 rounded'>$1</mark>"),Object.entries({yellow:"#FEF3C7",green:"#D1FAE5",blue:"#E0F2FE",red:"#FFE4E6",purple:"#EDE9FE"}).forEach(([c,p])=>{const y=new RegExp(`\\[${c}\\]([\\s\\S]+?)\\[\\/${c}\\]`,"gi");l=l.replace(y,`<mark style="background-color:${p}" class="px-1 rounded">$1</mark>`)}),l=l.replace(/&lt;strong&gt;/g,"<strong>").replace(/&lt;\/strong&gt;/g,"</strong>").replace(/&lt;em&gt;/g,"<em>").replace(/&lt;\/em&gt;/g,"</em>").replace(/&lt;mark /g,"<mark ").replace(/&lt;\/mark&gt;/g,"</mark>"),n.jsx("span",{dangerouslySetInnerHTML:{__html:l}})}const tt=[{id:"VaD-DEF-30001",topic:"Geriatrics • Vascular dementia — Definition & Core Concept",difficulty:"Medium",vignetteTitle:"What exactly is vascular dementia?",stem:"A 78-year-old with hypertension, diabetes, and atrial fibrillation has stepwise cognitive decline after several TIAs and one lacunar stroke. He has slowed thinking, impaired executive function, and focal exam findings (right pronator drift, brisk reflexes). MRI shows multiple lacunes and confluent periventricular white-matter hyperintensities. Which definition best captures the **core concept** of vascular dementia?",options:[{key:"A",text:"A progressive neurodegenerative disorder defined by amyloid-β plaques and tau tangles causing hippocampal-predominant memory loss"},{key:"B",text:"Cognitive impairment due to cerebrovascular brain injury (infarcts, hemorrhage, or ischemic white-matter disease) with a temporal/pathophysiologic link between vascular events and cognitive decline"},{key:"C",text:"A primary language-led dementia with selective degeneration of the anterior temporal lobes"},{key:"D",text:"A rapidly progressive dementia caused by prion protein misfolding with myoclonus and characteristic EEG changes"},{key:"E",text:"A neurodegenerative synucleinopathy with early visual hallucinations, cognitive fluctuations, and spontaneous parkinsonism"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Vascular dementia (VaD)** = **major neurocognitive disorder due to vascular disease**: cognitive/functional decline caused by **cerebrovascular brain injury** (large/small infarcts, hemorrhage, **ischemic white-matter disease**).","- The diagnosis requires a **clinical–radiologic link**: timing (onset after stroke or stepwise with TIAs), **focal neurological signs**, and **imaging evidence** of vascular lesions explaining the deficits.","- Typical phenotype emphasizes **processing speed/executive dysfunction** > pure amnestic loss, with **gait disturbance**, pseudobulbar affect, urinary urgency in subcortical forms.","- Course can be **stepwise**, **fluctuating**, or insidiously progressive when small-vessel disease accumulates. [yellow]Core concept: brain network damage from vascular hits → cognitive impairment[/yellow]. 🧠🩸","**2️⃣ Why the other options are wrong**","- **A (Alzheimer’s):** Describes **amyloid/tau** neurodegeneration with hippocampal memory-first decline—**not vascular injury**.","- **C (svPPA):** Language-led semantic loss from anterior temporal degeneration—**non-vascular**.","- **D (Prion disease):** **Rapid** course with myoclonus and periodic EEG; not a vascular mechanism.","- **E (DLB):** **Hallucinations, fluctuations, parkinsonism** from α-synuclein; vascular lesions are not the driver.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside cognitive profile (MoCA with **executive/attention** items), full neuro exam for **focal deficits**; vascular risk review. **Confirms?** ❌ Suggests VaD pattern.","- **Next Diagnostic step:** 🧠 **MRI brain** (preferred over CT) → [blue]lacunes, cortical/subcortical infarcts, microbleeds, and white-matter hyperintensities[/blue] in a distribution matching deficits. **Confirms?** ➕ Supports VaD when lesions explain cognition.","- **Best Diagnostic Step:** **Establish cerebrovascular causality**: correlate timeline (post-stroke decline/stepwise course) + imaging burden/strategic infarcts (e.g., thalamus, caudate) + exclude alternative primary neurodegeneration with **CSF AD biomarkers** or **amyloid PET** if mixed etiology suspected. **Confirms?** ✅ Clinico-radiologic diagnosis of VaD (or mixed).","- **Adjuncts:** Vascular work-up (ECG/AF, carotid/CTA/MRA, echo for embolic source), labs (lipids/A1c), BP monitoring; screen for sleep apnea.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Aggressive vascular risk control[/green] — BP target per guidelines, statin for ASCVD risk, diabetes management, smoking cessation, exercise, Mediterranean-style diet.","- **First Line:** [green]Antiplatelet therapy[/green] (single agent) for non-cardioembolic ischemic disease; **anticoagulation** for atrial fibrillation if indicated; **cognitive rehab** focusing on executive strategies; manage gait/balance with PT; treat depression/apathy.","- **Gold Standard:** No cure; [green]prevent further vascular injury[/green] is paramount. Consider **cholinesterase inhibitor** or **memantine** in *selected* VaD or **mixed AD/VaD** for symptomatic benefit (modest effect). [red]Avoid hypotension/over-sedation[/red] which worsens perfusion/cognition.","**5️⃣ Full Pathophysiology Explained**","- **Large-vessel infarcts** (strategic cortex, thalamus) and **small-vessel disease** (lacunes, white-matter ischemia) disconnect **fronto–subcortical circuits** vital for attention, speed, and executive control.","- **Microvascular pathology** (lipohyalinosis, arteriolosclerosis) and **endothelial dysfunction** reduce network efficiency; recurrent hits produce cumulative cognitive debt.","- Mixed pathology is common: vascular injury **lowers cognitive reserve** and **unmasks** concomitant Alzheimer changes.","- [purple]Mnemonic:[/purple] “**S.T.E.P.**” → **S**tepwise decline, **T**IAs/strokes, **E**xecutive slowing, **P**eriventricular WMH.","**6️⃣ Symptoms — core pattern recognition**","- **Slowed processing & executive dysfunction** 🐢🧩 → fronto–subcortical disconnection from small-vessel disease.","- **Gait disturbance & falls** 🚶‍♂️↘️ → subcortical WM involvement (‘lower body parkinsonism’).","- **Pseudobulbar affect/urinary urgency** 😢/🚻 → descending fiber tract disruption.","- **Stepwise decline after strokes** ⬇️➡️⬇️ → temporal link to vascular events.","- [blue]Imaging tie-in:[/blue] lacunes + confluent periventricular WMH or strategic infarcts that **match the deficits**."]},{id:"VaD-SX-30002",topic:"Geriatrics • Vascular dementia — Clinical Presentation (Symptoms)",difficulty:"Medium",vignetteTitle:"Spot the vascular pattern: executive slowing with stepwise dips",stem:"A 79-year-old man with long-standing hypertension, type 2 diabetes, and atrial fibrillation presents with 18 months of cognitive decline. Family reports a 'good day/bad day' pattern with two clear step-downs after TIAs. He mismanages bills and meds, gets stuck switching tasks, and walks more slowly with short steps. He laughs/cry easily (embarrassed afterward) and has new urinary urgency. Memory for recent events is fair with cues, but he is slow and distractible on testing. Which clinical constellation best identifies the underlying syndrome?",options:[{key:"A",text:"Gradual, memory-first decline with poor cueing benefit; hippocampal-predominant pattern"},{key:"B",text:"Fluctuations with recurrent visual hallucinations and spontaneous parkinsonism"},{key:"C",text:"Early behavioral disinhibition, apathy, hyperorality with relatively spared episodic memory"},{key:"D",text:"Stepwise or fluctuating decline with psychomotor slowing, executive dysfunction, gait disturbance, pseudobulbar affect, and early urinary urgency"},{key:"E",text:"Triad of magnetic gait, urinary incontinence, cognitive slowing with ventriculomegaly"}],correct:"D",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Vascular dementia (VaD)** classically presents with **executive dysfunction** and **psychomotor slowing** rather than pure amnesia.","- **Temporal link** to vascular events: **stepwise dips** after TIA/stroke or fluctuating course with small-vessel disease.","- **Gait disturbance** (short steps, lower-body parkinsonism), **pseudobulbar affect** (emotional lability), and **early urinary urgency** reflect **fronto–subcortical disconnection**.","- **Memory may improve with cues** (retrieval problem) versus the storage failure of Alzheimer’s.","- [yellow]Pattern lock:[/yellow] vascular risks + stepwise course + executive/gait/affect/urinary features → **VaD**. 🧠🩸","**2️⃣ Why the other options are wrong**","- **A (Alzheimer’s):** Memory-first with **poor cueing** and hippocampal atrophy; lacks stepwise vascular signature.","- **B (DLB):** **Visual hallucinations**, pronounced **fluctuations**, and **parkinsonism** without clear vascular temporality.","- **C (bvFTD):** Early **behavioral**/personality change with relative memory sparing and frontal atrophy; not vascular stepwise.","- **E (NPH):** Gait + urinary + cognitive slowing fit, but NPH requires **ventriculomegaly** and often magnetic gait; stepwise TIAs are not typical.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** MoCA with **attention/executive** focus (trail-making, clock, abstraction) + neuro exam for **focal signs**. **Confirms?** ❌ Suggests VaD profile.","- **Next Diagnostic step:** 🧠 **MRI brain** → [blue]lacunes, cortical/subcortical infarcts, confluent periventricular WMH, microbleeds[/blue] matching deficits/timeline. **Confirms?** ➕ Supports.","- **Best Diagnostic Step:** **Establish causality**: correlate **clinical timeline** (post-stroke/stepwise) + **lesion location/burden**; consider **CSF AD biomarkers/amyloid PET** if mixed AD/VaD suspected. **Confirms?** ✅ Clinico-radiologic VaD (or mixed).","- **Adjuncts:** Vascular workup (ECG for AF, carotid US/CTA/MRA, echocardiography), lipids/A1c, ambulatory BP, sleep apnea screen.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Aggressive vascular risk control[/green] — BP per guideline, statin for ASCVD risk, DM optimization, smoking cessation, exercise, Mediterranean-style diet.","- **First Line:** [green]Antiplatelet therapy[/green] for non-cardioembolic disease; **anticoagulation** for AF when indicated; PT/OT for **gait**; **cognitive rehab** emphasizing external aids and task sequencing; manage mood/apathy and **pseudobulbar affect** (e.g., dextromethorphan–quinidine where appropriate).","- **Gold Standard:** No cure; [green]prevent further vascular hits[/green]. Consider **cholinesterase inhibitor/memantine** for symptomatic benefit in selected VaD or **mixed AD/VaD** (modest effect). [red]Avoid hypotension and over-sedation[/red].","**5️⃣ Full Pathophysiology Explained**","- **Small-vessel disease** (arteriolosclerosis, lipohyalinosis) and **infarcts/hemorrhages** disrupt **fronto–subcortical circuits**, degrading processing speed, attention, and executive control.","- **White-matter hyperintensities** disconnect cortical hubs; **microbleeds** signal cerebral amyloid angiopathy or hypertensive small-vessel pathology.","- Repeated vascular hits accumulate **cognitive debt**; mixed pathology common, where vascular injury unmasks/worsens underlying AD.","- [blue]Network view:[/blue] damage to thalamus, caudate, frontal WM tracts → executive/gait/affect/urinary syndrome.","**6️⃣ Symptoms — Clinical Presentation map**","- **Psychomotor slowing & executive dysfunction** 🐢🧩 → fronto–subcortical disconnection.","- **Gait disturbance** 🚶‍♂️↘️ (short steps, wide base) → subcortical WM involvement (‘lower-body parkinsonism’).","- **Pseudobulbar affect** 😢😅 → corticobulbar tract involvement causing emotional lability.","- **Urinary urgency/early incontinence** 🚻 → descending control pathway disruption.","- **Stepwise or fluctuating decline** ⬇️➡️⬇️ → temporal link to TIAs/strokes/small-vessel burden.","- [purple]Pearl:[/purple] ==Cues help memory (retrieval) + executive/gait/affect/urinary + vascular timeline → **think VaD**=="]},{id:"VaD-SIGNS-30003",topic:"Geriatrics • Vascular dementia — Signs (Examination Findings)",difficulty:"Medium",vignetteTitle:"What bedside signs point to vascular dementia?",stem:"An 80-year-old with long-standing hypertension, diabetes, and atrial fibrillation has stepwise cognitive decline after TIAs. On exam: slowed processing, impaired trail-making and set-shifting, reduced verbal fluency, positive grasp reflex, brisk reflexes with right-sided pronator drift, and short-stepped gait with early urinary urgency. Delayed recall improves with category cues. Which set of examination signs best fits the underlying syndrome?",options:[{key:"A",text:"Poor delayed recall with minimal cueing benefit; constructional apraxia; otherwise nonfocal exam"},{key:"B",text:"Fluctuating attention with recurrent visual hallucinations and spontaneous parkinsonism"},{key:"C",text:"Nonfluent agrammatic speech with apraxia of speech; left inferior frontal signs"},{key:"D",text:"Psychomotor slowing with executive dysfunction (set-shifting/attention), frontal release signs, focal UMN findings (hyperreflexia/pronator drift/Babinski), gait disturbance (short steps/lower-body parkinsonism), early urinary urgency; memory improves with cues"},{key:"E",text:"Magnetic gait with ventriculomegaly, urinary incontinence, and subcortical cognitive slowing without focal UMN signs"}],correct:"D",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Vascular dementia (VaD)** shows **executive dysfunction** (set-shifting, attention) and **psychomotor slowing** on bedside testing.","- **Frontal release signs** (e.g., grasp), **UMN findings** (hyperreflexia, pronator drift, Babinski), and **gait disturbance** (short steps, wide base, lower-body parkinsonism) reflect **fronto–subcortical disconnection**.","- **Urinary urgency** appears early in subcortical small-vessel disease.","- **Delayed recall improves with cues** → retrieval problem (subcortical) rather than the storage failure typical of Alzheimer’s.","- [yellow]Pattern lock:[/yellow] vascular risks + stepwise course + executive/gait/UMN/frontal-release + cueable memory → **VaD**. 🧠🩸","**2️⃣ Why the other options are wrong**","- **A (Alzheimer’s signs):** **Poor cueing benefit** and nonfocal exam point to hippocampal storage failure, not VaD with focal/frontal signs.","- **B (DLB signs):** **Visual hallucinations**, cognitive **fluctuations**, and spontaneous **parkinsonism** without vascular temporality; UMN/frontal-release are not core.","- **C (nfvPPA signs):** Language-output (agrammatism/apraxia of speech) localizes to left IFG/insula; not the executive–gait–UMN cluster of VaD.","- **E (NPH signs):** Magnetic gait + ventriculomegaly + incontinence fit NPH but typically **lack focal UMN signs** and vascular stepwise link.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** MoCA focusing on **attention/executive** (trail-making, clock, abstraction) + full neuro exam for **UMN/frontal-release** signs. **Confirms?** ❌ Suggests VaD.","- **Next Diagnostic step:** 🧠 **MRI brain** → [blue]lacunes, cortical/subcortical infarcts, confluent periventricular WMH, microbleeds[/blue] matching deficits/timeline. **Confirms?** ➕ Supports VaD.","- **Best Diagnostic Step:** **Clinico-radiologic causality** (stepwise decline post-TIA/stroke or heavy small-vessel burden) ± **CSF AD biomarkers/amyloid PET** if mixed AD/VaD suspected. **Confirms?** ✅ VaD (or mixed).","- **Adjuncts:** Vascular workup (ECG/AF, carotid US/CTA/MRA, echocardiography), ambulatory BP, lipids/A1c, sleep apnea screen.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Aggressive vascular risk control[/green] — guideline BP, statin per ASCVD risk, diabetes optimization, smoking cessation, exercise, Mediterranean-style diet.","- **First Line:** [green]Antiplatelet therapy[/green] for non-cardioembolic disease; **anticoagulation** for AF if indicated; **PT/OT** for gait/balance; **cognitive rehab** with external aids; treat depression/apathy and **pseudobulbar affect** (e.g., dextromethorphan–quinidine when appropriate).","- **Gold Standard:** No cure; [green]prevent further vascular hits[/green]. Consider **cholinesterase inhibitor/memantine** for symptomatic benefit in selected VaD or **mixed AD/VaD** (modest effect). [red]Avoid hypotension/over-sedation[/red].","**5️⃣ Full Pathophysiology Explained**","- **Small-vessel disease** (arteriolosclerosis/lipohyalinosis) and **infarcts** disconnect **fronto–subcortical circuits**, producing **slowing, executive dysfunction, gait disturbance, and UMN signs**.","- **White-matter hyperintensities** degrade network efficiency; **microbleeds** indicate hypertensive disease or CAA.","- Mixed pathology is common; vascular injury **reduces cognitive reserve** and **amplifies** coexisting Alzheimer changes.","- [blue]Network view:[/blue] thalamus–caudate–frontal WM tract damage → executive/affect/urinary phenotype.","**6️⃣ Signs — Examination Findings map**","- **Executive dysfunction & slowing** 🐢🧩 → impaired set-shifting/attention on MoCA (TMT-B, clock).","- **Frontal release signs** ✋ → grasp/snout from frontal disinhibition.","- **UMN findings** ⚡ → hyperreflexia, pronator drift, Babinski from corticospinal tract involvement.","- **Gait disturbance** 🚶‍♂️↘️ → short steps, wide base, lower-body parkinsonism from subcortical WM disease.","- **Urinary urgency** 🚻 → descending control pathway disruption.","- **Cueable memory** 🧩 → retrieval deficit (subcortical) vs storage deficit of AD.","- [purple]Pearl:[/purple] ==Executive slowing + frontal/UMN signs + vascular timeline → **think VaD**=="]},{id:"VaD-REDFLAGS-30004",topic:"Geriatrics • Vascular dementia — Red Flags",difficulty:"Medium",vignetteTitle:"When it’s not typical vascular dementia: spot the red flags",stem:"A 78-year-old with hypertension and diabetes is referred for suspected vascular dementia after a transient episode of confusion. Over 6 weeks, family notes rapidly worsening attention, new daily headaches, low-grade fevers, and one focal seizure. Exam shows fluctuating consciousness, neck stiffness, and left homonymous hemianopia. Which feature set most strongly signals a RED FLAG requiring urgent reevaluation rather than routine vascular dementia workup?",options:[{key:"A",text:"Stepwise decline after strokes with executive slowing and gait disturbance over 3 years"},{key:"B",text:"Rapid (weeks–months) global decline with fever, new headache, seizure, meningism, or papilledema"},{key:"C",text:"Gradual executive dysfunction with white-matter hyperintensities on prior MRI"},{key:"D",text:"Stable mild cognitive impairment responsive to cues and normal neuro exam"},{key:"E",text:"Slow progression with urinary urgency and pseudobulbar affect in the setting of lacunes"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Vascular dementia (VaD)** typically evolves **stepwise** or slowly with vascular events—not as a **rapid febrile encephalopathy**.","- **Fever, new/worsening headache, seizure, meningism, papilledema, or focal cortical deficits** in a **weeks–months** time frame point to **infection, inflammation, neoplasm, hemorrhage, or venous thrombosis**.","- These features demand an **urgent acute neurology pathway** (imaging + CSF) rather than outpatient cognitive workup.","- [yellow]Safety hinge:[/yellow] **FAST + HOT + ELECTRIC + PRESSURE** → Fast decline, fever, seizures, raised ICP = **not routine VaD**. 🚨","**2️⃣ Why the other options are wrong**","- **A:** Classic vascular timeline: **stepwise** dips after strokes with **executive/gait** issues—expected VaD pattern, not a red flag.","- **C:** Chronic executive slowing with WMH fits small-vessel VaD; urgent pathologies are not suggested.","- **D:** Stable MCI without neuro signs is low-risk; monitor and risk-modify, not emergent.","- **E:** Urinary urgency/pseudobulbar affect with lacunes fits subcortical VaD; again, not an acute red-flag cluster.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** [red]Stabilize ABCs; fingerstick glucose; focused neuro exam[/red]. **Confirms?** ❌ Safety first.","- **Next Diagnostic step:** **Urgent non-contrast CT head** to exclude hemorrhage/mass → proceed to **MRI brain with and without contrast** ± **MRV/CTV** if venous thrombosis suspected. **Confirms?** ➕ Identifies structural/inflammatory causes.","- **Best Diagnostic Step:** **Lumbar puncture** (after imaging rules out mass effect) with **cell count, protein/glucose, cultures**, **HSV/VZV PCR**, **autoimmune encephalitis panel**; **EEG** for seizures/encephalopathy. **Confirms?** ✅ Etiologic diagnosis.","- **Adjuncts:** CBC, CMP, ESR/CRP, blood cultures; autoimmune/vasculitis serologies; coagulation panel; consider **CTA** for vasculopathy.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Seizure control[/green] (benzodiazepine → levetiracetam), head elevation, analgesia/antipyretics; manage BP per stroke/ICP protocols.","- **First Line (empiric while pending):** **IV acyclovir** if encephalitis possible; add **broad-spectrum antibiotics** if meningitis/abscess suspected; consider **steroids** only when indicated (e.g., vasculitis/tumor edema) after infectious causes addressed.","- **Gold Standard:** **Cause-specific therapy** (antivirals/antibiotics, anticoagulation for CVST, immunotherapy for autoimmune encephalitis, neurosurgical management for mass/abscess). For confirmed VaD without red flags, pivot to **vascular risk control + secondary stroke prevention**.","**5️⃣ Full Pathophysiology Explained (why these are red flags)**","- **VaD** results from **ischemic/hemorrhagic vascular injury** accumulating over time, usually **non-febrile** and **non-epileptic** early.","- **Infectious/autoimmune/neoplastic** processes create **inflammation, edema, mass effect**, and **cortical hyperexcitability** → **fever, headache, seizures, papilledema**.","- **Cerebral venous sinus thrombosis** or **intracranial hemorrhage** can mimic cognitive decline but add **pressure signs** and **rapid change**.","- Time course is the tell: **weeks–months** with systemic/neuroirritative features ≠ degenerative/vascular slow burn.","**6️⃣ Red-flag checklist — switch to urgent workup when you see…**","- **Acute/subacute** cognitive decline (days–weeks) or **dramatic fluctuations** with reduced consciousness.","- **Fever**, **new headache**, **meningism**, **papilledema**, or **recurrent seizures/status**.","- **New focal cortical deficits** (aphasia, neglect, homonymous field cut) not explained by prior strokes.","- **Cancer/immunosuppression**, **anticoagulation/trauma**, **vasculitis** or **venous thrombosis** risk.","- [blue]If present → bypass routine VaD evaluation and pursue **acute neuroimaging + CSF/EEG** now[/blue]."]},{id:"VaD-DDX-30005",topic:"Geriatrics • Vascular dementia — Differential Diagnosis",difficulty:"Medium",vignetteTitle:"Parsing the differentials in a stepwise, executive-predominant dementia",stem:"An 80-year-old with long-standing hypertension, diabetes, and atrial fibrillation has 2 years of cognitive decline with two clear stepwise 'drop-offs' after TIAs. Family notes slowed thinking, difficulty planning multi-step tasks, short-stepped gait, emotional lability, and early urinary urgency. Memory improves with cues, but he is distractible and slow. MRI shows multiple lacunes and confluent periventricular white-matter hyperintensities. Which diagnosis best explains this presentation?",options:[{key:"A",text:"Alzheimer’s disease (amnestic presentation)"},{key:"B",text:"Dementia with Lewy bodies (DLB)"},{key:"C",text:"Behavioral-variant frontotemporal dementia (bvFTD)"},{key:"D",text:"Vascular dementia (VaD) — small-vessel disease with lacunes/WMH"},{key:"E",text:"Normal-pressure hydrocephalus (NPH)"}],correct:"D",explanation_detail:[`**1️⃣ Why it is the correct answer**
- **Temporal link to vascular events**: stepwise dips after TIAs/strokes are classic for **VaD**.
- **Cognitive profile**: **psychomotor slowing** and **executive dysfunction** > pure amnesia; **memory improves with cues** (retrieval problem).
- **Subcortical syndrome**: **gait disturbance** (short steps), **pseudobulbar affect**, **early urinary urgency** → fronto–subcortical disconnection.
- **Imaging match**: [blue]lacunes + confluent periventricular white-matter hyperintensities (WMH)[/blue] consistent with small-vessel VaD.
- [yellow]Pattern lock:[/yellow] vascular risks + stepwise course + executive/gait/affect/urinary + WMH/lacunes → **VaD**. 🧠🩸`,`**2️⃣ Why the other options are wrong**
- **A. Alzheimer’s disease:** **Memory-first** decline with **poor cueing**, hippocampal atrophy; lacks vascular stepwise pattern and subcortical gait/UMN/frontal-release features.
- **B. DLB:** **Visual hallucinations**, **cognitive fluctuations**, **spontaneous parkinsonism**, and **RBD** dominate; imaging does not hinge on lacunes/WMH burden.
- **C. bvFTD:** Early **behavior/personality change**, disinhibition/apathy, stereotypies; MRI frontal/insular atrophy; stepwise vascular timeline is absent.
- **E. NPH:** **Magnetic gait**, urinary incontinence, subcortical slowing **with ventriculomegaly**; cueable memory can occur, but TIAs/lacunes/WMH pattern points elsewhere.`,`**3️⃣ Investigations / Diagnostic Steps (in order)**
- **Initial Diagnostic step:** MoCA/MMSE with **attention/executive** emphasis (trail-making, clock, abstraction) + full neuro exam for **UMN/frontal-release** signs. **Confirms?** ❌ Suggests VaD profile.
- **Next Diagnostic step:** 🧠 **MRI brain** → [blue]lacunes, cortical/subcortical infarcts, confluent periventricular WMH, microbleeds[/blue] that map to deficits/timeline. **Confirms?** ➕ Supports VaD.
- **Best Diagnostic Step:** **Clinico-radiologic causality**: correlate **timeline (post-TIA/stroke/stepwise)** + **lesion load/location**; consider **CSF AD biomarkers or amyloid PET** if mixed AD/VaD is suspected. **Confirms?** ✅ VaD (or mixed).`,`**4️⃣ Management / Treatment (in order)**
- **Initial Management:** [green]Aggressive vascular risk control[/green] — guideline BP, statin per ASCVD risk, diabetes optimization, smoking cessation, Mediterranean diet, exercise.
- **First Line:** [green]Antiplatelet therapy[/green] for non-cardioembolic disease; **anticoagulation** for AF if indicated; **PT/OT** for gait; **cognitive rehab** (external aids, task sequencing); treat depression/apathy and **pseudobulbar affect**.
- **Gold Standard:** No cure; [green]prevent further vascular hits[/green]. Consider **cholinesterase inhibitor/memantine** for symptomatic benefit in selected VaD or **mixed AD/VaD** (modest effect). [red]Avoid hypotension/over-sedation[/red].`,`**5️⃣ Full Pathophysiology Explained (DDx focus)**
- **VaD:** ischemic/hemorrhagic injury (lacunes, WMH, infarcts) → **fronto–subcortical disconnection** → slowing/executive deficits, gait/affect/urinary changes.
- **AD:** **Aβ/tau** pathology → hippocampal storage failure → amnestic syndrome with poor cueing.
- **DLB:** **α-synuclein** spread → hallucinations/fluctuations/parkinsonism; visuospatial deficits early.
- **bvFTD:** **TDP-43/tau** in frontal–insular networks → behavior/executive change > memory.
- **NPH:** CSF dynamics → ventriculomegaly → gait then continence/cognition; potentially shunt-responsive.`,`**6️⃣ Symptoms — pattern recognition for DDx**
- **VaD:** Stepwise or fluctuating decline; **executive slowing**, **gait disturbance**, **pseudobulbar affect**, **early urinary urgency**; memory **helped by cues**; MRI with **lacunes/WMH**.
- **AD:** Gradual memory-first decline; **poor cueing**; hippocampal atrophy.
- **DLB:** Hallucinations, fluctuations, **spontaneous parkinsonism**, RBD.
- **bvFTD:** Disinhibition/apathy, loss of empathy, stereotypies; frontal atrophy.
- **NPH:** **Magnetic gait** + ventriculomegaly + urinary incontinence; tap test may help predict shunt response.
- [purple]Pearl:[/purple] ==Cueable memory + executive/gait/affect/urinary + vascular timeline → choose **VaD** over AD/DLB/FTD/NPH==`]},{id:"VaD-INV-30006",topic:"Geriatrics • Vascular dementia — Best Initial Investigation",difficulty:"Medium",vignetteTitle:"First test when you suspect vascular dementia",stem:"An 81-year-old with hypertension, diabetes, and atrial fibrillation has 2 years of stepwise cognitive decline after TIAs. Family notes slowed thinking, trouble organizing tasks, short-stepped gait, emotional lability, and early urinary urgency. Bedside testing shows impaired set-shifting and attention; delayed recall improves with cues. What is the **best initial investigation**?",options:[{key:"A",text:"Non-contrast CT head"},{key:"B",text:"MRI brain with vascular/small-vessel protocol (T1/T2/FLAIR/DWI/SWI)"},{key:"C",text:"CSF Alzheimer biomarkers (Aβ42/40, p-tau, t-tau)"},{key:"D",text:"FDG-PET brain"},{key:"E",text:"Comprehensive neuropsychological testing"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **MRI brain with a small-vessel/vascular protocol (T1/T2/FLAIR/DWI/SWI)** is the **best initial investigation** for suspected vascular dementia (VaD).","- MRI provides **superior sensitivity** to detect **lacunes, strategic infarcts, confluent white-matter hyperintensities (WMH), microbleeds**, and **acute/subacute ischemia** (DWI).","- The pattern/burden and **anatomic mapping to deficits and timeline** establish the clinico-radiologic link essential for VaD.","- SWI flags **microbleeds** (hypertensive SVD vs CAA), informing antithrombotic risk; FLAIR quantifies **WMH** load.","- [yellow]Bottom line:[/yellow] MRI both **rules out mimics** and **demonstrates vascular injury** that matches the clinical story. 🧠🩸","**2️⃣ Why the other options are wrong**","- **A. CT head:** Useful if MRI unavailable/contraindicated or to exclude acute bleed, but **insensitive** for WMH, lacunes, and microbleeds.","- **C. CSF AD biomarkers:** Helpful to assess **mixed AD/VaD**, but **not first**—doesn’t show vascular injury or stroke burden.","- **D. FDG-PET:** May show network hypometabolism but is **nonspecific** and secondary to structural imaging.","- **E. Neuropsych testing:** Quantifies deficits; **supports** diagnosis but cannot demonstrate cerebrovascular lesions.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Cognitive screen targeting **attention/executive** functions (trail-making, clock, abstraction) + neuro exam for **UMN/frontal-release** signs. **Confirms?** ❌ Suggests VaD profile.","- **Next Diagnostic step (Best Initial Investigation):** 🧠 **MRI brain (T1/T2/FLAIR/DWI/SWI)** → [blue]lacunes, WMH (Fazekas), microbleeds, strategic infarcts[/blue] that map to symptoms and stepwise timeline. **Confirms?** ➕ Supports.","- **Best Diagnostic Step (to secure causality/mixed etiologies):** Correlate **timeline + lesion location/burden**; add **CSF AD biomarkers or amyloid PET** if mixed AD/VaD suspected. **Confirms?** ✅ Clinico-radiologic VaD (or mixed).","- **Adjuncts:** Vascular workup (ECG for AF, carotid US/CTA/MRA, echocardiography), lipids/A1c, ambulatory BP, sleep apnea screen.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Aggressive vascular risk control[/green] — guideline BP targets, statin per ASCVD risk, diabetes optimization, smoking cessation, Mediterranean diet, exercise.","- **First Line:** [green]Antiplatelet therapy[/green] for non-cardioembolic disease; **anticoagulation** for AF if indicated; **PT/OT** for gait; **cognitive rehab** (external aids, task sequencing); treat depression/apathy and **pseudobulbar affect**.","- **Gold Standard:** No cure; [green]prevent further vascular hits[/green]. Consider **cholinesterase inhibitor/memantine** for symptomatic benefit in selected VaD or **mixed AD/VaD** (modest effect). [red]Avoid hypotension/over-sedation[/red].","**5️⃣ Full Pathophysiology Explained**","- **Small-vessel disease** (arteriolosclerosis, lipohyalinosis) and **infarcts/hemorrhages** disrupt **fronto–subcortical circuits**, producing **slowing, executive dysfunction, gait disturbance, affect/urinary changes**.","- MRI visualizes the **network disconnection** (WMH, lacunes) and **hemorrhagic markers** (microbleeds) that drive the syndrome.","- Establishing a **temporal and anatomic link** between lesions and cognitive course is central to diagnosing VaD.","**6️⃣ Symptoms — pattern recognition link to imaging**","- **Cueable memory with executive slowing** 🧩 ↔ **WMH/lacunes** in fronto-subcortical tracts.","- **Short-stepped gait & early urgency** 🚶‍♂️🚻 ↔ subcortical WM involvement.","- **Pseudobulbar affect** 😢😅 ↔ corticobulbar tract disruption.","- [purple]Pearl:[/purple] ==Suspected VaD? **MRI with DWI/FLAIR/SWI** first; then consider **AD biomarkers** if mixed disease is on the table=="]},{id:"VaD-GOLD-30007",topic:"Geriatrics • Vascular dementia — Gold Standard Investigation",difficulty:"Medium",vignetteTitle:"What definitively confirms vascular dementia etiology?",stem:"An 82-year-old with stepwise cognitive decline after TIAs shows multiple lacunes and confluent periventricular WMH on MRI. Neuro exam reveals frontal release signs, mild right pronator drift, and short-stepped gait. CSF Alzheimer biomarkers are non-AD. Family asks: “What is the final, gold standard test that proves this is vascular dementia?”",options:[{key:"A",text:"MRI brain with volumetric analysis and Fazekas scoring"},{key:"B",text:"FDG-PET brain showing frontoparietal hypometabolism"},{key:"C",text:"CSF Alzheimer biomarker profile (Aβ42/40, p-tau, t-tau)"},{key:"D",text:"Neuropathology (post-mortem or, rarely, biopsy) demonstrating cerebrovascular lesions sufficient to cause the cognitive syndrome"},{key:"E",text:"Amyloid PET to exclude coexisting Alzheimer’s disease"}],correct:"D",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Gold standard = tissue diagnosis**: **Neuropathology** directly shows **cerebrovascular brain injury** (macro/microinfarcts, lacunes, microhemorrhages, small-vessel arteriolosclerosis, CAA) in patterns/severity **sufficient to explain the cognitive syndrome**.","- Clinical criteria rely on **clinico–radiologic correlation**; only pathology can **prove causality** and quantify mixed disease (e.g., AD + vascular).","- In practice this is almost always **post-mortem**; biopsy is **rare** and reserved for atypical inflammatory/neoplastic suspicions.","- [yellow]Bottom line:[/yellow] MRI/CSF/PET are **supportive**; **histopathology** is definitive. 🧠🔬","**2️⃣ Why the other options are wrong**","- **A. MRI volumetrics/Fazekas:** Best **initial** structural tool and highly supportive, but **cannot prove** etiologic sufficiency or exclude mixed disease.","- **B. FDG-PET:** Shows network hypometabolism but is **nonspecific** for vascular vs degenerative etiologies.","- **C. CSF AD biomarkers:** Helpful to **exclude AD** or identify mixed pathology, yet **do not confirm** VaD.","- **E. Amyloid PET:** Useful to judge **amyloid co-pathology** (mixed AD/VaD) but is not definitive for vascular causation.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Cognitive screen emphasizing **attention/executive** domains + full neuro exam for **UMN/frontal-release** signs. **Confirms?** ❌ Suggests VaD profile.","- **Next Diagnostic step:** 🧠 **MRI brain (T1/T2/FLAIR/DWI/SWI)** → [blue]lacunes, WMH (Fazekas), microbleeds, strategic infarcts[/blue] that map to timeline/deficits. **Confirms?** ➕ Supports VaD.","- **Best Diagnostic Step (in vivo confirmation/mixing):** **Correlate clinical course with imaging**; add **CSF AD biomarkers** or **amyloid PET** if mixed AD/VaD suspected. **Confirms?** ✅ Clinico–radiologic diagnosis.","- **Gold Standard (definitive):** 🔬 **Neuropathology** showing **vascular lesions sufficient for cognitive impairment** ± quantification of **co-pathologies** (AD, Lewy, TDP-43). **Confirms?** ✅✅ Definitive.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Aggressive vascular risk control[/green] — BP targets, statin per ASCVD risk, diabetes optimization, smoking cessation, Mediterranean diet, exercise.","- **First Line:** [green]Antiplatelet therapy[/green] for non-cardioembolic disease; **anticoagulation** for AF if indicated; **PT/OT** for gait; **cognitive rehab**; treat depression/apathy and **pseudobulbar affect**.","- **Gold Standard (therapy reality):** No cure; [green]prevent further vascular hits[/green]. Consider **cholinesterase inhibitor/memantine** for symptomatic benefit in selected VaD or **mixed AD/VaD** (modest effect). [red]Avoid hypotension/over-sedation[/red].","**5️⃣ Full Pathophysiology Explained**","- **Ischemic/hemorrhagic lesions** disrupt **fronto–subcortical circuits** → psychomotor slowing, executive dysfunction, gait/affect/urinary changes.","- **Small-vessel disease** (arteriolosclerosis, lipohyalinosis) causes **WMH**, lacunes; **microbleeds** reflect hypertensive SVD or **CAA**.","- Neuropathology quantifies **lesion burden and distribution**, establishing whether vascular injury is **sufficient** to account for dementia and how much **mixed pathology** contributes.","**6️⃣ Signs — pattern recognition link**","- **Executive slowing & cueable memory** 🧩 ↔ fronto–subcortical disconnection.","- **Gait disturbance, UMN/frontal-release signs** 🚶‍♂️✋ ↔ subcortical and corticospinal tract involvement.","- **Early urinary urgency** 🚻 ↔ descending control pathway disruption.","- [purple]Pearl:[/purple] ==MRI builds the case; **neuropathology** closes it=="]},{id:"VaD-ETIO-30008",topic:"Geriatrics • Vascular dementia — Etiology (Causes)",difficulty:"Medium",vignetteTitle:"What’s the underlying cause in vascular dementia?",stem:"An 82-year-old with long-standing hypertension, diabetes, and hyperlipidemia has a 3-year history of stepwise cognitive decline following TIAs. MRI shows multiple lacunar infarcts in the basal ganglia and thalamus, confluent periventricular white-matter hyperintensities, and scattered microbleeds on SWI. Which underlying **etiology** best explains this presentation?",options:[{key:"A",text:"Small-vessel ischemic disease with arteriolosclerosis/lipohyalinosis causing lacunes, white-matter ischemia, and microbleeds"},{key:"B",text:"Primary amyloid-β plaques and tau tangles (Alzheimer pathology) without vascular lesions"},{key:"C",text:"α-synuclein (Lewy body) pathology leading to visual hallucinations and parkinsonism"},{key:"D",text:"Frontotemporal lobar degeneration with TDP-43 causing semantic memory loss"},{key:"E",text:"Normal-pressure hydrocephalus with impaired CSF absorption and ventriculomegaly"}],correct:"A",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Vascular dementia (VaD)** arises when **cerebrovascular lesions** are sufficient to cause the cognitive syndrome.","- The most common cause is **small-vessel disease (SVD)** due to **arteriolosclerosis/lipohyalinosis** from chronic HTN/diabetes → **lacunes** and **white-matter hyperintensities (WMH)**.","- **SWI microbleeds** reflect hypertensive SVD (deep) or CAA (lobar); here vascular risks + deep lesions favor **hypertensive SVD**.","- Clinically matches **stepwise decline** with **executive slowing/gait** from fronto–subcortical disconnection.","- [yellow]Etiology lock:[/yellow] vascular risks + lacunes/WMH + microbleeds → **small-vessel ischemic disease**. 🧠🩸","**2️⃣ Why the other options are wrong**","- **B. Alzheimer pathology:** Explains amnestic **storage** failure with hippocampal atrophy, not stepwise vascular injury (though mixed disease can coexist).","- **C. Lewy body disease:** Hallucinations, fluctuations, spontaneous parkinsonism dominate; imaging isn’t lacune/WMH/microbleed-centric.","- **D. FTLD–TDP:** Language/behavior-led syndromes (svPPA/bvFTD); not a vascular lesion model.","- **E. NPH:** Triad (magnetic gait, incontinence, cognitive slowing) with **ventriculomegaly**—not the lacune/WMH/microbleed pattern.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Cognitive screen focused on **attention/executive** (trail-making, clock, abstraction) + vascular risk inventory. **Confirms?** ❌ Suggests VaD/SVD profile.","- **Next Diagnostic step:** 🧠 **MRI brain (T1/T2/FLAIR/DWI/SWI)** → [blue]lacunes, confluent WMH (Fazekas), microbleeds[/blue]; DWI for acute/subacute hits. **Confirms?** ➕ Supports vascular etiology.","- **Best Diagnostic Step:** **Clinico–radiologic correlation** (timeline after TIAs/strokes + lesion distribution) ± **CSF AD biomarkers or amyloid PET** to assess **mixed AD/VaD**. **Confirms?** ✅ Establishes vascular causality (or mixed).","- **Adjuncts:** Vascular workup (ECG/AF, carotid US/CTA/MRA, echocardiography), lipids/A1c, ambulatory BP, sleep apnea screen.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Aggressive vascular risk control[/green] — BP per guideline, statin per ASCVD risk, diabetes optimization, smoking cessation, Mediterranean diet, exercise.","- **First Line:** [green]Antiplatelet therapy[/green] for non-cardioembolic ischemia; **anticoagulation** for AF if indicated; **PT/OT** for gait; **cognitive rehab** with external aids; treat depression/apathy and **pseudobulbar affect**.","- **Gold Standard:** No cure; [green]prevent further vascular hits[/green]. Consider **cholinesterase inhibitor/memantine** for symptomatic benefit in selected VaD or **mixed AD/VaD** (modest effect). [red]Avoid hypotension/over-sedation** which worsens perfusion/cognition[/red].","**5️⃣ Full Pathophysiology Explained (Etiology focus)**","- **Chronic hypertension/diabetes** → **arteriolosclerosis** (wall thickening, lipohyalinosis) → luminal narrowing and impaired autoregulation.","- Result: **ischemic white-matter injury** (WMH), **lacunar infarcts** in deep gray/WM tracts, and **microbleeds** from fragile vessels.","- These lesions disconnect **fronto–subcortical circuits** → **psychomotor slowing, executive dysfunction, gait disturbance, pseudobulbar affect, urinary urgency**.","- **CAA** may coexist (lobar microbleeds), and **mixed AD** is common—vascular injury lowers **cognitive reserve**, unmasking degenerative pathology.","- [purple]Mnemonic:[/purple] “**HITs to small pipes → slow mind & short steps**.”","**6️⃣ Symptoms — cause → effect mapping**","- **Arteriolosclerosis → WMH/lacunes** 🧩 → **executive slowing** and **cueable memory** (retrieval deficit).","- **Deep microbleeds** ⚫ → hypertensive SVD marker; caution with antithrombotics.","- **Fronto–subcortical disconnection** 🔗 → **gait disturbance** and **pseudobulbar affect**.","- **Strategic small infarcts (thalamus/caudate)** 🎯 → disproportionate executive/attention deficits.","- [blue]Imaging–clinic link:[/blue] Lesion burden/distribution should **map to the symptoms and stepwise timeline**."]},{id:"VaD-COMP-30009",topic:"Geriatrics • Vascular dementia — Complications",difficulty:"Medium",vignetteTitle:"What high-impact complication should you anticipate in vascular dementia?",stem:"An 82-year-old with vascular dementia due to small-vessel disease (multiple lacunes, confluent periventricular WMH) and atrial fibrillation presents for follow-up. BP averages 152/88 mmHg at home, LDL 120 mg/dL, A1c 7.9%. Gait is short-stepped with two near-falls this month. He is inconsistently taking his DOAC and has missed several BP pills. Which complication is most important to anticipate and actively prevent over the next year?",options:[{key:"A",text:"Recurrent ischemic stroke causing further stepwise cognitive decline and disability"},{key:"B",text:"Early visual hallucinations requiring antipsychotics"},{key:"C",text:"Amyloid-related imaging abnormalities (ARIA) from anti-amyloid therapy"},{key:"D",text:"Serotonin syndrome due to SSRI use"},{key:"E",text:"Autoimmune encephalitis following viral illness"}],correct:"A",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Vascular dementia (VaD)** reflects accumulated **cerebrovascular injury**; the single **highest-impact future risk** is **another stroke** that accelerates disability and cognition loss.","- The vignette shows **uncontrolled vascular factors** (HTN, DM, lipids), **AF with poor anticoagulation adherence**, and **gait instability**—a perfect storm for **recurrent ischemic events**.","- Preventing **new infarcts** changes the slope of decline more than any cognitive drug in VaD; secondary prevention is the **main therapeutic lever**.","- [yellow]Clinical rule:[/yellow] In VaD, the next stroke is the biggest complication to anticipate and prevent. 🧠🩸","**2️⃣ Why the other options are wrong**","- **B (DLB feature):** Visual hallucinations point to **Lewy body dementia**, not VaD; antipsychotics risk sensitivity in DLB and are not the central VaD complication.","- **C (ARIA):** ARIA is tied to **anti-amyloid mAbs** used in biomarker-positive AD, not standard in pure VaD.","- **D (Serotonin syndrome):** Possible with polypharmacy but uncommon and not the dominant risk in VaD management planning.","- **E (Autoimmune encephalitis):** Typically **subacute, inflammatory**; not a foreseeable complication of chronic small-vessel VaD.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Quantify **vascular risk** and **adherence** → home BP log, A1c/lipids, med reconciliation, AF anticoagulation status. **Confirms?** ❌ Risk profiles the patient.","- **Next Diagnostic step:** **MRI brain (baseline for trajectory)** if not recent to document WMH/lacune burden; **carotid duplex/CTA/MRA** and **echocardiography** if large-artery or cardioembolic sources suspected. **Confirms?** ➕ Identifies stroke mechanisms.","- **Best Diagnostic Step:** Implement a **secondary stroke prevention plan** with targets (BP, LDL, A1c) and **AF anticoagulation** verification (level/adherence/contraindications). **Confirms?** ✅ Action plan addressing the preventable complication.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Tight vascular control[/green] — BP target per guideline (often <130/80 if tolerated), **high-intensity statin**, DM optimization, smoking cessation, Mediterranean diet, exercise; **fall prevention** (PT, home safety).","- **First Line:** [green]Antithrombotic strategy[/green] — **anticoagulation for AF** (DOAC preferred unless contraindicated); **single antiplatelet** for non-cardioembolic disease; avoid dual therapy unless specific indication. Adherence supports: pillboxes, caregiver oversight, pharmacy sync.","- **Gold Standard:** [green]Prevent further vascular hits[/green] via **comprehensive secondary prevention bundle** (BP, lipids, DM, AF anticoagulation, sleep apnea treatment). Consider **cholinesterase inhibitor/memantine** in selected VaD/mixed AD–VaD for modest symptomatic benefit; [red]avoid hypotension/over-sedation[/red] which worsen perfusion and falls.","**5️⃣ Full Pathophysiology Explained**","- **Small-vessel disease** (arteriolosclerosis/lipohyalinosis) plus **cardioembolism** (AF) create **recurrent ischemic insults** → additive **fronto–subcortical disconnection**.","- Each new infarct/lacune further degrades **processing speed, executive control, gait**, and continence networks → **stepwise decline**.","- Secondary prevention targets the **mechanisms of injury** (hemodynamic, thromboembolic, metabolic) rather than downstream symptoms.","**6️⃣ Complications — pattern recognition & prevention map**","- **Recurrent ischemic stroke** 🎯 → stepwise cognitive/functional losses — **primary target for prevention**.","- **Intracerebral hemorrhage** ⚠️ → consider if **microbleeds/CAA** or uncontrolled HTN; adjust antithrombotic risk.","- **Falls and fractures** 🦴 → short-stepped gait, weakness; mitigate with PT/home safety/vision review.","- **Depression/apathy & pseudobulbar affect** 😢😅 → treat to reduce disability and caregiver strain.","- **Urinary incontinence** 🚻 → behavioral/med strategies; avoid anticholinergics when possible.","- [purple]Pearl:[/purple] ==In VaD, **prevent the next vascular hit**—it’s the complication that most changes the trajectory=="]},{id:"VaD-EPI-30010",topic:"Geriatrics • Vascular dementia — Epidemiology",difficulty:"Medium",vignetteTitle:"How common is vascular dementia, and in whom?",stem:"A 79-year-old clinic asks for a brief data sheet on vascular dementia (VaD) to guide resource planning. They serve an older population with high rates of hypertension, diabetes, and stroke. They want to know how common VaD is relative to other dementias, how age and geography influence risk, and what patterns of cerebrovascular disease are typically involved.",options:[{key:"A",text:"VaD is rare (<1% of dementias) and occurs mostly in young adults without vascular risk factors"},{key:"B",text:"VaD accounts for a substantial minority of dementia cases, commonly coexisting with Alzheimer pathology; risk rises with age and vascular burden"},{key:"C",text:"VaD incidence is equal across ages and is unrelated to stroke prevalence"},{key:"D",text:"VaD is primarily a pediatric condition linked to congenital heart disease"},{key:"E",text:"VaD occurs only after large hemispheric infarcts; small-vessel disease is not epidemiologically relevant"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **VaD** represents a **substantial minority** of dementias globally and frequently appears as **mixed disease** with Alzheimer pathology.","- Prevalence and incidence **increase sharply with age**, mirroring the epidemiology of stroke and small-vessel disease.","- **Population vascular burden** (hypertension, diabetes, AF, dyslipidemia, smoking) tracks with higher VaD rates across regions.","- **Mixed AD/VaD** is common in clinic and autopsy series, explaining overlapping phenotypes and emphasizing biomarker use.","- [yellow]Planning pearl:[/yellow] Where **stroke** is common, **VaD** (and mixed dementia) will be common. 🧠🩸","**2️⃣ Why the other options are wrong**","- **A:** VaD is **not rare** and is most prevalent in **older adults with vascular risks**, not the young.","- **C:** Risk is **age- and stroke-dependent**; it is **not uniform** across ages or geographies.","- **D:** Pediatric VaD is **not** a standard entity; adult cerebrovascular disease drives VaD.","- **E:** **Small-vessel disease** (lacunes/WMH/microbleeds) is **epidemiologically central**; VaD does **not** require a massive cortical infarct.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Define clinic population **risk profile** (age distribution, HTN/DM/AF rates, stroke prevalence). **Confirms?** ❌ Frames expected VaD burden.","- **Next Diagnostic step:** Track **incident strokes/TIAs** and **MRI markers** (WMH burden, lacunes, microbleeds) in your cohort. **Confirms?** ➕ Links cerebrovascular load to cognitive outcomes.","- **Best Diagnostic Step:** Build a **mixed-dementia pathway** (MRI + cognitive profile + optional AD biomarkers) to separate **pure VaD** from **mixed AD/VaD**. **Confirms?** ✅ Better epidemiologic classification.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Clinic-level prevention bundle[/green] — BP programs, diabetes optimization, statins per ASCVD risk, smoking cessation, exercise/diet coaching.","- **First Line:** [green]Secondary stroke prevention pathways[/green] for any cerebrovascular event (antithrombotics, AF anticoagulation, carotid evaluation, OSA screening).","- **Gold Standard:** [green]Population risk reduction** + **equitable stroke care access**[/green]; cognitive rehab and caregiver support networks for established cases.","**5️⃣ Full Pathophysiology Explained (Epi lens)**","- VaD prevalence reflects **macro/microvascular brain injury** accumulation in aging populations.","- **Small-vessel disease** prevalence rises with **hypertension/diabetes** → more **WMH/lacunes** and higher VaD risk.","- **Geographic and socioeconomic gradients** (vascular risk control, stroke systems of care) modulate VaD rates across regions.","- **Mixed pathology** is frequent at autopsy, so real-world ‘VaD’ commonly rides alongside **AD changes**.","**6️⃣ Symptoms — epidemiology → phenotype link**","- Populations with heavy **WMH/lacune** burden show more **executive slowing, gait disturbance, and cueable memory**.","- Where **AF and large-artery disease** are prevalent, expect **stepwise dips** post-stroke.","- **Mixed AD/VaD** settings show blended **amnestic + executive** profiles.","- [purple]Service design tip:[/purple] ==If your clinic serves a high-stroke community, scale up **MRI access**, **BP/AF clinics**, and **post-stroke cognitive screening**=="]},{id:"VaD-RISK-30011",topic:"Geriatrics • Vascular dementia — Risk Factors",difficulty:"Medium",vignetteTitle:"Which risk factor cluster drives vascular dementia the most?",stem:"A 72-year-old with hypertension, type 2 diabetes, hyperlipidemia, atrial fibrillation, and a 40 pack-year smoking history asks what to prioritize to lower his chance of vascular dementia (VaD). He has mild white-matter hyperintensities on MRI but no prior stroke. Which risk factor set contributes most to VaD risk and is the highest-yield target for prevention?",options:[{key:"A",text:"Chronic hypertension, diabetes, dyslipidemia, smoking, and atrial fibrillation (vascular risk cluster)"},{key:"B",text:"Late-life bilingualism and high education (cognitive reserve)"},{key:"C",text:"APOE ε4 genotype and increasing age"},{key:"D",text:"Gluten sensitivity and low vitamin C intake"},{key:"E",text:"High coffee consumption and cold weather exposure"}],correct:"A",explanation_detail:["**1️⃣ Why it is the correct answer**","- **VaD** results from **cerebrovascular injury**; the dominant, modifiable drivers are the **vascular risk cluster**: **hypertension, diabetes, dyslipidemia, smoking, and atrial fibrillation**.","- These factors fuel **small-vessel disease** (arteriolosclerosis → WMH/lacunes/microbleeds) and **macrovascular events** (embolic/large-artery strokes).","- Treating the cluster sharply lowers **stroke incidence** and **white-matter disease progression**, shifting VaD trajectory. [green]Risk control = brain protection[/green].","- [yellow]High-yield prevention focus[/yellow]: BP control, glucose/lipid optimization, **smoking cessation**, and **anticoagulation for AF** when indicated. 🧠🩸","**2️⃣ Why the other options are wrong**","- **B. Cognitive reserve:** Protective modifier, not a **primary vascular driver**; useful but not the main lever for VaD risk.","- **C. APOE ε4 & age:** Important **nonmodifiable** risks (and stronger for AD than pure VaD); they guide counseling, not actionables.","- **D. Gluten/low vitamin C:** Not established determinants of VaD risk; **low-yield** relative to vascular control.","- **E. Coffee/cold exposure:** Associations are inconsistent/weak; neither is a core, targetable VaD risk factor.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Vascular risk inventory → **ambulatory/home BP**, A1c/fasting glucose, **lipids**, smoking status, **AF screening** (ECG ± ambulatory), BMI, sleep apnea screen. **Confirms?** ❌ Stratifies modifiable risk.","- **Next Diagnostic step:** 🧠 **MRI brain** (FLAIR/SWI) baseline to quantify **WMH/lacunes/microbleeds**; carotid US/CTA/MRA and echocardiography if mechanism suspected. **Confirms?** ➕ Maps current cerebrovascular burden.","- **Best Diagnostic Step:** Establish a **personalized prevention plan** with numeric targets (BP, LDL, A1c) and **AF anticoagulation** suitability; use **adherence checks** and pharmacist review. **Confirms?** ✅ Operationalizes risk reduction.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]BP control[/green] to guideline targets (often **<130/80** if tolerated); **smoking cessation** (counseling + NRT/varenicline), Mediterranean-style diet, **150–300 min/wk aerobic exercise**.","- **First Line:** [green]High-intensity statin** per ASCVD risk[/green]; **A1c** individualized (~<7–7.5% for most older adults); **anticoagulation for AF** with DOAC unless contraindicated; treat **OSA** (CPAP).","- **Gold Standard:** [green]Comprehensive vascular bundle** + adherence supports[/green] (blister packs, reminders, caregiver oversight). [red]Avoid hypotension/over-sedation[/red] which worsens perfusion and falls.","**5️⃣ Full Pathophysiology Explained**","- **Hypertension/diabetes/dyslipidemia** → endothelial dysfunction, **arteriolosclerosis**, BBB injury → **WMH/lacunes** and slowed networks.","- **Smoking** → oxidative stress, inflammation, thrombosis risk → both SVD and macrovascular events.","- **Atrial fibrillation** → **cardioembolism** to strategic territories (thalamus, cortex) → stepwise cognitive drops.","- Cumulative lesions disconnect **fronto–subcortical circuits** → **executive slowing, gait changes, pseudobulbar affect, urinary urgency**.","- [blue]Concept link:[/blue] fewer vascular hits → slower lesion accrual → lower VaD probability/severity.","**6️⃣ Symptoms — risk → phenotype mapping**","- **Chronic HTN/SVD** 🩺 → **psychomotor slowing, cueable memory**, WMH on MRI.","- **AF/cardioembolism** ❤️ → **stepwise dips** after infarcts; focal signs may accrue.","- **Smoking + dyslipidemia** 🚬🧪 → atherosclerosis → large/small infarcts; faster disability.","- **Diabetes** 🍬 → microvascular injury → WM disconnection → executive dysfunction.","- [purple]Pearl:[/purple] ==Tackle **HTN, DM, lipids, smoking, AF**—they are the big levers that move VaD risk=="]}];function kb(o){const l=[...o];for(let d=l.length-1;d>0;d--){const c=Math.floor(Math.random()*(d+1));[l[d],l[c]]=[l[c],l[d]]}return l}const Ab=/^[0-9+\-*/().\s^%]*$/;function Cb(o){if(!Ab.test(o))throw new Error("Invalid characters");const l=o.replace(/(\d+(?:\.\d+)?)\s*\^\s*(\d+(?:\.\d+)?)/g,"Math.pow($1,$2)");return Function(`"use strict"; return (${l||0});`)()}function Gn({open:o,onClose:l,title:d,children:c,maxW:p="max-w-2xl",overlayClass:y="bg-black/30"}){return o?n.jsxs("div",{className:"fixed inset-0 z-[60]",children:[n.jsx("div",{className:`absolute inset-0 ${y}`,onClick:l}),n.jsx("div",{className:"absolute inset-0 overflow-auto",children:n.jsx("div",{className:`mx-auto ${p} p-4`,children:n.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:d}),n.jsx("button",{onClick:l,className:"px-2 py-1 rounded-lg text-slate-600 hover:bg-slate-100",children:"✕"})]}),n.jsx("div",{className:"p-4",children:c})]})})})]}):null}function Sb(){const o=[{name:"Hb",value:"M 13–17 g/dL • F 12–15"},{name:"WBC",value:"4–11 ×10⁹/L"},{name:"Platelets",value:"150–400 ×10⁹/L"},{name:"Na⁺",value:"135–145 mmol/L"},{name:"K⁺",value:"3.5–5.0 mmol/L"},{name:"Cl⁻",value:"98–106 mmol/L"},{name:"HCO₃⁻",value:"22–28 mmol/L"},{name:"Urea",value:"2.5–7.1 mmol/L"},{name:"Creatinine",value:"M 60–110 • F 45–90 µmol/L"},{name:"Glucose (fasting)",value:"3.9–5.5 mmol/L"},{name:"Lactate",value:"0.5–2.2 mmol/L"},{name:"INR",value:"0.8–1.2 (lab-dependent)"},{name:"pH (ABG)",value:"7.35–7.45"},{name:"PaCO₂",value:"4.7–6.0 kPa"},{name:"PaO₂ (room air)",value:"10–13 kPa"},{name:"Troponin (99th %ile)",value:"lab-specific cut-off"}];return n.jsxs("div",{className:"max-h-[60vh] overflow-auto",children:[n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-slate-600",children:[n.jsx("th",{className:"py-2 pr-3",children:"Test"}),n.jsx("th",{className:"py-2",children:"Reference Range"})]})}),n.jsx("tbody",{children:o.map(l=>n.jsxs("tr",{className:"border-t border-slate-200",children:[n.jsx("td",{className:"py-2 pr-3 font-medium",children:l.name}),n.jsx("td",{className:"py-2 text-slate-700",children:l.value})]},l.name))})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Ranges vary by lab and context; this is for quick revision."})]})}function Eb(){const[o,l]=b.useState(""),[d,c]=b.useState(""),p=["7","8","9","/","4","5","6","*","1","2","3","-","0",".","(",")","+","^"],y=w=>l(f=>f+w),v=()=>{try{c(String(Cb(o)))}catch{c("Error")}};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{className:"flex-1 rounded-lg border border-slate-300 px-3 py-2",value:o,onChange:w=>l(w.target.value),placeholder:"e.g. (12.5*3)/4"}),n.jsx("button",{onClick:()=>{l(""),c("")},className:"rounded-lg border px-3",children:"Clear"}),n.jsx("button",{onClick:v,className:"rounded-lg bg-purple-600 text-white px-4",children:"="})]}),n.jsx("div",{className:"grid grid-cols-9 gap-1",children:p.map(w=>n.jsx("button",{onClick:()=>y(w),className:"rounded-lg border py-2 hover:bg-slate-50",children:w},w))}),n.jsxs("div",{className:"text-sm text-slate-600",children:["Result: ",n.jsx("span",{className:"font-semibold text-slate-900",children:d})]})]})}function Tb(o=768){const[l,d]=b.useState(()=>typeof window<"u"?window.innerWidth<o:!1);return b.useEffect(()=>{if(typeof window>"u")return;const c=()=>d(window.innerWidth<o);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[o]),l}function Db({open:o,onClose:l,order:d,currentIdx:c,setCurrentIdx:p,answers:y}){return n.jsx(Gn,{open:o,onClose:l,title:"Questions",maxW:"max-w-lg",overlayClass:"bg-black/30",children:n.jsx("ol",{className:"space-y-3",children:d.map((v,w)=>{const f=tt[v].id,g=y[f],C=g?g===tt[v].correct?"correct":"incorrect":"unanswered",B=w===c?"ring-2 ring-purple-300":C==="correct"?"ring-2 ring-emerald-300":C==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>{p(w),l()},className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${B}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",w+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:tt[v].stem.replace(/<[^>]*>/g,"")}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:tt[v].topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:tt[v].difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${C==="correct"?"bg-emerald-500":C==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},f)})})})}function Nb({open:o,onClose:l,answers:d,order:c,elapsedMs:p,jumpTo:y}){const v=c.length,w=b.useMemo(()=>c.reduce((M,z)=>M+(d[tt[z].id]===tt[z].correct?1:0),0),[d,c]),f=Math.round(w/Math.max(v,1)*100),g=b.useMemo(()=>c.map((M,z)=>({i:z,q:tt[M],chosen:d[tt[M].id]})).filter(({q:M,chosen:z})=>z&&z!==M.correct),[d,c]),C=Math.floor(p/6e4),B=Math.floor(p%6e4/1e3);return n.jsx(Gn,{open:o,onClose:l,title:"Results",maxW:"max-w-2xl",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Marks"}),n.jsxs("p",{className:"text-2xl font-bold",children:[w," / ",v]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Percentage"}),n.jsxs("p",{className:"text-2xl font-bold",children:[f,"%"]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Time"}),n.jsxs("p",{className:"text-2xl font-bold",children:[C,"m ",B,"s"]})]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Questions to review"}),g.length===0?n.jsx("p",{className:"text-slate-600 text-sm",children:"Nice — no incorrect answers 🎉"}):n.jsx("ul",{className:"space-y-2",children:g.map(({i:M,q:z,chosen:W})=>n.jsxs("li",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Q",M+1," — ",z.vignetteTitle||"Vignette"]}),n.jsxs("p",{className:"text-sm text-slate-600",children:["Chosen: ",n.jsx("span",{className:"font-semibold",children:W})," • Correct:"," ",n.jsx("span",{className:"font-semibold",children:z.correct})]})]}),n.jsx("button",{className:"shrink-0 rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-50",onClick:()=>{y(M),l()},children:"Go to question →"})]},z.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:l,className:"rounded-lg border px-4 py-2 hover:bg-slate-50",children:"Close"})})]})})}function jb(){const o=Mi(),l=Tb(),[d,c]=b.useState(tt.map((E,h)=>h)),[p,y]=b.useState(!1),[v,w]=b.useState(!1),[f,g]=b.useState(0),[C,B]=b.useState({}),[M,z]=b.useState({}),[W,Q]=b.useState(!1),[X,U]=b.useState(!1),[ie,J]=b.useState(!1),K=b.useRef(null),q=b.useRef(null),[re,ye]=b.useState(!1),ue=b.useRef(null),V=tt[d[f]],te=tt.length,De=(f+1)/Math.max(te,1)*100,ke=()=>{const E=ue.current;if(!E)return;const h=window.getSelection&&window.getSelection();if(!(!h||h.rangeCount===0))try{const k=h.getRangeAt(0);if(!E.contains(k.commonAncestorContainer)||String(k).trim().length===0)return;const P=document.createElement("mark");P.className="bg-yellow-200 rounded px-0.5",k.surroundContents(P),h.removeAllRanges()}catch{const k=E.getAttribute("contenteditable");E.setAttribute("contenteditable","true"),document.execCommand("hiliteColor",!1,"#FEF08A"),k!==null?E.setAttribute("contenteditable",k):E.removeAttribute("contenteditable")}};b.useEffect(()=>{if(!re)return;const E=()=>ke();return document.addEventListener("mouseup",E),()=>document.removeEventListener("mouseup",E)},[re]);const Oe=()=>{const E=ue.current;E&&E.querySelectorAll("mark").forEach(h=>{const k=h.parentNode;for(;h.firstChild;)k.insertBefore(h.firstChild,h);k.removeChild(h)})},Z=E=>{const h=E==="random"?kb(tt.map((k,P)=>P)):tt.map((k,P)=>P);c(h),g(0),B({}),z({}),y(!0),K.current=Date.now(),q.current=null};b.useEffect(()=>{const E=h=>{h.key==="ArrowRight"&&f<te-1&&g(k=>k+1),h.key==="ArrowLeft"&&f>0&&g(k=>k-1)};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[f,te]);const _=()=>z(E=>({...E,[V.id]:!0})),S=()=>{f>=te-1||g(h=>h+1)},H=()=>f>0&&g(E=>E-1),F=f===te-1&&!!M[V.id];return b.useEffect(()=>{F&&!q.current&&(q.current=Date.now())},[F]),b.useMemo(()=>{if(K.current==null)return 0;const E=q.current||Date.now();return Math.max(0,E-K.current)},[ie,M,f]),n.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[n.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-slate-200",children:n.jsxs("div",{className:"mx-auto max-w-[1100px] px-4 py-3 flex items-center justify-between",children:[n.jsx(nt,{to:"/",className:"text-2xl font-extrabold text-purple-700",children:"Mediwise"}),n.jsxs("div",{className:"flex items-center gap-4 w-[320px]",children:[n.jsxs("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:["Question ",Math.min(f+1,te)," of ",te]}),n.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${De}%`}})})]}),n.jsx("button",{onClick:()=>o("/diseases/geriatrics"),className:"rounded-xl px-4 py-2 border border-slate-200 hover:bg-slate-50 text-slate-700",children:"End Session"})]})}),n.jsx("button",{onClick:()=>w(E=>!E),className:["fixed z-50 h-10 w-10 rounded-xl shadow-sm border bg-white flex items-center justify-center text-slate-600 hover:bg-slate-50 transition-all",l?"right-4 bottom-20":"top-[120px]"].join(" "),style:l?{}:{left:v?316:12},title:v?"Hide questions":"Show questions",children:v?"‹":"›"}),n.jsx("div",{className:"mx-auto max-w-[1100px] px-2 md:px-4 py-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("aside",{className:["hidden md:block","fixed top-[64px] left-0 z-40 h-[calc(100vh-64px)] w-[300px]","bg-white border-r border-slate-200 shadow","transition-transform",v?"translate-x-0":"-translate-x-[310px]"].join(" "),children:n.jsxs("div",{className:"h-full overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-slate-200",children:[n.jsx("p",{className:"font-semibold",children:"Questions"}),n.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs",children:[n.jsxs("span",{className:"flex items-center gap-1 text-emerald-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"})," ","Correct"]}),n.jsxs("span",{className:"flex items-center gap-1 text-rose-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"})," ","Incorrect"]}),n.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})," ","Unanswered"]})]})]}),n.jsx("ol",{className:"p-3 space-y-3",children:d.map((E,h)=>{const k=tt[E],P=C[k.id],G=P?P===k.correct?"correct":"incorrect":"unanswered",Y=h===f?"ring-2 ring-purple-300":G==="correct"?"ring-2 ring-emerald-300":G==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>g(h),className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${Y}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",h+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:k.stem.replace(/<[^>]*>/g,"")}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:k.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:k.difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${G==="correct"?"bg-emerald-500":G==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},k.id)})}),n.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[n.jsx("button",{onClick:()=>Q(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Lab values"}),n.jsx("button",{onClick:()=>U(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Calculator"})]})]})}),n.jsx("div",{className:`transition-all ${v&&!l?"md:pl-[320px]":"ml-0"}`,children:n.jsxs("div",{className:"mx-auto md:pr-[56px]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:V.vignetteTitle||"Clinical Vignette"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"mr-2 text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:V.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:V.difficulty})]})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["ID: ",V.id]})]}),n.jsxs("div",{className:"p-6 space-y-5",ref:ue,children:[n.jsx("div",{className:"text-[15px] leading-relaxed",dangerouslySetInnerHTML:{__html:V.stem}}),V.image&&n.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200",children:n.jsx("img",{src:V.image,alt:"Figure",className:"w-full block"})}),n.jsx("div",{className:"space-y-3",children:V.options.map(E=>{const h=C[V.id],k=!!M[V.id],P=E.key===V.correct,G=k?P?"border-emerald-300 bg-emerald-50":h===E.key?"border-rose-300 bg-rose-50":"border-slate-200 bg-white":"border-slate-200 bg-white hover:bg-slate-50";return n.jsxs("label",{className:`flex items-center gap-3 rounded-xl border px-4 py-3 cursor-pointer ${G}`,children:[n.jsx("input",{type:"radio",name:`ans-${V.id}`,className:"h-4 w-4 text-purple-600",checked:h===E.key,onChange:()=>B(Y=>({...Y,[V.id]:E.key})),disabled:k}),n.jsxs("span",{className:"text-[15px]",children:[n.jsxs("span",{className:"font-medium",children:[E.key,"."]})," ",E.text]})]},E.key)})}),n.jsx("div",{className:"pt-2 flex flex-wrap gap-2",children:M[V.id]?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:S,disabled:f>=te-1,className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Next Question →"}),n.jsx("button",{onClick:H,disabled:f===0,className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"← Previous"}),f===te-1&&n.jsx("button",{onClick:()=>J(!0),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Results"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:_,disabled:!C[V.id],className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Submit Answer"}),n.jsx("button",{onClick:()=>B(E=>({...E,[V.id]:void 0})),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Clear"})]})}),M[V.id]&&n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:"Explanation"}),n.jsx("div",{className:"space-y-2 text-slate-800",children:V.explanation_detail?.map((E,h)=>n.jsx("p",{className:"leading-relaxed",children:n.jsx(wb,{text:E})},h))})]})})]})]}),n.jsxs("div",{className:"fixed right-4 top-[140px] md:flex md:flex-col md:gap-3 hidden",children:[n.jsx("button",{title:"Calculator",onClick:()=>U(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧮"}),n.jsx("button",{title:"Lab values",onClick:()=>Q(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧪"}),n.jsx("button",{title:"Toggle highlight mode",onClick:()=>ye(E=>!E),className:`h-10 w-10 rounded-lg border shadow-sm hover:bg-slate-50 ${re?"border-purple-400 bg-purple-50 text-purple-700":"border-slate-200 bg-white text-slate-700"}`,children:"🖍️"}),n.jsx("button",{title:"Clear highlights",onClick:Oe,className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧽"})]})]})})]})}),n.jsx(Gn,{open:W,onClose:()=>Q(!1),title:"Common Lab Values",children:n.jsx(Sb,{})}),n.jsx(Gn,{open:X,onClose:()=>U(!1),title:"Calculator",children:n.jsx(Eb,{})}),n.jsx(Db,{open:l&&v,onClose:()=>w(!1),order:d,currentIdx:f,setCurrentIdx:g,answers:C}),n.jsx(Nb,{open:ie,onClose:()=>J(!1),answers:C,order:d,elapsedMs:(()=>{if(K.current==null)return 0;const E=q.current||Date.now();return Math.max(0,E-K.current)})(),jumpTo:E=>g(E)}),n.jsx(Mb,{open:!p,onPick:Z})]})}function Mb({open:o,onPick:l}){return b.useEffect(()=>{if(o){const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=d}},[o]),n.jsxs(Gn,{open:o,onClose:()=>{},title:"Start Vascular Dementia Bank",maxW:"max-w-lg",overlayClass:"bg-white",children:[n.jsx("p",{className:"text-slate-600 mb-4",children:"How would you like to order the questions?"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("button",{onClick:()=>l("random"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Randomised"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Shuffle questions for exam-style practice."})]}),n.jsxs("button",{onClick:()=>l("number"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"By question number"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Go in sequence (Q1, Q2, Q3 …)."})]})]})]})}const Rt=[{id:"DLB-3001",topic:"Geriatrics • Dementia with Lewy bodies",difficulty:"Easy",vignetteTitle:"Core clinical features",stem:"A 76-year-old man has a 1-year history of progressive cognitive impairment. His wife reports vivid, well-formed visual hallucinations of children in the house, daily fluctuations in attention, and new acting-out of dreams with limb movements during sleep. On exam, there is mild bradykinesia and rigidity. What SINGLE diagnosis best fits this constellation?",options:[{key:"A",text:"Alzheimer’s disease"},{key:"B",text:"Frontotemporal dementia (behavioural variant)"},{key:"C",text:"Dementia with Lewy bodies (DLB)"},{key:"D",text:"Vascular dementia"},{key:"E",text:"Parkinson disease dementia (PDD)"}],correct:"C",explanation_detail:["DLB is defined by core features: (1) fluctuating cognition/attention, (2) recurrent well-formed visual hallucinations, (3) REM sleep behaviour disorder (RBD), and (4) spontaneous parkinsonism. ≥2 core features strongly support DLB.","PDD vs DLB distinction uses the 1-year rule: if dementia occurs before or within ~1 year of parkinsonism, DLB is favoured; if well after established Parkinson disease, consider PDD."]},{id:"DLB-3002",topic:"Geriatrics • Dementia with Lewy bodies",difficulty:"Medium",vignetteTitle:"Imaging & biomarkers",stem:"A 72-year-old woman with fluctuating cognition and visual hallucinations has equivocal MRI (mild global atrophy). Which SINGLE additional test most specifically supports a diagnosis of DLB when available?",options:[{key:"A",text:"EEG showing diffuse slowing"},{key:"B",text:"FDG-PET with posterior cingulate 'cingulate island sign'"},{key:"C",text:"Elevated CSF tau with reduced amyloid-β42"},{key:"D",text:"CT head showing medial temporal lobe atrophy"},{key:"E",text:"Plain skull X-ray"}],correct:"B",explanation_detail:["Supportive DLB biomarkers include decreased dopamine transporter uptake on DaTscan and FDG-PET with the 'cingulate island sign' (relative sparing of posterior cingulate compared with precuneus/occipital hypometabolism).","Medial temporal predominant atrophy and AD-pattern CSF are more consistent with Alzheimer’s disease, though mixed pathology is common in older adults."]},{id:"DLB-3003",topic:"Geriatrics • Dementia with Lewy bodies",difficulty:"Medium",vignetteTitle:"Antipsychotic sensitivity",stem:"A 79-year-old man with DLB is admitted for agitation and visual hallucinations. He is given haloperidol 1 mg overnight and becomes profoundly rigid, confused, and nearly akinetic by morning. What is the SINGLE best next step?",options:[{key:"A",text:"Increase haloperidol dose to control agitation"},{key:"B",text:"Stop haloperidol; use non-pharmacologic measures and consider low-dose quetiapine if essential"},{key:"C",text:"Begin high-potency risperidone regularly"},{key:"D",text:"Start levodopa/carbidopa at high dose immediately"},{key:"E",text:"Administer long-acting benzodiazepine nightly"}],correct:"B",explanation_detail:["DLB patients have marked neuroleptic sensitivity; typical antipsychotics (e.g., haloperidol) can precipitate severe rigidity, sedation, paradoxical confusion, or even neuroleptic malignant–like syndromes.","If antipsychotics are unavoidable after environmental/behavioural strategies, use lowest effective doses of quetiapine (or clozapine with monitoring). Avoid routine benzodiazepines; they can worsen falls and cognition."]},{id:"DLB-3004",topic:"Geriatrics • Dementia with Lewy bodies",difficulty:"Medium",vignetteTitle:"Symptomatic therapy",stem:"A 75-year-old woman with DLB has cognitive fluctuations and distressing visual hallucinations. Motor symptoms are mild. Which SINGLE medication class is most appropriate initial therapy for cognitive/psychiatric symptoms?",options:[{key:"A",text:"High-dose levodopa"},{key:"B",text:"Acetylcholinesterase inhibitor (e.g., rivastigmine)"},{key:"C",text:"Chronic benzodiazepine (e.g., diazepam) for hallucinations"},{key:"D",text:"Valproate for behavioural control"},{key:"E",text:"Memantine only"}],correct:"B",explanation_detail:["Cholinesterase inhibitors (rivastigmine, donepezil) can improve attention, fluctuations, and neuropsychiatric symptoms in DLB; they are reasonable first-line in many patients.","Levodopa may help parkinsonism but can worsen hallucinations; use cautiously and titrate to the lowest effective dose if needed. Benzodiazepines are not first-line."]},{id:"DLB-3005",topic:"Geriatrics • Dementia with Lewy bodies",difficulty:"Medium",vignetteTitle:"REM sleep behaviour disorder (RBD)",stem:"A 70-year-old man with suspected DLB has dream enactment behaviours with vocalisations and punching during sleep, injuring his spouse. Which SINGLE management approach is most appropriate first-line for RBD after environmental safety measures?",options:[{key:"A",text:"Immediate high-dose antipsychotic at bedtime"},{key:"B",text:"Clonazepam nightly or melatonin"},{key:"C",text:"Propranolol nightly"},{key:"D",text:"Amantadine"},{key:"E",text:"No treatment needed"}],correct:"B",explanation_detail:["RBD is common in synucleinopathies including DLB. After bedroom safety measures (remove hazards, separate beds temporarily), clonazepam or melatonin is typically used.","Avoid agents that worsen confusion or falls; re-evaluate if daytime somnolence or balance issues develop."]}];function Rb(o){const l=[...o];for(let d=l.length-1;d>0;d--){const c=Math.floor(Math.random()*(d+1));[l[d],l[c]]=[l[c],l[d]]}return l}const Pb=/^[0-9+\-*/().\s^%]*$/;function Bb(o){if(!Pb.test(o))throw new Error("Invalid characters");const l=o.replace(/(\d+(?:\.\d+)?)\s*\^\s*(\d+(?:\.\d+)?)/g,"Math.pow($1,$2)");return Function(`"use strict"; return (${l||0});`)()}function mr({open:o,onClose:l,title:d,children:c,maxW:p="max-w-2xl",overlayClass:y="bg-black/30"}){return o?n.jsxs("div",{className:"fixed inset-0 z-[60]",children:[n.jsx("div",{className:`absolute inset-0 ${y}`,onClick:l}),n.jsx("div",{className:"absolute inset-0 overflow-auto",children:n.jsx("div",{className:`mx-auto ${p} p-4`,children:n.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:d}),n.jsx("button",{onClick:l,className:"px-2 py-1 rounded-lg text-slate-600 hover:bg-slate-100",children:"✕"})]}),n.jsx("div",{className:"p-4",children:c})]})})})]}):null}function Ib(){const o=[{name:"Hb",value:"M 13–17 g/dL • F 12–15"},{name:"WBC",value:"4–11 ×10⁹/L"},{name:"Platelets",value:"150–400 ×10⁹/L"},{name:"Na⁺",value:"135–145 mmol/L"},{name:"K⁺",value:"3.5–5.0 mmol/L"},{name:"Cl⁻",value:"98–106 mmol/L"},{name:"HCO₃⁻",value:"22–28 mmol/L"},{name:"Urea",value:"2.5–7.1 mmol/L"},{name:"Creatinine",value:"M 60–110 • F 45–90 µmol/L"},{name:"Glucose (fasting)",value:"3.9–5.5 mmol/L"},{name:"Lactate",value:"0.5–2.2 mmol/L"},{name:"INR",value:"0.8–1.2 (lab-dependent)"},{name:"pH (ABG)",value:"7.35–7.45"},{name:"PaCO₂",value:"4.7–6.0 kPa"},{name:"PaO₂ (room air)",value:"10–13 kPa"},{name:"Troponin (99th %ile)",value:"lab-specific cut-off"}];return n.jsxs("div",{className:"max-h-[60vh] overflow-auto",children:[n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-slate-600",children:[n.jsx("th",{className:"py-2 pr-3",children:"Test"}),n.jsx("th",{className:"py-2",children:"Reference Range"})]})}),n.jsx("tbody",{children:o.map(l=>n.jsxs("tr",{className:"border-t border-slate-200",children:[n.jsx("td",{className:"py-2 pr-3 font-medium",children:l.name}),n.jsx("td",{className:"py-2 text-slate-700",children:l.value})]},l.name))})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Ranges vary by lab and context; this is for quick revision."})]})}function Hb(){const[o,l]=b.useState(""),[d,c]=b.useState(""),p=["7","8","9","/","4","5","6","*","1","2","3","-","0",".","(",")","+","^"],y=w=>l(f=>f+w),v=()=>{try{c(String(Bb(o)))}catch{c("Error")}};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{className:"flex-1 rounded-lg border border-slate-300 px-3 py-2",value:o,onChange:w=>l(w.target.value),placeholder:"e.g. (12.5*3)/4"}),n.jsx("button",{onClick:()=>{l(""),c("")},className:"rounded-lg border px-3",children:"Clear"}),n.jsx("button",{onClick:v,className:"rounded-lg bg-purple-600 text-white px-4",children:"="})]}),n.jsx("div",{className:"grid grid-cols-9 gap-1",children:p.map(w=>n.jsx("button",{onClick:()=>y(w),className:"rounded-lg border py-2 hover:bg-slate-50",children:w},w))}),n.jsxs("div",{className:"text-sm text-slate-600",children:["Result: ",n.jsx("span",{className:"font-semibold text-slate-900",children:d})]})]})}function Lb(o=768){const[l,d]=b.useState(()=>typeof window<"u"?window.innerWidth<o:!1);return b.useEffect(()=>{if(typeof window>"u")return;const c=()=>d(window.innerWidth<o);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[o]),l}function zb({open:o,onClose:l,order:d,currentIdx:c,setCurrentIdx:p,answers:y}){return n.jsx(mr,{open:o,onClose:l,title:"Questions",maxW:"max-w-lg",overlayClass:"bg-black/30",children:n.jsx("ol",{className:"space-y-3",children:d.map((v,w)=>{const f=Rt[v].id,g=y[f],C=g?g===Rt[v].correct?"correct":"incorrect":"unanswered",B=w===c?"ring-2 ring-purple-300":C==="correct"?"ring-2 ring-emerald-300":C==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>{p(w),l()},className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${B}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",w+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:Rt[v].stem}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:Rt[v].topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:Rt[v].difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${C==="correct"?"bg-emerald-500":C==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},f)})})})}function Ob(){const o=Mi(),l=Lb(),[d,c]=b.useState(Rt.map((_,S)=>S)),[p,y]=b.useState(!1),[v,w]=b.useState(!1),[f,g]=b.useState(0),[C,B]=b.useState({}),[M,z]=b.useState({}),[W,Q]=b.useState(!1),[X,U]=b.useState(!1),[ie,J]=b.useState(!1),K=b.useRef(null),q=Rt[d[f]],re=Rt.length,ye=(f+1)/Math.max(re,1)*100,ue=()=>{const _=K.current;if(!_)return;const S=window.getSelection&&window.getSelection();if(!(!S||S.rangeCount===0))try{const H=S.getRangeAt(0);if(!_.contains(H.commonAncestorContainer)||String(H).trim().length===0)return;const F=document.createElement("mark");F.className="bg-yellow-200 rounded px-0.5",H.surroundContents(F),S.removeAllRanges()}catch{const H=_.getAttribute("contenteditable");_.setAttribute("contenteditable","true"),document.execCommand("hiliteColor",!1,"#FEF08A"),H!==null?_.setAttribute("contenteditable",H):_.removeAttribute("contenteditable")}};b.useEffect(()=>{if(!ie)return;const _=()=>ue();return document.addEventListener("mouseup",_),()=>document.removeEventListener("mouseup",_)},[ie]);const V=()=>{const _=K.current;_&&_.querySelectorAll("mark").forEach(S=>{const H=S.parentNode;for(;S.firstChild;)H.insertBefore(S.firstChild,S);H.removeChild(S)})},te=_=>{const S=_==="random"?Rb(Rt.map((H,F)=>F)):Rt.map((H,F)=>F);c(S),g(0),B({}),z({}),y(!0)};b.useEffect(()=>{const _=S=>{S.key==="ArrowRight"&&f<re-1&&g(H=>H+1),S.key==="ArrowLeft"&&f>0&&g(H=>H-1)};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[f,re]);const De=_=>B(S=>({...S,[q.id]:_})),ke=()=>z(_=>({..._,[q.id]:!0})),Oe=()=>f<re-1&&g(_=>_+1),Z=()=>f>0&&g(_=>_-1);return n.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[n.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-slate-200",children:n.jsxs("div",{className:"mx-auto max-w-[1100px] px-4 py-3 flex items-center justify-between",children:[n.jsx(nt,{to:"/",className:"text-2xl font-extrabold text-purple-700",children:"Mediwise"}),n.jsxs("div",{className:"flex items-center gap-4 w-[320px]",children:[n.jsxs("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:["Question ",Math.min(f+1,re)," of ",re]}),n.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${ye}%`}})})]}),n.jsx("button",{onClick:()=>o("/diseases/geriatrics"),className:"rounded-xl px-4 py-2 border border-slate-200 hover:bg-slate-50 text-slate-700",children:"End Session"})]})}),n.jsx("button",{onClick:()=>w(_=>!_),className:["fixed z-50 h-10 w-10 rounded-xl shadow-sm border bg-white flex items-center justify-center text-slate-600 hover:bg-slate-50 transition-all",l?"right-4 bottom-20":"top-[120px]"].join(" "),style:l?{}:{left:v?316:12},title:v?"Hide questions":"Show questions",children:v?"‹":"›"}),n.jsx("div",{className:"mx-auto max-w-[1100px] px-2 md:px-4 py-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("aside",{className:["hidden md:block","fixed top-[64px] left-0 z-40 h-[calc(100vh-64px)] w-[300px]","bg-white border-r border-slate-200 shadow","transition-transform",v?"translate-x-0":"-translate-x-[310px]"].join(" "),children:n.jsxs("div",{className:"h-full overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-slate-200",children:[n.jsx("p",{className:"font-semibold",children:"Questions"}),n.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs",children:[n.jsxs("span",{className:"flex items-center gap-1 text-emerald-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"})," ","Correct"]}),n.jsxs("span",{className:"flex items-center gap-1 text-rose-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"})," ","Incorrect"]}),n.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})," ","Unanswered"]})]})]}),n.jsx("ol",{className:"p-3 space-y-3",children:d.map((_,S)=>{const H=Rt[_],F=C[H.id],E=F?F===H.correct?"correct":"incorrect":"unanswered",h=S===f?"ring-2 ring-purple-300":E==="correct"?"ring-2 ring-emerald-300":E==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>g(S),className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${h}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",S+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:H.stem}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:H.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:H.difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${E==="correct"?"bg-emerald-500":E==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},H.id)})}),n.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[n.jsx("button",{onClick:()=>Q(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Lab values"}),n.jsx("button",{onClick:()=>U(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Calculator"})]})]})}),n.jsx("div",{className:`transition-all ${v&&!l?"md:pl-[320px]":"ml-0"}`,children:n.jsxs("div",{className:"mx-auto md:pr-[56px]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:q.vignetteTitle||"Clinical Vignette"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"mr-2 text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:q.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:q.difficulty})]})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["ID: ",q.id]})]}),n.jsxs("div",{className:"p-6 space-y-5",ref:K,children:[n.jsx("div",{className:"text-[15px] leading-relaxed",dangerouslySetInnerHTML:{__html:q.stem}}),q.image&&n.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200",children:n.jsx("img",{src:q.image,alt:"Figure",className:"w-full block"})}),n.jsx("div",{className:"space-y-3",children:q.options.map(_=>{const S=C[q.id],H=!!M[q.id],F=_.key===q.correct,E=H?F?"border-emerald-300 bg-emerald-50":S===_.key?"border-rose-300 bg-rose-50":"border-slate-200 bg-white":"border-slate-200 bg-white hover:bg-slate-50";return n.jsxs("label",{className:`flex items-center gap-3 rounded-xl border px-4 py-3 cursor-pointer ${E}`,children:[n.jsx("input",{type:"radio",name:`ans-${q.id}`,className:"h-4 w-4 text-purple-600",checked:S===_.key,onChange:()=>De(_.key),disabled:H}),n.jsxs("span",{className:"text-[15px]",children:[n.jsxs("span",{className:"font-medium",children:[_.key,"."]})," ",_.text]})]},_.key)})}),n.jsx("div",{className:"pt-2 flex flex-wrap gap-2",children:M[q.id]?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:Oe,disabled:f>=re-1,className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Next Question →"}),n.jsx("button",{onClick:Z,disabled:f===0,className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"← Previous"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:ke,disabled:!C[q.id],className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Submit Answer"}),n.jsx("button",{onClick:()=>B(_=>({..._,[q.id]:void 0})),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Clear"})]})}),M[q.id]&&n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[n.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:"Explanation"}),n.jsx("div",{className:"space-y-2 text-slate-800",children:q.explanation_detail?.map((_,S)=>n.jsx("p",{dangerouslySetInnerHTML:{__html:_}},S))})]})})]})]}),n.jsxs("div",{className:"fixed right-4 top-[140px] md:flex md:flex-col md:gap-3 hidden",children:[n.jsx("button",{title:"Calculator",onClick:()=>U(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧮"}),n.jsx("button",{title:"Lab values",onClick:()=>Q(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧪"}),n.jsx("button",{title:"Toggle highlight mode",onClick:()=>J(_=>!_),className:`h-10 w-10 rounded-lg border shadow-sm hover:bg-slate-50 ${ie?"border-purple-400 bg-purple-50 text-purple-700":"border-slate-200 bg-white text-slate-700"}`,children:"🖍️"}),n.jsx("button",{title:"Clear highlights",onClick:V,className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧽"})]})]})})]})}),n.jsx(mr,{open:W,onClose:()=>Q(!1),title:"Common Lab Values",children:n.jsx(Ib,{})}),n.jsx(mr,{open:X,onClose:()=>U(!1),title:"Calculator",children:n.jsx(Hb,{})}),n.jsx(zb,{open:l&&v,onClose:()=>w(!1),order:d,currentIdx:f,setCurrentIdx:g,answers:C}),n.jsx(Vb,{open:!p,onPick:te})]})}function Vb({open:o,onPick:l}){return b.useEffect(()=>{if(o){const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=d}},[o]),n.jsxs(mr,{open:o,onClose:()=>{},title:"Start Lewy Body Dementia Question Bank",maxW:"max-w-lg",overlayClass:"bg-white",children:[n.jsx("p",{className:"text-slate-600 mb-4",children:"How would you like to order the questions?"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("button",{onClick:()=>l("random"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Randomised"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Shuffle questions for exam-style practice."})]}),n.jsxs("button",{onClick:()=>l("number"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"By question number"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Go in sequence (Q1, Q2, Q3 …)."})]})]})]})}function Gb({text:o=""}){let l=String(o);return l=l.replace(/&(?![a-zA-Z#0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=l.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),l=l.replace(/(^|[^*])\*(?!\*)(.+?)\*(?!\*)/g,"$1<em>$2</em>"),l=l.replace(/_(.+?)_/g,"<em>$1</em>"),l=l.replace(/==(.+?)==/g,"<mark style='background-color:#FEF3C7' class='px-1 rounded'>$1</mark>"),Object.entries({yellow:"#FEF3C7",green:"#D1FAE5",blue:"#E0F2FE",red:"#FFE4E6",purple:"#EDE9FE"}).forEach(([c,p])=>{const y=new RegExp(`\\[${c}\\]([\\s\\S]+?)\\[\\/${c}\\]`,"gi");l=l.replace(y,`<mark style="background-color:${p}" class="px-1 rounded">$1</mark>`)}),l=l.replace(/&lt;strong&gt;/g,"<strong>").replace(/&lt;\/strong&gt;/g,"</strong>").replace(/&lt;em&gt;/g,"<em>").replace(/&lt;\/em&gt;/g,"</em>").replace(/&lt;mark /g,"<mark ").replace(/&lt;\/mark&gt;/g,"</mark>"),n.jsx("span",{dangerouslySetInnerHTML:{__html:l}})}const it=[{id:"FTD-SX-7001",topic:"Geriatrics • Frontotemporal Dementia — Clinical Presentation (Symptoms)",difficulty:"Medium",vignetteTitle:"Spot the semantic-variant PPA pattern",stem:"A 65-year-old librarian has 2 years of progressively 'vague' speech. She talks fluently but struggles to name familiar objects and often uses broad terms like “animal” or “tool.” She cannot match single words to pictures on testing. Repetition and grammar are intact. MRI later shows left-predominant anterior temporal atrophy. Which clinical constellation best identifies the underlying PPA subtype?",options:[{key:"A",text:"Effortful, halting speech with agrammatism and apraxia of speech; impaired repetition"},{key:"B",text:"Fluent speech with severe anomia and loss of single-word comprehension; preserved grammar and repetition"},{key:"C",text:"Word-finding pauses with impaired sentence repetition; phonologic errors; temporoparietal atrophy"},{key:"D",text:"Acute onset jargon aphasia with poor comprehension and poor repetition following a stroke"},{key:"E",text:"Nonfluent speech with preserved comprehension but severe repetition deficit from arcuate fasciculus damage"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Fluent but empty speech** with severe **anomia** and **loss of single-word comprehension** is the hallmark of **semantic-variant PPA (svPPA)**.","- **Grammar and repetition preserved** separates svPPA from nonfluent/agrammatic and logopenic variants.","- Day-to-day clue: patients swap specific nouns for **broad category labels** due to semantic store failure.","- Clinicoradiologic tie-in: [blue]left anterior temporal lobe atrophy[/blue] tracks with semantic impairment.","- [yellow]Pattern recognition:[/yellow] fluent speech + empty content + anomia + word-meaning loss + preserved repetition → **svPPA** 🧠📖","**2️⃣ Why the other options are wrong**","- **A (nfvPPA):** Effortful, halting, agrammatic speech with apraxia; grammar broken and often impaired repetition; not fluent or semantic-dominant.","- **C (lvPPA):** Word-finding pauses and **impaired repetition** from phonologic-loop failure; semantics less affected early; often Alzheimer-related.","- **D (Wernicke stroke):** **Acute** onset with poor comprehension and poor repetition; neurodegenerative svPPA is **insidious** and repetition is spared.","- **E (Conduction aphasia):** Repetition is the main casualty from arcuate fasciculus damage; svPPA keeps repetition intact while semantics fail.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside language screen (naming, single-word comprehension, repetition, grammar). Confirms? ❌ Suggests svPPA if semantics fail with preserved repetition/grammar.","- **Next Diagnostic step:** Formal neuropsychology (word–picture matching, semantic association, irregular word reading). Confirms? ➕ Strengthens diagnosis; excludes phonologic or syntactic primaries.","- **Best Diagnostic Step:** MRI brain (volumetric preferred). Results: [blue]left > right anterior temporal atrophy[/blue] with relative parietal sparing. Confirms? ✅ Clinicoradiologic signature for svPPA.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Education, diagnosis disclosure, and communication aids[/green] (semantic feature analysis, visual supports); caregiver training and safety review.","- **First Line:** [green]Speech–language therapy[/green] with compensatory strategies; environmental modifications; multidisciplinary team support; SSRIs for behavioral symptoms if needed.","- **Gold Standard:** No disease-modifying therapy; [green]sustained person-centred, team-based care[/green] with periodic re-goaling, caregiver respite, community resources; [red]avoid routine cholinesterase inhibitors/memantine in FTD[/red].","**5️⃣ Full Pathophysiology Explained**","- svPPA reflects degeneration of the **anterior temporal semantic hub**, most often from [blue]TDP-43 type C[/blue] proteinopathy.","- Disrupted RNA handling and network failure cause **loss of concept knowledge** while leaving phonology/syntax relatively intact early.","- Hence **fluent output** with **low informational content** and **single-word comprehension failure**.","**6️⃣ Symptoms — Clinical Presentation map**","- **Fluent but empty speech** 🗣️ → semantic store failure yields low-information sentences.","- **Anomia (naming difficulty)** 🔎 → broken concept–label links in anterior temporal cortex.","- **Loss of single-word comprehension** 🧠 → inability to map words to meanings (fails word–picture matching).","- **Surface dyslexia/dysgraphia** ✍️ → reliance on letter–sound rules when irregular-word semantics are lost (e.g., ‘yacht’).","- **Preserved grammar and repetition** 🔁 → phonologic/syntactic circuitry spared early.","- [purple]Think svPPA when you see:[/purple] ==fluent speech + empty content + severe anomia + impaired single-word comprehension + left ATL atrophy== 🚨"]},{id:"FTD-SIGNS-8001",topic:"Geriatrics • Frontotemporal Dementia — Signs (Examination Findings)",difficulty:"Medium",vignetteTitle:"What bedside signs point to semantic-variant PPA?",stem:"A 66-year-old former journalist has 2 years of progressive word-meaning loss. On exam, conversation is fluent but content-light. He cannot name pictured objects and fails word–picture matching, yet repeats long sentences perfectly and follows multi-step commands. Reading aloud is smooth, but he misreads irregular words (‘yacht’ as ‘yatched’). Neurologic exam is otherwise nonfocal. Which **set of examination signs** best localizes the PPA subtype?",options:[{key:"A",text:"Effortful, halting speech; agrammatism; apraxia of speech; impaired sentence repetition; right–left limb apraxia"},{key:"B",text:"Fluent but empty speech; severe anomia; impaired single-word comprehension and word–picture matching; preserved grammar and repetition; surface dyslexia"},{key:"C",text:"Frequent word-finding pauses; phonologic paraphasias; markedly impaired sentence repetition; ideomotor apraxia"},{key:"D",text:"Acute jargon aphasia with poor comprehension and poor repetition; homonymous superior quadrantanopia"},{key:"E",text:"Prominent visuospatial neglect; constructional apraxia; dressing apraxia; intact naming and repetition"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **svPPA bedside signature**: **fluent but empty speech**, **severe anomia**, **loss of single-word comprehension**, **preserved grammar and repetition**.","- **Word–picture matching errors** reflect breakdown of the **semantic store** rather than attention or phonology.","- **Surface dyslexia/dysgraphia** (irregular word errors) arises when semantic knowledge guiding exception words is lost.","- Neuro exam is often **nonfocal early**; behavior may be subtle unless right ATL is involved (prosopagnosia, socioemotional semantics).","- [yellow]Pattern lock-in:[/yellow] fluent + empty content + anomia + impaired word meaning + intact repetition ⇒ **semantic-variant PPA**. 🧠📖","**2️⃣ Why the other options are wrong**","- **A (nfvPPA):** Non-fluent, effortful, **agrammatic** output ± **apraxia of speech** with **impaired repetition**—opposite of fluent/grammatically intact svPPA.","- **C (lvPPA):** **Phonologic** deficits with **impaired sentence repetition** and word-finding pauses; semantics relatively spared early; often AD-related.","- **D (Wernicke stroke):** **Acute** onset with poor comprehension **and** poor repetition plus visual field signs—neurodegenerative svPPA is **insidious** and repetition is preserved.","- **E (parietal/visuospatial syndrome):** Neglect and constructional apraxia imply **right parietal** pathology; naming/comprehension typically not the primary deficit.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside language exam (naming, single-word comprehension, word–picture matching, sentence repetition, grammar). **Confirms?** ❌ Suggests svPPA if semantics fail with preserved repetition/grammar.","- **Next Diagnostic step:** Formal neuropsychology (semantic association, category fluency ↓ with letter fluency relatively spared, irregular word reading). **Confirms?** ➕ Strengthens svPPA pattern; excludes phonologic/syntactic primaries.","- **Best Diagnostic Step:** MRI brain (volumetric preferred) → [blue]**left > right anterior temporal lobe atrophy**[/blue] with relative parietal sparing. **Confirms?** ✅ Clinicoradiologic signature with the bedside signs.","- **Adjuncts:** FDG-PET (anterior temporal hypometabolism); CSF AD biomarkers (non-AD pattern); genetics if young/familial (GRN/MAPT/C9orf72 though svPPA often sporadic).","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Education, diagnosis disclosure, and communication aids[/green] (semantic feature analysis, visual supports); caregiver training; safety/advance planning.","- **First Line:** [green]Speech–language therapy[/green] with compensatory strategies; environmental modifications; [green]multidisciplinary care[/green] (neurology, SLT, OT, social work); **SSRIs** if behavioral symptoms emerge.","- **Gold Standard:** No disease-modifying therapy; [green]sustained person-centred team care[/green] with periodic re-goaling, caregiver respite, community resources; [red]avoid routine cholinesterase inhibitors/memantine in FTD[/red].","**5️⃣ Full Pathophysiology Explained**","- Degeneration of the **anterior temporal semantic hub** (often [blue]TDP-43 type C[/blue]) disrupts concept knowledge and word–meaning links.","- **Phonology and syntax** (dorsal/fronto-insular circuits) are relatively spared early → fluent output with **low informational content**.","- Loss of semantic mediation yields **surface dyslexia/dysgraphia** and failures on **word–picture matching**.","- Right ATL involvement adds **prosopagnosia** and socioemotional semantic deficits.","**6️⃣ Signs — Examination Findings map**","- **Fluent but empty speech** 🗣️ → semantic content loss, motor speech intact.","- **Severe anomia** 🔎 → broken concept–label links in ATL.","- **Impaired single-word comprehension & word–picture matching** 🧠 → semantic hub failure.","- **Surface dyslexia/dysgraphia** ✍️ → irregular word errors (e.g., ‘pint’, ‘yacht’).","- **Preserved grammar & sentence repetition** 🔁 → phonologic/syntactic circuitry spared early.","- [purple]Think svPPA when the exam shows:[/purple] ==fluent speech + empty content + anomia + impaired word meaning + intact repetition== 🚨"]},{id:"FTD-REDFLAGS-9001",topic:"Geriatrics • Frontotemporal Dementia — Red Flags",difficulty:"Medium",vignetteTitle:"When svPPA isn’t svPPA: spot the red flags",stem:"A 63-year-old teacher is referred with suspected semantic-variant PPA after 3 months of worsening word-finding. Today her partner reports new daily headaches, a witnessed focal seizure last week, and a low-grade fever. Exam shows mild naming difficulty but also papilledema. Which feature(s) most strongly indicate a RED FLAG requiring urgent re-evaluation rather than typical degenerative svPPA?",options:[{key:"A",text:"Gradual 2–3 year history of semantic loss with preserved repetition and left anterior temporal atrophy"},{key:"B",text:"Early behavioral apathy without psychosis in a 58-year-old with normal basic labs"},{key:"C",text:"Subacute (weeks–months) decline with new headache, fever, and a seizure"},{key:"D",text:"Progressive anomia over 18 months with impaired word–picture matching, normal neuro exam"},{key:"E",text:"Family history of late-onset dementia in one second-degree relative"}],correct:"C",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Subacute time course (weeks–months)** + **systemic/meningoencephalitic features** (fever, headache) + **seizure** = [red]red flag[/red] for **non-degenerative** causes (e.g., autoimmune/viral encephalitis, neoplasm, abscess, vasculitis).","- Degenerative svPPA typically evolves **insidiously over years**, without constitutional symptoms or early seizures.","- **Papilledema** suggests raised intracranial pressure → urgent neuroimaging and infectious/inflammatory workup, not a routine dementia pathway.","- [yellow]Exam pearl:[/yellow] Any **rapid progression**, **focal neuro signs**, **systemic illness**, or **seizures** should pivot you to an **acute neurology/infectious** algorithm.","- Prioritizing safety prevents missing treatable, life-threatening etiologies. 🚨","**2️⃣ Why the other options are wrong**","- **A:** Classic **svPPA** pattern (years-long semantic decline, preserved repetition, L > R anterior temporal atrophy) → *not* a red flag.","- **B:** Early apathy can occur in FTD spectrum; without psychosis, fever, seizures, or focal deficits, this isn’t an urgent red flag.","- **D:** Progressive semantic profile over 18 months with normal neuro exam fits degenerative svPPA; still important, but not urgent.","- **E:** A single second-degree relative with late-onset dementia is common and **low pretest significance**; no acute concern signaled.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** [red]Stabilize and screen for emergencies[/red] → vitals, glucose, neuro check, **urgent non-contrast CT head** if raised ICP suspected. **Confirms?** ❌ Safety first; rules out bleed/mass.","- **Next Diagnostic step:** **MRI brain with contrast + MRV** (if venous thrombosis possible). Results guide mass/encephalitis/venous causes. **Confirms?** ➕ Suggests specific non-degenerative etiologies.","- **Best Diagnostic Step:** **Lumbar puncture** (if no mass effect) with CSF cell count, protein/glucose, **viral PCR (HSV, VZV, etc.)**, autoimmune encephalitis panel; **EEG** for subclinical seizures/encephalopathy. **Confirms?** ✅ Etiologic diagnosis (infectious/autoimmune).","- **Adjuncts:** Bloods (CRP/ESR, cultures), autoimmune/vasculitis serology, tumor markers when indicated.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Airway–Breathing–Circulation[/green]; treat **seizure** (IV benzodiazepine → levetiracetam), elevate head of bed, analgesia, manage fever; start empiric **acyclovir** if encephalitis suspected. 🚑","- **First Line (targeted):** Narrow therapy based on results: antivirals for HSV/VZV, **immunotherapy** (steroids/IVIG/plasma exchange) for autoimmune encephalitis, **antibiotics** for bacterial processes, **anticoagulation** if CVST confirmed, or **neurosurgical** consult for mass/abscess.","- **Gold Standard:** **Cause-specific therapy** guided by definitive CSF/imaging/biopsy findings; then neurorehab and secondary prevention. For true svPPA (if red flags excluded), revert to **multidisciplinary supportive care**.","**5️⃣ Full Pathophysiology Explained (why these are red flags)**","- **Degenerative svPPA** = slow **TDP-43 type C**–mediated anterior temporal network failure → no early fever, seizures, or ICP signs.","- **Infectious/autoimmune/neoplastic** processes provoke **inflammation, edema, mass effect, cortical irritability** → headaches, fever, seizures, papilledema—**not** typical of neurodegeneration.","- Time course distinguishes: **weeks–months** (inflammatory/neoplastic) vs **years** (degenerative).","- [purple]Mnemonic:[/purple] “**FAST + HOT + SHOCK**” → **Fast** decline, **Hot** (fever), **Shock** (seizure) = **not** svPPA.","**6️⃣ Red-flag checklist — think urgent workup when you see…**","- **Acute/subacute onset** (days–weeks) or **stepwise** course.","- **Fever, new headache, meningism**, or **systemic illness** (weight loss, night sweats).","- **Seizures**, **papilledema**, or **focal neurologic deficits** (hemiparesis, visual field cut).","- **Rapid change in consciousness**, **delirium**, or profound fluctuations.","- **Cancer/immunosuppression**, **anticoagulation/trauma** (consider subdural), or **RPGN/vasculitis signs**.","- [blue]If any present → switch from “dementia workup” to **acute neurology/infectious oncology** pathways immediately[/blue]."]},{id:"FTD-DDX-10001",topic:"Geriatrics • Frontotemporal Dementia — Differential Diagnosis",difficulty:"Medium",vignetteTitle:"Which diagnosis best fits? Parsing the aphasia differentials",stem:"A 64-year-old art historian has 2 years of fluent but content-light speech. She mislabels specific nouns with broad categories, cannot match single words to pictures, and misreads irregular words (e.g., 'pint' as 'pint' with long i). Repetition and grammar are preserved. MRI shows left-predominant anterior temporal atrophy with relative parietal sparing. Which diagnosis best explains this presentation?",options:[{key:"A",text:"Non-fluent/agrammatic primary progressive aphasia (nfvPPA)"},{key:"B",text:"Semantic-variant primary progressive aphasia (svPPA)"},{key:"C",text:"Logopenic variant PPA (lvPPA) due to Alzheimer pathology"},{key:"D",text:"Major depressive disorder (pseudodementia)"},{key:"E",text:"Wernicke aphasia due to left temporoparietal ischemic stroke"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **svPPA** presents with fluent but **empty** speech, severe **anomia**, and **loss of single-word comprehension**.","- **Grammar and repetition preserved** clearly separate it from nfvPPA and lvPPA.","- **Surface dyslexia/dysgraphia** for irregular words signals semantic system failure.","- MRI shows [blue]left anterior temporal lobe (ATL) atrophy[/blue] with parietal sparing—clinicoradiologic match.","- [yellow]Pattern lock:[/yellow] fluent speech + semantic loss + preserved repetition + left ATL atrophy ⇒ **svPPA**.","**2️⃣ Why the other options are wrong**","- **A. nfvPPA:** Effortful, halting, **agrammatic** speech ± apraxia of speech; repetition often impaired; not fluent/semantic-dominant.","- **C. lvPPA:** **Impaired sentence repetition** and phonologic errors; temporoparietal atrophy; semantics comparatively spared early.","- **D. Pseudodementia:** Inconsistent effort, prominent mood symptoms, “don’t know” responses; language structure/semantics typically intact; imaging not ATL-selective.","- **E. Wernicke stroke:** **Acute** onset, poor comprehension **and** poor repetition with paraphasias; course here is insidious and repetition intact.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside language screen targeting naming, single-word comprehension, repetition, and grammar. Confirms? ❌ Suggests svPPA pattern.","- **Next Diagnostic step:** Formal neuropsychology (semantic battery: word–picture matching, category fluency ↓ > letter fluency). Confirms? ➕ Strengthens svPPA vs nfvPPA/lvPPA.","- **Best Diagnostic Step:** MRI brain (volumetric preferred) → [blue]left > right anterior temporal atrophy[/blue] with relative parietal sparing. Confirms? ✅ Clinicoradiologic signature.","- **Helpful adjuncts:** FDG-PET (anterior temporal hypometabolism); CSF AD biomarkers to exclude AD/lvPPA; EEG if episodic confusion or seizures cloud the picture.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure, education, and communication aids[/green] (semantic feature analysis, visual supports); caregiver training; driving/work safety; advanced care planning.","- **First Line:** [green]Speech–language therapy[/green] with compensatory strategies; environmental modifications; [green]multidisciplinary care[/green] (neurology, SLT, OT, social work); SSRIs for behavioral features if needed.","- **Gold Standard:** No disease-modifying therapy; [green]ongoing person-centred, team-based support[/green] with periodic re-goaling and caregiver respite; [red]avoid routine cholinesterase inhibitors/memantine in FTD[/red].","**5️⃣ Full Pathophysiology Explained (DDx focus)**","- **svPPA:** [blue]TDP-43 type C[/blue]–mediated degeneration of ATL semantic hub → concept knowledge and word–meaning links erode.","- **nfvPPA:** Fronto-insular/IFG degeneration (often tauopathy) → motor speech and grammar networks fail → non-fluent, agrammatic speech.","- **lvPPA:** Posterior perisylvian/temporoparietal network (often Alzheimer pathology) → phonologic-loop breakdown → impaired repetition and phonologic errors.","- **Stroke (Wernicke):** Acute lesion in posterior superior temporal cortex → comprehension and repetition deficits with paraphasias.","- **Depression:** Network intact; psychomotor slowing/inattention mimic cognitive issues but language architecture remains structurally sound.","**6️⃣ Symptoms — pattern recognition for DDx**","- **svPPA:** Fluent but empty speech; severe anomia; single-word comprehension loss; **surface dyslexia**; ATL atrophy.","- **nfvPPA:** Non-fluent, agrammatic output; apraxia of speech; effortful production; IFG/insular atrophy.","- **lvPPA:** Word-finding pauses; **impaired repetition**; phonologic errors; temporoparietal atrophy; AD biomarkers often positive.","- **Wernicke stroke:** Acute onset; poor comprehension and repetition; paraphasic jargon; vascular risk; CT/MRI acute changes.","- **Pseudodementia:** Mood disorder context; variable test effort; language semantics intact; improves with depression treatment.","- [purple]Exam pearl:[/purple] ==Preserved repetition + semantic failure + ATL atrophy== → **svPPA**."]},{id:"FTD-INV-11001",topic:"Geriatrics • Frontotemporal Dementia — Best Initial Investigation",difficulty:"Medium",vignetteTitle:"First test for suspected primary progressive aphasia",stem:"A 64-year-old right-handed teacher has 18 months of progressive language change: fluent but content-light speech, severe naming difficulty, and impaired single-word comprehension. Repetition and grammar are intact. Examination is otherwise nonfocal. You suspect a primary progressive aphasia, likely semantic variant. What is the **best initial investigation**?",options:[{key:"A",text:"Non-contrast CT head"},{key:"B",text:"MRI brain with volumetric sequences"},{key:"C",text:"CSF Alzheimer biomarkers (Aβ42, total tau, p-tau)"},{key:"D",text:"FDG-PET brain"},{key:"E",text:"Comprehensive neuropsychological testing"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **MRI brain with volumetric sequences** is the **best initial investigation** for suspected PPA/FTD because it both **excludes structural mimics** (tumor, subdural, stroke) and identifies a **syndrome-specific atrophy pattern**.","- In **semantic-variant PPA (svPPA)**, MRI typically shows [blue]**left > right anterior temporal lobe (ATL) atrophy**[/blue] with relative parietal sparing—high-yield for clinico-radiologic confirmation.","- MRI outperforms CT for **gray-matter resolution** and **pattern recognition**; volumetrics help quantify asymmetry and track progression.","- [green]Practical win:[/green] one scan answers two questions early: “Is there something acute I must treat?” and “Does the pattern fit svPPA?” 🧠🖥️","**2️⃣ Why the other options are wrong**","- **A. CT head:** Quick but **insensitive** to frontotemporal cortical atrophy; may miss early svPPA patterns and subtle lesions.","- **C. CSF AD biomarkers:** Useful to **exclude Alzheimer pathology** (e.g., lvPPA) but **not first**; invasive and not primary for FTD confirmation.","- **D. FDG-PET:** Shows **hypometabolism** (anterior temporal in svPPA) yet is typically a **second-line adjunct** after MRI or when MRI is equivocal/unavailable.","- **E. Neuropsychological testing:** Crucial for **phenotyping** and documenting deficits, but it’s **clinical assessment**, not the first **imaging investigation** to rule out structural causes.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** 🩺 *Focused bedside language assessment* (naming, single-word comprehension, repetition, grammar). **Confirms?** ❌ No—raises svPPA suspicion.","- **Next Diagnostic step:** 🧠 *MRI brain with volumetrics* → [blue]Left > right ATL atrophy[/blue], parietal sparing. **Confirms?** ✅ Best initial investigation; strongly supports svPPA and rules out surgical lesions.","- **Best Diagnostic Step (for maximal accuracy after MRI):** 🧠 *Comprehensive neuropsychology ± FDG-PET/CSF (when indicated)* → defines semantic deficits; PET shows anterior temporal hypometabolism; CSF non-AD profile. **Confirms?** ➕ Completes clinico-pathway and excludes AD/lvPPA.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Diagnosis disclosure, education, safety planning[/green]; initiate **communication aids** (semantic feature analysis, visual supports).","- **First Line:** [green]Speech–language therapy[/green] (compensatory strategies), environmental modifications, [green]multidisciplinary team** (neurology, SLT, OT, social work); SSRIs if behavioral symptoms.","- **Gold Standard:** No disease-modifying drug; [green]ongoing person-centred supportive care[/green], caregiver training/respite; [red]avoid routine cholinesterase inhibitors/memantine in FTD[/red].","**5️⃣ Full Pathophysiology Explained**","- svPPA is driven by [blue]**TDP-43 type C**[/blue]–mediated degeneration of the **anterior temporal semantic hub**, disconnecting word–meaning networks.","- This yields **fluent but empty speech**, **anomia**, and **single-word comprehension loss** with **preserved repetition/grammar** early—mirrored by **ATL-predominant atrophy** on MRI.","**6️⃣ Symptoms — pattern recognition**","- **Fluent but empty speech** 🗣️ → semantic content loss, intact motor speech.","- **Severe anomia + impaired single-word comprehension** 🧠 → ATL semantic hub failure.","- **Surface dyslexia/dysgraphia** ✍️ → irregular word errors.","- [purple]Pearl:[/purple] ==Suspected svPPA? Do **MRI with volumetrics** first== — it shows the pattern and rules out dangerous mimics."]},{id:"FTD-GOLD-12001",topic:"Geriatrics • Frontotemporal Dementia — Gold Standard Investigation",difficulty:"Medium",vignetteTitle:"What truly confirms semantic-variant PPA etiology?",stem:"A 65-year-old teacher has 2 years of fluent but empty speech, severe anomia, and loss of single-word comprehension with preserved repetition/grammar. MRI shows left-predominant anterior temporal lobe atrophy; FDG-PET shows anterior temporal hypometabolism. CSF Alzheimer biomarkers are non-AD. Which single investigation is the **gold standard** for definitively establishing the underlying proteinopathy?",options:[{key:"A",text:"MRI brain with volumetric analysis"},{key:"B",text:"FDG-PET brain"},{key:"C",text:"CSF Alzheimer biomarkers (Aβ42, total tau, p-tau)"},{key:"D",text:"Neuropathology with immunohistochemistry (post-mortem or rarely biopsy) demonstrating TDP-43 type C"},{key:"E",text:"Targeted genetic panel for GRN, MAPT, and C9orf72"}],correct:"D",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Gold standard = tissue diagnosis**: **Neuropathology with immunohistochemistry** directly visualizes pathogenic protein aggregates.","- In svPPA, definitive confirmation is **TDP-43 type C** pathology (and negative for tau/α-synuclein) on tissue.","- Imaging and CSF are **supportive/triaging** tools; they **cannot** prove the molecular proteinopathy.","- Clinically we rarely biopsy for degenerative disease; **post-mortem** confirmation remains the practical gold standard. [yellow]Supportive tests guide care, but tissue is truth[/yellow]. 🧠🔬","**2️⃣ Why the other options are wrong**","- **A. MRI volumetrics:** Best **initial** structural test; shows **pattern** (left ATL atrophy) but not the **protein**.","- **B. FDG-PET:** Shows **hypometabolism** in anterior temporal cortex; helpful when MRI is equivocal, but still **nonspecific** for proteinopathy.","- **C. CSF AD biomarkers:** Rules **in/out Alzheimer biology** (useful to exclude lvPPA/AD) but does **not** confirm TDP-43.","- **E. Genetic panel:** Explains some **familial** FTD; svPPA is often **sporadic**. A variant can suggest tau or TDP-43 risk, but it is **not** pathologic confirmation.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** 🩺 *Bedside language screen* → fluent but empty speech; severe anomia; impaired single-word comprehension; preserved repetition/grammar. **Confirms?** ❌ Suggests svPPA.","- **Next Diagnostic step:** 🧠 *MRI brain with volumetrics* → [blue]Left > right anterior temporal atrophy[/blue] with parietal sparing. **Confirms?** ➕ Strong clinicoradiologic support.","- **Best Diagnostic Step (Gold Standard):** 🔬 *Neuropathology with immunohistochemistry* (post-mortem; biopsy rarely) → [blue]**TDP-43 type C inclusions**[/blue], tau/α-syn negative. **Confirms?** ✅ **Yes** — molecular etiology proven.","- **Helpful adjuncts:** FDG-PET (anterior temporal hypometabolism), CSF AD biomarkers (non-AD profile), genetics if young/familial (GRN/MAPT/C9orf72).","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Education, diagnosis disclosure, communication aids[/green] (semantic feature analysis, visual supports); caregiver training; safety/advance care planning.","- **First Line:** [green]Speech–language therapy[/green] (compensatory scripts, spaced retrieval); environmental modification; [green]multidisciplinary team[/green] (neurology, SLT, OT, social work); SSRIs for behavioral symptoms if needed.","- **Gold Standard:** No disease-modifying drug; [green]sustained person-centred supportive care[/green]; caregiver respite; [red]avoid routine cholinesterase inhibitors/memantine in FTD[/red].","**5️⃣ Full Pathophysiology Explained**","- svPPA reflects degeneration of the **anterior temporal semantic hub**, most commonly due to **TDP-43 type C** proteinopathy.","- Mislocalized TDP-43 disrupts **RNA processing/axonal transport**, causing synaptic failure and neuronal loss in ventral temporal networks.","- The result is **semantic memory erosion**: fluent but **content-light** speech, **anomia**, and **single-word comprehension loss** with early preservation of grammar/repetition.","**6️⃣ Symptoms — pattern recognition**","- **Fluent but empty speech** 🗣️ → intact motor/phonologic systems with semantic store failure.","- **Severe anomia** 🔎 and **loss of single-word comprehension** 🧠 → ATL semantic hub degeneration.","- **Surface dyslexia/dysgraphia** ✍️ → irregular word errors; reliance on letter–sound rules.","- [purple]Pearl:[/purple] ==MRI/FDG/CSF steer you; **only tissue** seals the diagnosis of proteinopathy==."]},{id:"FTD-CURE-13001",topic:"Geriatrics • Frontotemporal Dementia — Definitive / Curative Therapy",difficulty:"Medium",vignetteTitle:"Is there a curative treatment for semantic-variant PPA (svPPA)?",stem:"A 63-year-old editor with a 2-year history of fluent but empty speech, severe anomia, and loss of single-word comprehension is diagnosed with semantic-variant primary progressive aphasia (svPPA) on clinical exam and MRI showing left-predominant anterior temporal atrophy. She asks whether there is a surgery or medicine that can cure or slow the disease. Which option best reflects the current state of curative therapy?",options:[{key:"A",text:"High-dose cholinesterase inhibitor titration to maximal tolerated dose"},{key:"B",text:"Anti-amyloid monoclonal antibody infusion (e.g., lecanemab) to modify disease course"},{key:"C",text:"Approved targeted therapy that clears TDP-43 type C aggregates"},{key:"D",text:"No established curative or disease-modifying therapy; provide multidisciplinary supportive care and consider clinical trials"},{key:"E",text:"Anterior temporal lobectomy to remove diseased cortex and halt progression"}],correct:"D",explanation_detail:["**1️⃣ Why it is the correct answer**","- For **svPPA/FTD**, there is **no proven curative or disease-modifying therapy** at present.","- Best practice is [green]**multidisciplinary supportive care**[/green]: speech–language therapy, caregiver education, safety planning, psychosocial support, and symptom-targeted meds.","- [yellow]Clinical trials[/yellow] may be appropriate (biomarker/gene-directed in select familial cases), but **standard-of-care remains supportive**.","- Clear counseling prevents harmful or futile treatments; align goals of care early; revisit as disease evolves. 🧠🤝","**2️⃣ Why the other options are wrong**","- **A. Cholinesterase inhibitors:** Evidence shows **little benefit in FTD** and they may **worsen behavior**; they target cholinergic deficits typical of Alzheimer’s, not svPPA. ❌","- **B. Anti-amyloid mAb:** Designed for **amyloid-positive Alzheimer’s**; svPPA is usually **TDP-43**–mediated and **amyloid-negative** → not indicated and not disease-modifying for FTD. ❌","- **C. TDP-43–clearing therapy:** **No approved agent** currently removes **TDP-43 type C** aggregates in humans; this remains **experimental**. ❌","- **E. Temporal lobectomy:** svPPA is a **neurodegenerative network disease**; resection **does not halt progression** and would worsen deficits; surgery is not a treatment. ❌","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside language screen (naming, single-word comprehension, repetition, grammar). **Confirms?** ❌ Raises suspicion for svPPA.","- **Next Diagnostic step:** MRI brain with volumetrics → [blue]left > right anterior temporal atrophy[/blue] and parietal sparing. **Confirms?** ➕ Clinicoradiologic support.","- **Best Diagnostic Step:** Formal neuropsychology ± FDG-PET; CSF AD biomarkers (usually non-AD) to exclude lvPPA/AD; genetics if young/familial (GRN, MAPT, C9orf72). **Confirms?** ✅ Phenotype secured; etiology inferred.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Education, diagnosis disclosure, communication aids[/green] (semantic feature analysis, visual supports), caregiver training, driving/work/safety review, advance care planning.","- **First Line:** [green]Speech–language therapy[/green] (compensatory strategies, scripts, spaced retrieval), environment modification, [green]multidisciplinary care[/green] (neurology, SLT, OT, social work); **SSRIs** for behavioral symptoms if they arise.","- **Gold Standard (Definitive / Curative):** [yellow]**None available**[/yellow] for svPPA/FTD today; enroll in **clinical trials** when eligible; prioritize person-centred supportive care; [red]avoid routine cholinesterase inhibitors/memantine in FTD[/red].","**5️⃣ Full Pathophysiology Explained**","- svPPA typically reflects **TDP-43 type C** proteinopathy affecting the **anterior temporal semantic hub**.","- Mislocalized TDP-43 disrupts RNA handling → synaptic dysfunction → neuronal loss in semantic networks.","- Current therapies **do not target TDP-43 pathobiology** effectively; hence **no disease-modifying option** yet.","- Symptom-focused rehab leverages **neuroplastic compensation** even as degeneration progresses.","**6️⃣ Symptoms — pattern recognition**","- **Fluent but empty speech** 🗣️ → semantic content loss with intact phonology/syntax early.","- **Severe anomia** 🔎 and **single-word comprehension loss** 🧠 → anterior temporal semantic hub failure.","- **Surface dyslexia/dysgraphia** ✍️ → irregular-word errors; reliance on letter-sound rules.","- [purple]Pearl:[/purple] ==When asked about a “cure” for svPPA/FTD, the high-yield answer is **no curative therapy**—deliver **supportive, multidisciplinary care** and consider **trials**==."]},{id:"FTD-COMP-14001",topic:"Geriatrics • Frontotemporal Dementia — Complications",difficulty:"Medium",vignetteTitle:"What’s the high-risk downstream complication in svPPA?",stem:"A 66-year-old former teacher with semantic-variant PPA (svPPA) has fluent but empty speech, loss of single-word comprehension, and left-predominant anterior temporal atrophy on MRI. Over 3 years she has developed reduced food variety, occasional choking with solids, and weight loss. Which complication is most important to anticipate and prevent over the next year?",options:[{key:"A",text:"Intracerebral hemorrhage due to anticoagulation for atrial fibrillation"},{key:"B",text:"Aspiration pneumonia from progressive oropharyngeal dysphagia"},{key:"C",text:"Early, prominent visual hallucinations with fluctuating cognition and REM sleep behavior disorder"},{key:"D",text:"Rapid myoclonus with akinetic mutism within months of onset"},{key:"E",text:"Bradycardia and syncope from high-dose cholinesterase inhibitor therapy"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Aspiration pneumonia** is a major downstream complication across dementias and is particularly relevant as **swallowing becomes unsafe** with disease progression.","- In **svPPA**, early language loss dominates; with time, **oropharyngeal dysphagia**, **weight loss**, and **recurrent aspiration** can emerge—especially as cognitive–behavioral features spread.","- Leading causes of morbidity/mortality in advanced FTD include **infections (notably pneumonia)** and complications of immobility/malnutrition.","- [green]Proactive swallow assessment, diet texture modification, and aspiration precautions[/green] reduce risk. [yellow]High-yield safety target[/yellow].","- The vignette’s **choking episodes + weight loss** signal evolving dysphagia → **anticipate aspiration**. 🫁🍽️","**2️⃣ Why the other options are wrong**","- **A. Intracerebral hemorrhage from anticoagulation:** Possible in anyone anticoagulated, but **not a disease-specific** svPPA complication and not signaled here.","- **C. DLB phenotype:** **Visual hallucinations, RBD, fluctuations** point to **Lewy body dementia**, not svPPA.","- **D. Prion disease:** **Rapid** course with **myoclonus** and early akinetic mutism suggests **CJD**, not the **years-long** svPPA trajectory.","- **E. Cholinesterase inhibitor bradycardia:** Routine cholinesterase inhibitors are **not recommended in FTD**; risk exists if used, but this is **not standard care** and thus not the key anticipated complication.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Clinical screen for **dysphagia** (history of choking, cough with meals, weight loss). **Confirms?** ❌ Suggests aspiration risk.","- **Next Diagnostic step:** **Bedside swallow assessment** by SLP with trial textures/liquids. **Confirms?** ➕ Risk stratification; immediate precautions.","- **Best Diagnostic Step:** **Instrumental swallow study** (videofluoroscopic swallow study or FEES) → identifies **aspiration/penetration**, residue, safest textures. **Confirms?** ✅ Objective evidence guides management.","- **Adjuncts:** Nutritional panel (albumin, weight/BMI trend), CXR if cough/fever, pulse-ox; consider **speech–language cognitive-communication** review to align strategies.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Aspiration precautions[/green] (upright posture, slow rate, small boluses), **texture-modified diet** (per study), supervised feeding; oral hygiene to reduce bacterial load.","- **First Line:** [green]Speech–language therapy[/green] for **compensatory swallow techniques** (chin tuck, effortful swallow), caregiver training; **calorie-dense supplements**; treat reflux/constipation; immunize (influenza, pneumococcal).","- **Gold Standard:** There is **no curative therapy**; for severe unsafe swallowing with recurrent aspiration, discuss **goals of care** (including comfort feeding), [blue]PEG rarely prevents aspiration of saliva and may not improve outcomes[/blue]. Shared decision-making is essential. [red]Avoid reflex PEG without goals/risks discussion[/red].","**5️⃣ Full Pathophysiology Explained**","- **svPPA** begins with **anterior temporal (semantic hub)** degeneration → language/meaning loss.","- Disease spreads within FTD networks, adding **behavioral change**, **apathy/rigidity**, and later **bulbar involvement** contributing to **oropharyngeal discoordination**.","- This yields **ineffective airway protection** and **silent aspiration**; malnutrition further weakens cough and immunity → **pneumonia risk**.","- [purple]Pearl:[/purple] “**Language fades first, lungs suffer later**” — anticipate swallow issues as networks widen.","**6️⃣ Symptoms — pattern recognition for complications**","- **Red flags for aspiration risk:** coughing/choking with meals, wet/gurgly voice, recurrent chest infections, weight loss, prolonged mealtimes.","- **Nutritional decline:** early **food faddism**/restricted variety → later **weight loss** and **frailty**.","- **Functional cascade:** dehydration, delirium during infections, pressure injuries with immobility.","- [blue]Bundle the plan:[/blue] swallow study + diet modification + SLP strategies + oral care + vaccination + caregiver training = **fewer pneumonias**."]},{id:"FTD-ETIO-5001",topic:"Geriatrics • Frontotemporal Dementia — Etiology (Causes)",difficulty:"Medium",vignetteTitle:"What’s the underlying cause in semantic-variant PPA?",stem:"A 62-year-old right-handed editor has 18 months of progressive word comprehension loss. She speaks fluently but uses non-specific terms and cannot name common objects. Repetition and grammar are preserved. MRI shows predominant left anterior temporal lobe atrophy with relative parietal sparing. There is no family history of dementia or movement disorder. Which underlying proteinopathy most likely explains this presentation?",options:[{key:"A",text:"Tau (4R) accumulation characteristic of corticobasal degeneration"},{key:"B",text:"TDP-43 type C pathology"},{key:"C",text:"Alpha-synuclein (Lewy body) pathology"},{key:"D",text:"Amyloid-β plaques with tau neurofibrillary tangles (Alzheimer’s disease)"},{key:"E",text:"Misfolded prion protein (PrPSc) pathology"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- The syndrome fits **semantic-variant primary progressive aphasia (svPPA)**: fluent but empty speech, severe anomia, impaired single-word comprehension, preserved grammar/repetition.","- Imaging hallmark is [blue]anterior temporal lobe atrophy (often L > R)[/blue] with relative parietal sparing.","- svPPA is most commonly caused by **TDP-43 type C** aggregation, making B the best etiologic answer.","- [yellow]Clinicoradiologic pattern → TDP-43 type C[/yellow] is a classic high-yield association.","- Sporadic presentation without strong family history further aligns with TDP-43 in svPPA. 🧠📖","**2️⃣ Why the other options are wrong**","- **A. Tau (4R) corticobasal**: More linked to nonfluent/agrammatic PPA or corticobasal syndrome with apraxia and parkinsonism, not svPPA’s semantic loss.","- **C. Alpha-synuclein**: Causes dementia with Lewy bodies or Parkinson disease dementia, featuring visual hallucinations, REM sleep behavior disorder, and parkinsonism—pattern mismatch.","- **D. Alzheimer pathology**: Ties to **logopenic PPA** with impaired repetition and phonological errors; svPPA preserves repetition and targets semantics instead.","- **E. Prion disease**: Rapidly progressive dementia, myoclonus, ataxia; course is subacute, not the slowly progressive svPPA picture.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside language screen focusing on naming and single-word comprehension → Fluent but empty speech with anomia and impaired word meaning. Confirms diagnosis? ❌ Suggests svPPA.","- **Next Diagnostic step:** Formal neuropsychology with semantic battery (word–picture matching, irregular word reading) → Disproportionate semantic deficits with preserved grammar/phonology. Confirms diagnosis? ➕ Supports svPPA and excludes mimics.","- **Best Diagnostic Step:** MRI brain (volumetric preferred) → [blue]Anterior temporal lobe atrophy (L > R)[/blue], relative parietal sparing. Confirms diagnosis? ✅ Most definitive antemortem pattern with clinical phenotype.","- **Adjuncts:** FDG-PET showing anterior temporal hypometabolism; CSF/AD biomarkers often non-AD pattern helping exclude logopenic/AD; genetics if young onset or family history (GRN, MAPT, C9orf72 though svPPA often sporadic).","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Education, diagnosis disclosure, communication aids[/green] (semantic feature analysis, visual supports), caregiver training, driving/work safety review.","- **First Line:** [green]Speech–language therapy[/green] focused on compensatory strategies and environmental modification; multidisciplinary care (neurology, SLT, OT, social work). Consider **SSRIs** for behavioral symptoms if present.","- **Gold Standard:** No disease-modifying therapy; [green]sustained multidisciplinary, person-centred support[/green], periodic re-goaling, caregiver respite and community resources.","- [red]Avoid routine cholinesterase inhibitors/memantine in FTD—limited benefit and can worsen behavior[/red].","**5️⃣ Full Pathophysiology Explained (Etiology focus)**","- **FTD** comprises heterogeneous proteinopathies affecting frontal and/or temporal networks.","- In **svPPA**, the etiologic driver is most often **TDP-43 type C** misfolded protein aggregation disrupting RNA processing and axonal transport.","- Resulting synaptic failure and neuronal loss target the **anterior temporal semantic network**, eroding conceptual knowledge and word–meaning links.","- Genetics: while svPPA is frequently **sporadic**, broader FTD may involve **GRN, MAPT, C9orf72** mutations; tauopathies skew toward nfvPPA/CBS, TDP-43 toward svPPA/bvFTD spectra.","- [purple]Pearl:[/purple] “**svPPA → Semantic hub hit → TDP-43 type C**.”","**6️⃣ Symptoms (cause → effect mapping)**","- **Anomia** 🔎 → Loss of concept–label associations from anterior temporal degeneration.","- **Loss of single-word comprehension** 🧠 → Breakdown of semantic network due to TDP-43 pathology.","- **Fluent but empty speech** 🗣️ → Speech production intact, semantic content depleted.","- **Surface dyslexia/dysgraphia** ✍️ → Reliance on phonology when irregular word semantics are lost.","- **Pattern to remember:** ==Fluent speech + empty content + severe anomia + impaired word meaning + ATL atrophy== → think **TDP-43 type C**."]},{id:"EPI-2101",topic:"Clinical Epidemiology • Screening test metrics in geriatrics",difficulty:"Medium",vignetteTitle:"Interpreting a new dementia screening test in clinic",stem:"A community clinic adopts a new blood-based screening test for dementia. In a memory clinic serving many symptomatic older adults, clinicians notice more true positives than when the same test was piloted in a low-prevalence general practice. Which test characteristic most strongly increases when disease prevalence rises?",options:[{key:"A",text:"Sensitivity"},{key:"B",text:"Specificity"},{key:"C",text:"Positive predictive value (PPV)"},{key:"D",text:"Negative predictive value (NPV)"},{key:"E",text:"Likelihood ratio for a positive test (LR+)"}],correct:"C",explanation_detail:["**1️⃣ Why it is the correct answer**","- **PPV** = probability of disease *given* a positive test (P[D|+]).","- PPV **moves with prevalence**: higher pretest probability → more positives are true positives. [blue]Bayes theorem[/blue] links this directly.","- In a memory clinic (high prevalence), the same test yields **higher PPV** than in general practice (low prevalence).","- [yellow]Rule of thumb:[/yellow] ↑Prevalence → ↑PPV and ↓NPV; test’s sensitivity/specificity stay the same.","- Clinically: better to act on a positive in high-prevalence settings; confirm more cautiously in low-prevalence settings. 🧠📈","**2️⃣ Why the other options are wrong**","- **A. Sensitivity:** Intrinsic to the test (P[+|D]); **does not change** with prevalence; depends on threshold and biology, not setting.","- **B. Specificity:** Intrinsic (P[−|no D]); **stable across populations** assuming similar spectrum and thresholds.","- **D. NPV:** Probability of *no disease* given a negative test; **decreases** as prevalence rises (more false negatives matter).","- **E. LR+:** = sensitivity ÷ (1 − specificity); **prevalence-independent** summary of how much a positive shifts odds.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Estimate **pretest probability** from setting/epidemiology (clinic vs community). **Confirms?** ❌ No—sets the baseline for interpretation.","- **Next Diagnostic step:** Apply test and compute **post-test probability** using **PPV/NPV** tables or Bayes nomogram. **Confirms?** ➕ Improves certainty but may still need confirmation.","- **Best Diagnostic Step:** Use **LRs** with Bayes theorem to update odds precisely; then perform a **reference standard** (e.g., comprehensive neurocognitive assessment ± imaging) when action hinges on accuracy. **Confirms?** ✅ Confirmation requires the reference standard.","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Communicate results with context[/green] (prevalence and PPV/NPV), assess symptoms/function, review meds and reversible causes.","- **First Line:** [green]Confirmatory evaluation[/green] for positives: standardized cognitive testing, depression screen, labs (B12/TSH), and targeted imaging when indicated.","- **Gold Standard:** Diagnosis anchored to **reference standard** clinical criteria (e.g., DSM/ICD/NIA-AA) rather than screening alone; avoid starting disease-specific therapy on screen result only. [red]Do not over-treat on screening positives without confirmation[/red].","**5️⃣ Full Pathophysiology Explained**","- This is the **statistical ‘path’ of information**: Prevalence sets **pretest odds**.","- A test contributes **likelihood** (LRs) that multiplies those odds (Bayes).","- **PPV** rises in high-prevalence settings because true positives become more common relative to false positives.","- **Sensitivity/specificity** are properties of the assay/threshold—changing the population alone doesn’t alter them.","- [purple]Mnemonic:[/purple] “**Prevalence Pushes Predictive values**” → PPP.","**6️⃣ Symptoms (pattern recognition for exam questions)**","- **High-prevalence clinic** → **↑PPV** because a positive is more likely a true positive.","- **Low-prevalence screening day** → **↑NPV** because a negative is more likely a true negative.","- **Unchanged sensitivity/specificity/LRs** across settings → differences you see are **predictive values responding to prevalence**.","- [purple]Pattern to remember:[/purple] ==If vignette swaps from general practice to specialty clinic and asks what changes, pick **PPV**==. 📊✅"]},{id:"FTD-PATH-6001",topic:"Geriatrics • Frontotemporal Dementia — Pathophysiology",difficulty:"Medium",vignetteTitle:"Why does semantic-variant PPA lose word meaning?",stem:"A 63-year-old copywriter has 2 years of fluent but empty speech, severe anomia, and impaired single-word comprehension with preserved repetition and grammar. MRI demonstrates left-dominant anterior temporal lobe atrophy with relative parietal sparing. Which pathophysiologic mechanism best explains this syndrome?",options:[{key:"A",text:"Degeneration of the left inferior frontal gyrus and premotor speech networks causing apraxia of speech"},{key:"B",text:"Neurodegeneration of the anterior temporal semantic hub with TDP-43 type C–mediated network failure"},{key:"C",text:"Posterior perisylvian (temporoparietal) phonologic-loop breakdown typical of Alzheimer-related logopenic aphasia"},{key:"D",text:"Acute infarct of posterior superior temporal gyrus leading to Wernicke aphasia"},{key:"E",text:"Demyelination of the arcuate fasciculus disrupting repetition pathways"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- svPPA targets the [blue]anterior temporal lobe (ATL) semantic hub[/blue], the network that stores concept knowledge and word–meaning links.","- Pathology most often involves [blue]TDP-43 type C cytoplasmic aggregates[/blue] causing synaptic failure and neuronal loss in ATL and ventral temporal streams.","- Loss of the semantic hub produces **fluent but empty speech**, **anomia**, and **single-word comprehension deficits** while sparing phonology and syntax early.","- Imaging with left-dominant ATL atrophy and relative parietal sparing matches this clinicopathologic pattern.","- [yellow]Key link:[/yellow] ATL semantic hub degeneration → meaning erodes first, not grammar or repetition. 🧠📚","**2️⃣ Why the other options are wrong**","- **A. IFG/premotor apraxia network:** Explains **non-fluent/agrammatic PPA** with effortful speech and grammar errors, not fluent semantic loss.","- **C. Posterior perisylvian phonologic-loop:** Drives **logopenic PPA** with impaired repetition and phonologic errors; our case has preserved repetition.","- **D. Acute Wernicke infarct:** Sudden onset with impaired comprehension **and** repetition; this vignette is insidious and neurodegenerative.","- **E. Arcuate fasciculus demyelination:** Would primarily disrupt **repetition** (conduction aphasia), which remains intact here.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside language screen focusing on naming and single-word comprehension → Fluent but empty speech; anomia; impaired word meaning; repetition/grammar preserved. Confirms? ❌ Suggests svPPA.","- **Next Diagnostic step:** Formal neuropsychology (word–picture matching, semantic association, irregular word reading) → Disproportionate **semantic** deficits with intact phonology/syntax. Confirms? ➕ Strengthens diagnosis; excludes mimics.","- **Best Diagnostic Step:** MRI brain (volumetric preferred) → [blue]Anterior temporal lobe atrophy (L>R)[/blue] with relative parietal sparing. Confirms? ✅ Clinicoradiologic signature for svPPA.","- **Adjuncts:** FDG-PET showing ATL hypometabolism; CSF AD biomarkers often non-AD pattern; genetics if young/familial (GRN/MAPT/C9orf72 though svPPA often sporadic).","**4️⃣ Management / Treatment (in order)**","- **Initial Management:** [green]Education, diagnosis disclosure, communication aids[/green] (semantic feature analysis, visual supports), caregiver training, safety/drive/work review.","- **First Line:** [green]Speech–language therapy[/green] with compensatory strategies (scripts, spaced retrieval), environment tweaks, [green]multidisciplinary care[/green] (neurology, SLT, OT, social work); SSRIs for behavioral symptoms if needed.","- **Gold Standard:** No disease-modifying therapy; [green]sustained person-centered, team-based support[/green] with periodic re-goaling, caregiver respite, community resources.","- [red]Avoid routine cholinesterase inhibitors/memantine in FTD—limited benefit and may worsen behavior[/red].","**5️⃣ Full Pathophysiology Explained**","- **Network level:** The ATL acts as a **semantic hub**, integrating distributed modality-specific inputs (visual, auditory, tactile) into **concepts**; degeneration disconnects these hubs from their spokes.","- **Cellular/molecular:** [blue]TDP-43 type C[/blue] mislocalizes to cytoplasm → disordered RNA processing/transport → synaptic dysfunction → neuronal loss, especially in ATL and ventral temporal pathways.","- **Systems consequences:** Early preservation of **phonology and syntax** (dorsal/fronto-insular circuits) yields **fluent** output with **low information content**.","- **Temporal progression:** Rare/low-frequency words lost first → common nouns → person/face concepts (right ATL involvement → prosopagnosia and socioemotional semantic loss).","- [purple]Mnemonic:[/purple] “**Hub crumbles, words tumble**” — ATL hub failure makes speech smooth but meaning-thin.","**6️⃣ Symptoms (mechanism mapping + pattern recognition)**","- **Fluent but empty speech** 🗣️ → speech motor/phonologic systems intact while semantic hub fails.","- **Anomia** 🔎 → severed concept–label links in ATL.","- **Single-word comprehension loss** 🧠 → impaired mapping from sounds to meaning within the semantic hub.","- **Surface dyslexia/dysgraphia** ✍️ → reliance on letter–sound rules when irregular-word semantic knowledge is gone.","- **Pattern to remember:** ==Fluent speech + empty content + severe anomia + impaired word meaning + left ATL atrophy== → [blue]semantic hub degeneration with TDP-43 type C[/blue]."]}];function _b(o){const l=[...o];for(let d=l.length-1;d>0;d--){const c=Math.floor(Math.random()*(d+1));[l[d],l[c]]=[l[c],l[d]]}return l}const Ub=/^[0-9+\-*/().\s^%]*$/;function qb(o){if(!Ub.test(o))throw new Error("Invalid characters");const l=o.replace(/(\d+(?:\.\d+)?)\s*\^\s*(\d+(?:\.\d+)?)/g,"Math.pow($1,$2)");return Function(`"use strict"; return (${l||0});`)()}function _n({open:o,onClose:l,title:d,children:c,maxW:p="max-w-2xl",overlayClass:y="bg-black/30"}){return o?n.jsxs("div",{className:"fixed inset-0 z-[60]",children:[n.jsx("div",{className:`absolute inset-0 ${y}`,onClick:l}),n.jsx("div",{className:"absolute inset-0 overflow-auto",children:n.jsx("div",{className:`mx-auto ${p} p-4`,children:n.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:d}),n.jsx("button",{onClick:l,className:"px-2 py-1 rounded-lg text-slate-600 hover:bg-slate-100",children:"✕"})]}),n.jsx("div",{className:"p-4",children:c})]})})})]}):null}function Fb(){const o=[{name:"Hb",value:"M 13–17 g/dL • F 12–15"},{name:"WBC",value:"4–11 ×10⁹/L"},{name:"Platelets",value:"150–400 ×10⁹/L"},{name:"Na⁺",value:"135–145 mmol/L"},{name:"K⁺",value:"3.5–5.0 mmol/L"},{name:"Cl⁻",value:"98–106 mmol/L"},{name:"HCO₃⁻",value:"22–28 mmol/L"},{name:"Urea",value:"2.5–7.1 mmol/L"},{name:"Creatinine",value:"M 60–110 • F 45–90 µmol/L"},{name:"Glucose (fasting)",value:"3.9–5.5 mmol/L"},{name:"Lactate",value:"0.5–2.2 mmol/L"},{name:"INR",value:"0.8–1.2 (lab-dependent)"},{name:"pH (ABG)",value:"7.35–7.45"},{name:"PaCO₂",value:"4.7–6.0 kPa"},{name:"PaO₂ (room air)",value:"10–13 kPa"},{name:"Troponin (99th %ile)",value:"lab-specific cut-off"}];return n.jsxs("div",{className:"max-h-[60vh] overflow-auto",children:[n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-slate-600",children:[n.jsx("th",{className:"py-2 pr-3",children:"Test"}),n.jsx("th",{className:"py-2",children:"Reference Range"})]})}),n.jsx("tbody",{children:o.map(l=>n.jsxs("tr",{className:"border-t border-slate-200",children:[n.jsx("td",{className:"py-2 pr-3 font-medium",children:l.name}),n.jsx("td",{className:"py-2 text-slate-700",children:l.value})]},l.name))})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Ranges vary by lab and context; this is for quick revision."})]})}function Wb(){const[o,l]=b.useState(""),[d,c]=b.useState(""),p=["7","8","9","/","4","5","6","*","1","2","3","-","0",".","(",")","+","^"],y=w=>l(f=>f+w),v=()=>{try{c(String(qb(o)))}catch{c("Error")}};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{className:"flex-1 rounded-lg border border-slate-300 px-3 py-2",value:o,onChange:w=>l(w.target.value),placeholder:"e.g. (12.5*3)/4"}),n.jsx("button",{onClick:()=>{l(""),c("")},className:"rounded-lg border px-3",children:"Clear"}),n.jsx("button",{onClick:v,className:"rounded-lg bg-purple-600 text-white px-4",children:"="})]}),n.jsx("div",{className:"grid grid-cols-9 gap-1",children:p.map(w=>n.jsx("button",{onClick:()=>y(w),className:"rounded-lg border py-2 hover:bg-slate-50",children:w},w))}),n.jsxs("div",{className:"text-sm text-slate-600",children:["Result: ",n.jsx("span",{className:"font-semibold text-slate-900",children:d})]})]})}function Qb(o=768){const[l,d]=b.useState(()=>typeof window<"u"?window.innerWidth<o:!1);return b.useEffect(()=>{if(typeof window>"u")return;const c=()=>d(window.innerWidth<o);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[o]),l}function Xb({open:o,onClose:l,order:d,currentIdx:c,setCurrentIdx:p,answers:y}){return n.jsx(_n,{open:o,onClose:l,title:"Questions",maxW:"max-w-lg",overlayClass:"bg-black/30",children:n.jsx("ol",{className:"space-y-3",children:d.map((v,w)=>{const f=it[v].id,g=y[f],C=g?g===it[v].correct?"correct":"incorrect":"unanswered",B=w===c?"ring-2 ring-purple-300":C==="correct"?"ring-2 ring-emerald-300":C==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>{p(w),l()},className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${B}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",w+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:it[v].stem.replace(/<[^>]*>/g,"")}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:it[v].topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:it[v].difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${C==="correct"?"bg-emerald-500":C==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},f)})})})}function Yb({open:o,onClose:l,answers:d,order:c,elapsedMs:p,jumpTo:y}){const v=c.length,w=b.useMemo(()=>c.reduce((M,z)=>M+(d[it[z].id]===it[z].correct?1:0),0),[d,c]),f=Math.round(w/Math.max(v,1)*100),g=b.useMemo(()=>c.map((M,z)=>({i:z,q:it[M],chosen:d[it[M].id]})).filter(({q:M,chosen:z})=>z&&z!==M.correct),[d,c]),C=Math.floor(p/6e4),B=Math.floor(p%6e4/1e3);return n.jsx(_n,{open:o,onClose:l,title:"Results",maxW:"max-w-2xl",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Marks"}),n.jsxs("p",{className:"text-2xl font-bold",children:[w," / ",v]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Percentage"}),n.jsxs("p",{className:"text-2xl font-bold",children:[f,"%"]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Time"}),n.jsxs("p",{className:"text-2xl font-bold",children:[C,"m ",B,"s"]})]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Questions to review"}),g.length===0?n.jsx("p",{className:"text-slate-600 text-sm",children:"Nice — no incorrect answers 🎉"}):n.jsx("ul",{className:"space-y-2",children:g.map(({i:M,q:z,chosen:W})=>n.jsxs("li",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Q",M+1," — ",z.vignetteTitle||"Vignette"]}),n.jsxs("p",{className:"text-sm text-slate-600",children:["Chosen: ",n.jsx("span",{className:"font-semibold",children:W})," • Correct:"," ",n.jsx("span",{className:"font-semibold",children:z.correct})]})]}),n.jsx("button",{className:"shrink-0 rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-50",onClick:()=>{y(M),l()},children:"Go to question →"})]},z.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:l,className:"rounded-lg border px-4 py-2 hover:bg-slate-50",children:"Close"})})]})})}function Kb(){const o=Mi(),l=Qb(),[d,c]=b.useState(it.map((h,k)=>k)),[p,y]=b.useState(!1),[v,w]=b.useState(!1),[f,g]=b.useState(0),[C,B]=b.useState({}),[M,z]=b.useState({}),[W,Q]=b.useState(!1),[X,U]=b.useState(!1),[ie,J]=b.useState(!1),K=b.useRef(null),q=b.useRef(null),[re,ye]=b.useState(!1),ue=b.useRef(null),V=it[d[f]],te=it.length,De=(f+1)/Math.max(te,1)*100,ke=()=>{const h=ue.current;if(!h)return;const k=window.getSelection&&window.getSelection();if(!(!k||k.rangeCount===0))try{const P=k.getRangeAt(0);if(!h.contains(P.commonAncestorContainer)||String(P).trim().length===0)return;const G=document.createElement("mark");G.className="bg-yellow-200 rounded px-0.5",P.surroundContents(G),k.removeAllRanges()}catch{const P=h.getAttribute("contenteditable");h.setAttribute("contenteditable","true"),document.execCommand("hiliteColor",!1,"#FEF08A"),P!==null?h.setAttribute("contenteditable",P):h.removeAttribute("contenteditable")}};b.useEffect(()=>{if(!re)return;const h=()=>ke();return document.addEventListener("mouseup",h),()=>document.removeEventListener("mouseup",h)},[re]);const Oe=()=>{const h=ue.current;h&&h.querySelectorAll("mark").forEach(k=>{const P=k.parentNode;for(;k.firstChild;)P.insertBefore(k.firstChild,k);P.removeChild(k)})},Z=h=>{const k=h==="random"?_b(it.map((P,G)=>G)):it.map((P,G)=>G);c(k),g(0),B({}),z({}),y(!0),K.current=Date.now(),q.current=null};b.useEffect(()=>{const h=k=>{k.key==="ArrowRight"&&f<te-1&&g(P=>P+1),k.key==="ArrowLeft"&&f>0&&g(P=>P-1)};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[f,te]);const _=()=>z(h=>({...h,[V.id]:!0})),S=()=>{f>=te-1||g(k=>k+1)},H=()=>f>0&&g(h=>h-1),F=f===te-1&&!!M[V.id];b.useEffect(()=>{F&&!q.current&&(q.current=Date.now())},[F]);const E=b.useMemo(()=>{if(K.current==null)return 0;const h=q.current||Date.now();return Math.max(0,h-K.current)},[ie,M,f]);return n.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[n.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-slate-200",children:n.jsxs("div",{className:"mx-auto max-w-[1100px] px-4 py-3 flex items-center justify-between",children:[n.jsx(nt,{to:"/",className:"text-2xl font-extrabold text-purple-700",children:"Mediwise"}),n.jsxs("div",{className:"flex items-center gap-4 w-[320px]",children:[n.jsxs("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:["Question ",Math.min(f+1,te)," of ",te]}),n.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${De}%`}})})]}),n.jsx("button",{onClick:()=>o("/diseases/geriatrics"),className:"rounded-xl px-4 py-2 border border-slate-200 hover:bg-slate-50 text-slate-700",children:"End Session"})]})}),n.jsx("button",{onClick:()=>w(h=>!h),className:["fixed z-50 h-10 w-10 rounded-xl shadow-sm border bg-white flex items-center justify-center text-slate-600 hover:bg-slate-50 transition-all",l?"right-4 bottom-20":"top-[120px]"].join(" "),style:l?{}:{left:v?316:12},title:v?"Hide questions":"Show questions",children:v?"‹":"›"}),n.jsx("div",{className:"mx-auto max-w-[1100px] px-2 md:px-4 py-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("aside",{className:["hidden md:block","fixed top-[64px] left-0 z-40 h-[calc(100vh-64px)] w-[300px]","bg-white border-r border-slate-200 shadow","transition-transform",v?"translate-x-0":"-translate-x-[310px]"].join(" "),children:n.jsxs("div",{className:"h-full overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-slate-200",children:[n.jsx("p",{className:"font-semibold",children:"Questions"}),n.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs",children:[n.jsxs("span",{className:"flex items-center gap-1 text-emerald-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"})," ","Correct"]}),n.jsxs("span",{className:"flex items-center gap-1 text-rose-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"})," ","Incorrect"]}),n.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})," ","Unanswered"]})]})]}),n.jsx("ol",{className:"p-3 space-y-3",children:d.map((h,k)=>{const P=it[h],G=C[P.id],Y=G?G===P.correct?"correct":"incorrect":"unanswered",pe=k===f?"ring-2 ring-purple-300":Y==="correct"?"ring-2 ring-emerald-300":Y==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>g(k),className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${pe}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",k+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:P.stem.replace(/<[^>]*>/g,"")}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:P.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:P.difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${Y==="correct"?"bg-emerald-500":Y==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},P.id)})}),n.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[n.jsx("button",{onClick:()=>Q(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Lab values"}),n.jsx("button",{onClick:()=>U(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Calculator"})]})]})}),n.jsx("div",{className:`transition-all ${v&&!l?"md:pl-[320px]":"ml-0"}`,children:n.jsxs("div",{className:"mx-auto md:pr-[56px]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:V.vignetteTitle||"Clinical Vignette"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"mr-2 text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:V.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:V.difficulty})]})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["ID: ",V.id]})]}),n.jsxs("div",{className:"p-6 space-y-5",ref:ue,children:[n.jsx("div",{className:"text-[15px] leading-relaxed",dangerouslySetInnerHTML:{__html:V.stem}}),V.image&&n.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200",children:n.jsx("img",{src:V.image,alt:"Figure",className:"w-full block"})}),n.jsx("div",{className:"space-y-3",children:V.options.map(h=>{const k=C[V.id],P=!!M[V.id],G=h.key===V.correct,Y=P?G?"border-emerald-300 bg-emerald-50":k===h.key?"border-rose-300 bg-rose-50":"border-slate-200 bg-white":"border-slate-200 bg-white hover:bg-slate-50";return n.jsxs("label",{className:`flex items-center gap-3 rounded-xl border px-4 py-3 cursor-pointer ${Y}`,children:[n.jsx("input",{type:"radio",name:`ans-${V.id}`,className:"h-4 w-4 text-purple-600",checked:k===h.key,onChange:()=>B(pe=>({...pe,[V.id]:h.key})),disabled:P}),n.jsxs("span",{className:"text-[15px]",children:[n.jsxs("span",{className:"font-medium",children:[h.key,"."]})," ",h.text]})]},h.key)})}),n.jsx("div",{className:"pt-2 flex flex-wrap gap-2",children:M[V.id]?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:S,disabled:f>=te-1,className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Next Question →"}),n.jsx("button",{onClick:H,disabled:f===0,className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"← Previous"}),F&&n.jsx("button",{onClick:()=>J(!0),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Results"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:_,disabled:!C[V.id],className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Submit Answer"}),n.jsx("button",{onClick:()=>B(h=>({...h,[V.id]:void 0})),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Clear"})]})}),M[V.id]&&n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[n.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:"Explanation"}),n.jsx("div",{className:"space-y-2 text-slate-800",children:V.explanation_detail?.map((h,k)=>n.jsx("p",{className:"leading-relaxed",children:n.jsx(Gb,{text:h})},k))})]})})]})]}),n.jsxs("div",{className:"fixed right-4 top-[140px] md:flex md:flex-col md:gap-3 hidden",children:[n.jsx("button",{title:"Calculator",onClick:()=>U(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧮"}),n.jsx("button",{title:"Lab values",onClick:()=>Q(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧪"}),n.jsx("button",{title:"Toggle highlight mode",onClick:()=>ye(h=>!h),className:`h-10 w-10 rounded-lg border shadow-sm hover:bg-slate-50 ${re?"border-purple-400 bg-purple-50 text-purple-700":"border-slate-200 bg-white text-slate-700"}`,children:"🖍️"}),n.jsx("button",{title:"Clear highlights",onClick:Oe,className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧽"})]})]})})]})}),n.jsx(_n,{open:W,onClose:()=>Q(!1),title:"Common Lab Values",children:n.jsx(Fb,{})}),n.jsx(_n,{open:X,onClose:()=>U(!1),title:"Calculator",children:n.jsx(Wb,{})}),n.jsx(Xb,{open:l&&v,onClose:()=>w(!1),order:d,currentIdx:f,setCurrentIdx:g,answers:C}),n.jsx(Yb,{open:ie,onClose:()=>J(!1),answers:C,order:d,elapsedMs:E,jumpTo:h=>g(h)}),n.jsx(Zb,{open:!p,onPick:Z})]})}function Zb({open:o,onPick:l}){return b.useEffect(()=>{if(o){const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=d}},[o]),n.jsxs(_n,{open:o,onClose:()=>{},title:"Start Frontotemporal Dementia Bank",maxW:"max-w-lg",overlayClass:"bg-white",children:[n.jsx("p",{className:"text-slate-600 mb-4",children:"How would you like to order the questions?"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("button",{onClick:()=>l("random"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Randomised"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Shuffle questions for exam-style practice."})]}),n.jsxs("button",{onClick:()=>l("number"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"By question number"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Go in sequence (Q1, Q2, Q3 …)."})]})]})]})}function $b({text:o=""}){let l=String(o);return l=l.replace(/&(?![a-zA-Z#0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=l.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),l=l.replace(/(^|[^*])\*(?!\*)(.+?)\*(?!\*)/g,"$1<em>$2</em>"),l=l.replace(/_(.+?)_/g,"<em>$1</em>"),l=l.replace(/==(.+?)==/g,"<mark style='background-color:#FEF3C7' class='px-1 rounded'>$1</mark>"),Object.entries({yellow:"#FEF3C7",green:"#D1FAE5",blue:"#E0F2FE",red:"#FFE4E6",purple:"#EDE9FE"}).forEach(([c,p])=>{const y=new RegExp(`\\[${c}\\]([\\s\\S]+?)\\[\\/${c}\\]`,"gi");l=l.replace(y,`<mark style="background-color:${p}" class="px-1 rounded">$1</mark>`)}),l=l.replace(/&lt;strong&gt;/g,"<strong>").replace(/&lt;\/strong&gt;/g,"</strong>").replace(/&lt;em&gt;/g,"<em>").replace(/&lt;\/em&gt;/g,"</em>").replace(/&lt;mark /g,"<mark ").replace(/&lt;\/mark&gt;/g,"</mark>"),n.jsx("span",{dangerouslySetInnerHTML:{__html:l}})}const at=[{id:"DEL-DEF-40001",topic:"Geriatrics • Delirium — Definition & Core Concept",difficulty:"Medium",vignetteTitle:"What exactly is delirium?",stem:"An 83-year-old nursing-home resident becomes acutely confused over 24 hours after starting oxycodone for a hip fracture. Staff note fluctuating alertness, disorganized thinking, and poor attention; symptoms worsen at night. Vitals show low-grade fever; oxygen saturation is 91% on room air. Which statement best captures the **core definition** of delirium?",options:[{key:"A",text:"A chronic, progressive decline in memory with preserved attention and a stable level of consciousness"},{key:"B",text:"An acute and fluctuating disturbance in attention and awareness, plus additional cognitive deficits, due to a medical condition or substance"},{key:"C",text:"A fixed delusional belief system without changes in arousal or attention"},{key:"D",text:"A lifelong neurodevelopmental disorder characterized by impaired social communication"},{key:"E",text:"A primary mood disorder causing persistent low mood and anhedonia without inattention"}],correct:"B",explanation_detail:["**1️⃣ Why it is the correct answer**","- **Delirium** is defined by an **acute (hours–days) onset** and **fluctuating** course of **inattention and impaired awareness**, with additional cognitive changes (memory, disorientation, language, visuospatial, perception).","- There must be **evidence of a precipitating medical condition or substance** (intoxication/withdrawal/medication effect).","- It is **not better explained** by an established neurocognitive disorder and does **not occur exclusively in coma**; level of arousal is commonly altered.","- [blue]Core tool:[/blue] **CAM** requires (1) acute/fluctuating + (2) inattention **and** either (3) disorganized thinking or (4) altered consciousness.","- [yellow]Essentials:[/yellow] **Acute + fluctuating + inattention + medical/substance trigger** = delirium. 🧠⚡","**2️⃣ Why the other options are wrong**","- **A (chronic dementia):** Describes **gradual** decline with **preserved attention** early and **stable arousal**—opposite of delirium’s acute, fluctuating inattention.","- **C (primary psychosis):** Fixed delusions can occur in delirium, but **attention/arousal are typically normal** in isolated psychosis.","- **D (neurodevelopmental disorder):** Not an acute confusional state; unrelated time course and mechanisms.","- **E (major depression):** May mimic cognitive issues, but **inattention with fluctuating consciousness** and acute onset point away from primary mood disorder.","**3️⃣ Investigations / Diagnostic Steps (in order)**","- **Initial Diagnostic step:** Bedside **CAM screen** + vitals, **fingerstick glucose**, pulse oximetry. **Confirms?** ❌ CAM identifies syndrome; etiology not yet confirmed.","- **Next Diagnostic step:** **Search for causes**: review meds (anticholinergics, opioids, benzos), **CBC/CMP**, Ca/Mg/Phos, **UA/urine culture**, **CXR** if respiratory signs, **ECG**, consider **TSH/B12** if subacute. **Confirms?** ➕ Points to trigger(s).","- **Best Diagnostic Step:** **Targeted tests** based on clues (ABG/lactate, blood cultures, troponin, CT head if focal deficit/trauma, EEG if nonconvulsive seizures). **Confirms?** ✅ Establish precipitant(s).","**4️⃣ Management / Treatment in order**","- **Initial Management:** [green]Treat the cause[/green] (oxygenate, antibiotics for infection, fluids/electrolytes, pain control with non-deliriogenic strategies).","- **First Line (non-pharm):** [green]DELIRIUM BUNDLE[/green] — orientation cues, glasses/hearing aids, sleep hygiene, mobilization, hydration, bowel/bladder care, minimize tethers/restraints, **deprescribe deliriogenic meds**.","- **Gold Standard (for dangerous agitation):** **Low-dose antipsychotic** (e.g., haloperidol) **only if** patient endangers self/others; **avoid** in Parkinson’s/Lewy—use **quetiapine**. [red]Avoid benzodiazepines[/red] **except** for **alcohol/benzo withdrawal**.","**5️⃣ Full Pathophysiology Explained**","- Delirium reflects **acute network dysconnectivity** with **thalamocortical arousal** and **frontoparietal attention** failure.","- Drivers include **neuroinflammation**, impaired **acetylcholine** signaling, excess **dopamine**, metabolic/oxygenation insults, and sleep–wake disruption.","- [blue]EEG[/blue]: typically **generalized slowing** (delta/theta); triphasic waves may appear in metabolic/hepatic encephalopathy.","- Subtypes: **hyperactive**, **hypoactive** (easily missed), and **mixed**.","**6️⃣ Symptoms — core pattern recognition**","- **Inattention** 🎯 → cannot maintain/repeat digits or months backward.","- **Altered awareness/arousal** 🌙 → drowsy, hypervigilant, or fluctuating (worse at night: **sundowning**).","- **Disorganized thinking & disorientation** 🧩 → rambling, tangential, confused about time/place.","- **Perceptual disturbances** 👀 → illusions/hallucinations, often visual.","- **Reversibility clue:** ==find and fix the trigger(s)== leads to improvement; dementia alone does not fluctuate like this.","- [purple]Mnemonic:[/purple] “**A-F IT**” → **A**cute-**F**luctuating **I**nattention from a **T**rigger."]}];function Jb(o){const l=[...o];for(let d=l.length-1;d>0;d--){const c=Math.floor(Math.random()*(d+1));[l[d],l[c]]=[l[c],l[d]]}return l}const ev=/^[0-9+\-*/().\s^%]*$/;function tv(o){if(!ev.test(o))throw new Error("Invalid characters");const l=o.replace(/(\d+(?:\.\d+)?)\s*\^\s*(\d+(?:\.\d+)?)/g,"Math.pow($1,$2)");return Function(`"use strict"; return (${l||0});`)()}function Un({open:o,onClose:l,title:d,children:c,maxW:p="max-w-2xl",overlayClass:y="bg-black/30"}){return o?n.jsxs("div",{className:"fixed inset-0 z-[60]",children:[n.jsx("div",{className:`absolute inset-0 ${y}`,onClick:l}),n.jsx("div",{className:"absolute inset-0 overflow-auto",children:n.jsx("div",{className:`mx-auto ${p} p-4`,children:n.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:d}),n.jsx("button",{onClick:l,className:"px-2 py-1 rounded-lg text-slate-600 hover:bg-slate-100",children:"✕"})]}),n.jsx("div",{className:"p-4",children:c})]})})})]}):null}function iv(){const o=[{name:"Hb",value:"M 13–17 g/dL • F 12–15"},{name:"WBC",value:"4–11 ×10⁹/L"},{name:"Platelets",value:"150–400 ×10⁹/L"},{name:"Na⁺",value:"135–145 mmol/L"},{name:"K⁺",value:"3.5–5.0 mmol/L"},{name:"Cl⁻",value:"98–106 mmol/L"},{name:"HCO₃⁻",value:"22–28 mmol/L"},{name:"Urea",value:"2.5–7.1 mmol/L"},{name:"Creatinine",value:"M 60–110 • F 45–90 µmol/L"},{name:"Glucose (fasting)",value:"3.9–5.5 mmol/L"},{name:"Lactate",value:"0.5–2.2 mmol/L"},{name:"INR",value:"0.8–1.2 (lab-dependent)"},{name:"pH (ABG)",value:"7.35–7.45"},{name:"PaCO₂",value:"4.7–6.0 kPa"},{name:"PaO₂ (room air)",value:"10–13 kPa"},{name:"Troponin (99th %ile)",value:"lab-specific cut-off"}];return n.jsxs("div",{className:"max-h-[60vh] overflow-auto",children:[n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-slate-600",children:[n.jsx("th",{className:"py-2 pr-3",children:"Test"}),n.jsx("th",{className:"py-2",children:"Reference Range"})]})}),n.jsx("tbody",{children:o.map(l=>n.jsxs("tr",{className:"border-t border-slate-200",children:[n.jsx("td",{className:"py-2 pr-3 font-medium",children:l.name}),n.jsx("td",{className:"py-2 text-slate-700",children:l.value})]},l.name))})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Ranges vary by lab and context; this is for quick revision."})]})}function av(){const[o,l]=b.useState(""),[d,c]=b.useState(""),p=["7","8","9","/","4","5","6","*","1","2","3","-","0",".","(",")","+","^"],y=w=>l(f=>f+w),v=()=>{try{c(String(tv(o)))}catch{c("Error")}};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{className:"flex-1 rounded-lg border border-slate-300 px-3 py-2",value:o,onChange:w=>l(w.target.value),placeholder:"e.g. (12.5*3)/4"}),n.jsx("button",{onClick:()=>{l(""),c("")},className:"rounded-lg border px-3",children:"Clear"}),n.jsx("button",{onClick:v,className:"rounded-lg bg-purple-600 text-white px-4",children:"="})]}),n.jsx("div",{className:"grid grid-cols-9 gap-1",children:p.map(w=>n.jsx("button",{onClick:()=>y(w),className:"rounded-lg border py-2 hover:bg-slate-50",children:w},w))}),n.jsxs("div",{className:"text-sm text-slate-600",children:["Result: ",n.jsx("span",{className:"font-semibold text-slate-900",children:d})]})]})}function nv(o=768){const[l,d]=b.useState(()=>typeof window<"u"?window.innerWidth<o:!1);return b.useEffect(()=>{if(typeof window>"u")return;const c=()=>d(window.innerWidth<o);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[o]),l}function sv({open:o,onClose:l,order:d,currentIdx:c,setCurrentIdx:p,answers:y}){return n.jsx(Un,{open:o,onClose:l,title:"Questions",maxW:"max-w-lg",overlayClass:"bg-black/30",children:n.jsx("ol",{className:"space-y-3",children:d.map((v,w)=>{const f=at[v].id,g=y[f],C=g?g===at[v].correct?"correct":"incorrect":"unanswered",B=w===c?"ring-2 ring-purple-300":C==="correct"?"ring-2 ring-emerald-300":C==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>{p(w),l()},className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${B}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",w+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:at[v].stem.replace(/<[^>]*>/g,"")}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:at[v].topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:at[v].difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${C==="correct"?"bg-emerald-500":C==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},f)})})})}function rv({open:o,onClose:l,answers:d,order:c,elapsedMs:p,jumpTo:y}){const v=c.length,w=b.useMemo(()=>c.reduce((M,z)=>M+(d[at[z].id]===at[z].correct?1:0),0),[d,c]),f=Math.round(w/Math.max(v,1)*100),g=b.useMemo(()=>c.map((M,z)=>({i:z,q:at[M],chosen:d[at[M].id]})).filter(({q:M,chosen:z})=>z&&z!==M.correct),[d,c]),C=Math.floor(p/6e4),B=Math.floor(p%6e4/1e3);return n.jsx(Un,{open:o,onClose:l,title:"Results",maxW:"max-w-2xl",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Marks"}),n.jsxs("p",{className:"text-2xl font-bold",children:[w," / ",v]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Percentage"}),n.jsxs("p",{className:"text-2xl font-bold",children:[f,"%"]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Time"}),n.jsxs("p",{className:"text-2xl font-bold",children:[C,"m ",B,"s"]})]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Questions to review"}),g.length===0?n.jsx("p",{className:"text-slate-600 text-sm",children:"No incorrect answers — excellent 🎉"}):n.jsx("ul",{className:"space-y-2",children:g.map(({i:M,q:z,chosen:W})=>n.jsxs("li",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Q",M+1," — ",z.vignetteTitle||"Vignette"]}),n.jsxs("p",{className:"text-sm text-slate-600",children:["Chosen: ",n.jsx("span",{className:"font-semibold",children:W})," • Correct:"," ",n.jsx("span",{className:"font-semibold",children:z.correct})]})]}),n.jsx("button",{className:"shrink-0 rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-50",onClick:()=>{y(M),l()},children:"Go to question →"})]},z.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:l,className:"rounded-lg border px-4 py-2 hover:bg-slate-50",children:"Close"})})]})})}function ov(){const o=Mi(),l=nv(),[d,c]=b.useState(at.map((E,h)=>h)),[p,y]=b.useState(!1),[v,w]=b.useState(!1),[f,g]=b.useState(0),[C,B]=b.useState({}),[M,z]=b.useState({}),[W,Q]=b.useState(!1),[X,U]=b.useState(!1),[ie,J]=b.useState(!1),K=b.useRef(null),q=b.useRef(null),[re,ye]=b.useState(!1),ue=b.useRef(null),V=at[d[f]],te=at.length,De=(f+1)/Math.max(te,1)*100,ke=()=>{const E=ue.current;if(!E)return;const h=window.getSelection&&window.getSelection();if(!(!h||h.rangeCount===0))try{const k=h.getRangeAt(0);if(!E.contains(k.commonAncestorContainer)||String(k).trim().length===0)return;const P=document.createElement("mark");P.className="bg-yellow-200 rounded px-0.5",k.surroundContents(P),h.removeAllRanges()}catch{const k=E.getAttribute("contenteditable");E.setAttribute("contenteditable","true"),document.execCommand("hiliteColor",!1,"#FEF08A"),k!==null?E.setAttribute("contenteditable",k):E.removeAttribute("contenteditable")}};b.useEffect(()=>{if(!re)return;const E=()=>ke();return document.addEventListener("mouseup",E),()=>document.removeEventListener("mouseup",E)},[re]);const Oe=()=>{const E=ue.current;E&&E.querySelectorAll("mark").forEach(h=>{const k=h.parentNode;for(;h.firstChild;)k.insertBefore(h.firstChild,h);k.removeChild(h)})},Z=E=>{const h=E==="random"?Jb(at.map((k,P)=>P)):at.map((k,P)=>P);c(h),g(0),B({}),z({}),y(!0),K.current=Date.now(),q.current=null};b.useEffect(()=>{const E=h=>{h.key==="ArrowRight"&&f<te-1&&g(k=>k+1),h.key==="ArrowLeft"&&f>0&&g(k=>k-1)};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[f,te]);const _=()=>z(E=>({...E,[V.id]:!0})),S=()=>{f>=te-1||g(h=>h+1)},H=()=>f>0&&g(E=>E-1),F=f===te-1&&!!M[V.id];return b.useEffect(()=>{F&&!q.current&&(q.current=Date.now())},[F]),b.useMemo(()=>{if(K.current==null)return 0;const E=q.current||Date.now();return Math.max(0,E-K.current)},[ie,M,f]),n.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[n.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-slate-200",children:n.jsxs("div",{className:"mx-auto max-w-[1100px] px-4 py-3 flex items-center justify-between",children:[n.jsx(nt,{to:"/",className:"text-2xl font-extrabold text-purple-700",children:"Mediwise"}),n.jsxs("div",{className:"flex items-center gap-4 w-[320px]",children:[n.jsxs("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:["Question ",Math.min(f+1,te)," of ",te]}),n.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${De}%`}})})]}),n.jsx("button",{onClick:()=>o("/diseases/geriatrics"),className:"rounded-xl px-4 py-2 border border-slate-200 hover:bg-slate-50 text-slate-700",children:"End Session"})]})}),n.jsx("button",{onClick:()=>w(E=>!E),className:["fixed z-50 h-10 w-10 rounded-xl shadow-sm border bg-white flex items-center justify-center text-slate-600 hover:bg-slate-50 transition-all",l?"right-4 bottom-20":"top-[120px]"].join(" "),style:l?{}:{left:v?316:12},title:v?"Hide questions":"Show questions",children:v?"‹":"›"}),n.jsx("div",{className:"mx-auto max-w-[1100px] px-2 md:px-4 py-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("aside",{className:["hidden md:block","fixed top-[64px] left-0 z-40 h-[calc(100vh-64px)] w-[300px]","bg-white border-r border-slate-200 shadow","transition-transform",v?"translate-x-0":"-translate-x-[310px]"].join(" "),children:n.jsxs("div",{className:"h-full overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-slate-200",children:[n.jsx("p",{className:"font-semibold",children:"Questions"}),n.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs",children:[n.jsxs("span",{className:"flex items-center gap-1 text-emerald-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"})," ","Correct"]}),n.jsxs("span",{className:"flex items-center gap-1 text-rose-700",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"})," ","Incorrect"]}),n.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300"})," ","Unanswered"]})]})]}),n.jsx("ol",{className:"p-3 space-y-3",children:d.map((E,h)=>{const k=at[E],P=C[k.id],G=P?P===k.correct?"correct":"incorrect":"unanswered",Y=h===f?"ring-2 ring-purple-300":G==="correct"?"ring-2 ring-emerald-300":G==="incorrect"?"ring-2 ring-rose-300":"";return n.jsx("button",{onClick:()=>g(h),className:`w-full text-left rounded-xl border border-slate-200 bg-white hover:bg-slate-50 p-3 ${Y}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("p",{className:"font-medium",children:["Q",h+1]}),n.jsx("p",{className:"text-sm text-slate-600 truncate",children:k.stem.replace(/<[^>]*>/g,"")}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("span",{className:"text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:k.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:k.difficulty})]})]}),n.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${G==="correct"?"bg-emerald-500":G==="incorrect"?"bg-rose-500":"bg-slate-300"}`})]})},k.id)})}),n.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[n.jsx("button",{onClick:()=>Q(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Lab values"}),n.jsx("button",{onClick:()=>U(!0),className:"flex-1 rounded-xl border px-3 py-2 hover:bg-slate-50",children:"Calculator"})]})]})}),n.jsx("div",{className:`transition-all ${v&&!l?"md:pl-[320px]":"ml-0"}`,children:n.jsxs("div",{className:"mx-auto md:pr-[56px]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:V.vignetteTitle||"Clinical Vignette"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"mr-2 text-xs rounded-full bg-purple-100 text-purple-700 px-2 py-0.5",children:V.topic}),n.jsx("span",{className:"text-xs rounded-full bg-amber-100 text-amber-700 px-2 py-0.5",children:V.difficulty})]})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["ID: ",V.id]})]}),n.jsxs("div",{className:"p-6 space-y-5",ref:ue,children:[n.jsx("div",{className:"text-[15px] leading-relaxed",dangerouslySetInnerHTML:{__html:V.stem}}),V.image&&n.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-200",children:n.jsx("img",{src:V.image,alt:"Figure",className:"w-full block"})}),n.jsx("div",{className:"space-y-3",children:V.options.map(E=>{const h=C[V.id],k=!!M[V.id],P=E.key===V.correct,G=k?P?"border-emerald-300 bg-emerald-50":h===E.key?"border-rose-300 bg-rose-50":"border-slate-200 bg-white":"border-slate-200 bg-white hover:bg-slate-50";return n.jsxs("label",{className:`flex items-center gap-3 rounded-xl border px-4 py-3 cursor-pointer ${G}`,children:[n.jsx("input",{type:"radio",name:`ans-${V.id}`,className:"h-4 w-4 text-purple-600",checked:h===E.key,onChange:()=>B(Y=>({...Y,[V.id]:E.key})),disabled:k}),n.jsxs("span",{className:"text-[15px]",children:[n.jsxs("span",{className:"font-medium",children:[E.key,"."]})," ",E.text]})]},E.key)})}),n.jsx("div",{className:"pt-2 flex flex-wrap gap-2",children:M[V.id]?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:S,disabled:f>=te-1,className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Next Question →"}),n.jsx("button",{onClick:H,disabled:f===0,className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"← Previous"}),f===te-1&&n.jsx("button",{onClick:()=>J(!0),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Results"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:_,disabled:!C[V.id],className:"rounded-xl bg-purple-600 text-white px-4 py-2 disabled:opacity-50",children:"Submit Answer"}),n.jsx("button",{onClick:()=>B(E=>({...E,[V.id]:void 0})),className:"rounded-xl border px-4 py-2 hover:bg-slate-50",children:"Clear"})]})}),M[V.id]&&n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsx("p",{className:"font-semibold text-slate-900 mb-2",children:"Explanation"}),n.jsx("div",{className:"space-y-2 text-slate-800",children:V.explanation_detail?.map((E,h)=>n.jsx("p",{className:"leading-relaxed",children:n.jsx($b,{text:E})},h))})]})})]})]}),n.jsxs("div",{className:"fixed right-4 top-[140px] md:flex md:flex-col md:gap-3 hidden",children:[n.jsx("button",{title:"Calculator",onClick:()=>U(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧮"}),n.jsx("button",{title:"Lab values",onClick:()=>Q(!0),className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧪"}),n.jsx("button",{title:"Toggle highlight mode",onClick:()=>ye(E=>!E),className:`h-10 w-10 rounded-lg border shadow-sm hover:bg-slate-50 ${re?"border-purple-400 bg-purple-50 text-purple-700":"border-slate-200 bg-white text-slate-700"}`,children:"🖍️"}),n.jsx("button",{title:"Clear highlights",onClick:Oe,className:"h-10 w-10 rounded-lg border border-slate-200 bg-white shadow-sm hover:bg-slate-50 text-slate-700",children:"🧽"})]})]})})]})}),n.jsx(Un,{open:W,onClose:()=>Q(!1),title:"Common Lab Values",children:n.jsx(iv,{})}),n.jsx(Un,{open:X,onClose:()=>U(!1),title:"Calculator",children:n.jsx(av,{})}),n.jsx(sv,{open:l&&v,onClose:()=>w(!1),order:d,currentIdx:f,setCurrentIdx:g,answers:C}),n.jsx(rv,{open:ie,onClose:()=>J(!1),answers:C,order:d,elapsedMs:(()=>{if(K.current==null)return 0;const E=q.current||Date.now();return Math.max(0,E-K.current)})(),jumpTo:E=>g(E)}),n.jsx(lv,{open:!p,onPick:Z})]})}function lv({open:o,onPick:l}){return b.useEffect(()=>{if(o){const d=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=d}},[o]),n.jsxs(Un,{open:o,onClose:()=>{},title:"Start Delirium Question Bank",maxW:"max-w-lg",overlayClass:"bg-white",children:[n.jsx("p",{className:"text-slate-600 mb-4",children:"How would you like to order the questions?"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("button",{onClick:()=>l("random"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"Randomised"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Shuffle questions for exam-style practice."})]}),n.jsxs("button",{onClick:()=>l("number"),className:"rounded-xl border border-slate-200 bg-white hover:bg-slate-50 px-4 py-3 text-left",children:[n.jsx("p",{className:"font-semibold text-slate-900",children:"By question number"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Go in sequence (Q1, Q2, Q3 …)."})]})]})]})}function cv(){return n.jsxs(Qf,{children:[n.jsx(ve,{path:"/",element:n.jsx(jy,{})}),n.jsx(ve,{path:"/plabable",element:n.jsx(Py,{})}),n.jsx(ve,{path:"/plabable/acute-emergency",element:n.jsx(Vy,{})}),n.jsx(ve,{path:"/diseases/cardiovascular",element:n.jsx(_y,{})}),n.jsx(ve,{path:"/diseases/respiratory",element:n.jsx(Uy,{})}),n.jsx(ve,{path:"/diseases/gastrointestinal",element:n.jsx(qy,{})}),n.jsx(ve,{path:"/diseases/renal",element:n.jsx(Fy,{})}),n.jsx(ve,{path:"/diseases/endocrine",element:n.jsx(Wy,{})}),n.jsx(ve,{path:"/diseases/neurology",element:n.jsx(Qy,{})}),n.jsx(ve,{path:"/diseases/msk",element:n.jsx(Xy,{})}),n.jsx(ve,{path:"/diseases/hematology",element:n.jsx(Yy,{})}),n.jsx(ve,{path:"/diseases/oncology",element:n.jsx(Ky,{})}),n.jsx(ve,{path:"/diseases/infectious",element:n.jsx(Zy,{})}),n.jsx(ve,{path:"/diseases/allergy-immunology",element:n.jsx($y,{})}),n.jsx(ve,{path:"/diseases/psychiatry",element:n.jsx(Jy,{})}),n.jsx(ve,{path:"/diseases/dermatology",element:n.jsx(eb,{})}),n.jsx(ve,{path:"/diseases/reproductive",element:n.jsx(tb,{})}),n.jsx(ve,{path:"/diseases/pediatrics",element:n.jsx(ib,{})}),n.jsx(ve,{path:"/diseases/ophthalmology",element:n.jsx(ab,{})}),n.jsx(ve,{path:"/diseases/ent",element:n.jsx(nb,{})}),n.jsx(ve,{path:"/diseases/geriatrics",element:n.jsx(rb,{})}),n.jsx(ve,{path:"/diseases/emergency",element:n.jsx(ob,{})}),n.jsx(ve,{path:"/diseases/toxicology",element:n.jsx(lb,{})}),n.jsx(ve,{path:"/diseases/palliative",element:n.jsx(cb,{})}),n.jsx(ve,{path:"/diseases/geriatrics/dementia-alzheimers",element:n.jsx(vb,{})}),n.jsx(ve,{path:"/diseases/geriatrics/vascular-dementia",element:n.jsx(jb,{})}),n.jsx(ve,{path:"/diseases/geriatrics/dementia-lewy-bodies",element:n.jsx(Ob,{})}),n.jsx(ve,{path:"/diseases/geriatrics/frontotemporal-dementia",element:n.jsx(Kb,{})}),n.jsx(ve,{path:"/diseases/geriatrics/delirium",element:n.jsx(ov,{})})]})}af.createRoot(document.getElementById("root")).render(n.jsx(rh.StrictMode,{children:n.jsx(fy,{children:n.jsx(cv,{})})}));
